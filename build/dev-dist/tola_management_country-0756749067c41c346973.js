(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"4L+s":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return y}));var r=n("q1tI"),a=n.n(r),i=n("i8i4"),o=n.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){u(o,e);var t,n,r,i=p(o);function o(e){var t;return s(this,o),(t=i.call(this,e)).placement=e.placement||null,t.popoverRef=e.innerRef||a.a.createRef(),t.iconClass=e.iconClass||"far fa-question-circle",t.iconStyle=e.iconStyle||{},t.linkStyle={},e.linkHeight&&(t.linkStyle.height=e.linkHeight),t}return t=o,(n=[{key:"render",value:function(){return a.a.createElement("a",{tabIndex:"0",style:this.linkStyle,"data-toggle":"popover","data-trigger":"focus","data-html":"true","data-placement":this.placement,"data-content":this.props.content,className:this.props.className,ref:this.popoverRef},a.a.createElement("i",{"aria-label":this.props.ariaText,style:this.iconStyle,className:this.iconClass}))}}])&&l(t.prototype,n),r&&l(t,r),o}(a.a.Component),y=function(e){u(n,e);var t=p(n);function n(){var e;s(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).popoverName="base",e.componentDidMount=function(){e.bodyClickHandler=function(t){0==$("#".concat(e.popoverName,"_popover_content")).parent().find($(t.target)).length&&$(e.refs.target).popover("hide")};var t=function(){$("body").on("click",e.bodyClickHandler),$(e.refs.target).popover("update").on("hide.bs.popover",(function(){$("body").off("click",e.bodyClickHandler)}))};$(e.refs.target).popover({content:'<div id="'.concat(e.popoverName,'_popover_content"></div>'),html:!0,placement:"bottom"}).on("shown.bs.popover",(function(n){o.a.render(e.getPopoverContent(),document.querySelector("#".concat(e.popoverName,"_popover_content")),t)}))},e.getPopoverContent=function(){throw new Error("not implemented")},e}return n}(a.a.Component)},"4a4Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("v38i"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.custom_rfc_options,n=void 0===t?null:t,a=n||r.h;if(!a)return"";var i=document.createElement("section");i.classList.add("pnotify__reason-for-change");var o=document.createElement("div");o.classList.add("form-group");var c=document.createElement("label");c.appendChild(document.createTextNode(gettext("Reason for change"))),c.htmlFor="reasons_for_change_select",o.appendChild(c);var s=document.createElement("select");s.name="reasons_for_change",s.id="reasons_for_change_select",s.setAttribute("multiple",""),s.classList.add("form-control");for(var l=0;l<a.length;l++){var u=document.createElement("option");if(u.value=a[l].value,u.label=a[l].label,u.text=a[l].label,l==a.length-1){var d=document.createElement("option");d.setAttribute("data-role","divider"),s.appendChild(d)}s.appendChild(u)}return o.appendChild(s),i.appendChild(o),i},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,n=void 0===t?null:t,r=e.show_icon,i=void 0===r||r,o=e.message_text,c=void 0===o?null:o,s=e.preamble,l=void 0===s?null:s,u=e.on_submit,d=void 0===u?function(){}:u,p=e.on_cancel,f=void 0===p?function(){}:p,g=e.rfc_required,m=void 0===g||g,y=e.rfc_options,b=void 0===y?null:y,h=e.rationale_required,v=void 0===h||h,_=e.include_rationale,E=void 0!==_&&_,O=e.validation_type,w=void 0===O?0:O,j=e.showCloser,x=void 0===j||j,k=e.confirm_text,S=void 0===k?gettext("Ok"):k,N=e.cancel_text,C=void 0===N?gettext("Cancel"):N,P=e.context,D=void 0===P?null:P,R=e.notice_type,A=void 0===R?"notice":R,F=(e.blocking,e.self_dismissing),L=void 0!==F&&F,z=e.dismiss_delay,I=void 0===z?8e3:z,T={error:"fa-exclamation-triangle",info:"fa-info-circle",success:"fa-check-circle",notice:"fa-exclamation-triangle"},H={error:"danger",info:"info",success:"success",notice:"primary"},U="";i&&(U='<i class="fas '.concat(T[A],'"></i>'));var M=n||U?'<header class="pnotify__header">\n            <h4>\n                '.concat(U,"\n                ").concat(n||"","\n            </h4>\n        </header>"):"",B=l?'<section class="pnotify__preamble">\n            <p><b>'.concat(l,"</b></p>\n        </section>"):"",q=c?'<section class="pnotify__message">\n            <p>'.concat(c,"</p>\n        </section>"):"",W="";if(null!==b){var V=!0===b?null:b;W=a({custom_rfc_options:V}).outerHTML}var J=W.length>0?"<label>".concat(gettext("Details"),"</label>"):"",Y=E?'<section class="pnotify__rationale">\n            <div class="form-group">\n                '.concat(J,'\n                <textarea class="form-control" name="rationale" />\n            </div>\n        </section>'):"",Q="\n        ".concat(M,"\n        ").concat(B,"\n        ").concat(q,"\n        ").concat(W,"\n        ").concat(Y,"\n    "),G={text:S,primary:!0,addClass:"btn-sm btn-"+H[A],click:function(e){var t=!0,n=$(e.refs.elem).find('textarea[name="rationale"]');n.parent().find(".invalid-feedback").remove();var r=n.val()?n.val().trim():void 0,a=($(e.refs.elem).find('select[name="reasons_for_change"]').val()||[]).map((function(e){return parseInt(e)})),i=!1;switch(w){case 1:i=r||a.length>0&&-1==a.indexOf(1);break;case 0:default:i=(r||!E||!v)&&(a.length>0||!b||!m)}if(!i)return n.addClass("is-invalid"),n.parent().append('<div class="invalid-feedback">'+gettext("A reason is required.")+"</div>"),!1;n.removeClass("is-invalid"),d&&void 0===(t=d(r,a,w))&&(t=!0),t&&(document.getElementById("notification_blocking_div").style.display="none",e.close())}},X={text:C,addClass:"btn-sm",click:function(e){close=f(),void 0===close&&(close=!0),close&&(document.getElementById("notification_blocking_div").style.display="none",e.close())}},K=[];S&&K.push(G),C&&K.push(X);var Z=PNotify.alert({text:$('<div><form action="" method="post" class="form">'.concat(Q,"</form></div>")).html(),textTrusted:!0,icon:!1,width:"350px",hide:L,delay:I,type:A,addClass:"program-page__rationale-form",stack:{overlayClose:!0,dir1:"right",dir2:"up",firstpos1:20,firstpos2:20,context:D},modules:{Buttons:{closer:x,closerHover:!1,sticker:!1},Confirm:{align:"flex-start",confirm:!0,buttons:K}}});$(".pnotify__reason-for-change select").multiselect({numberDisplayed:1,nSelectedText:" ".concat(gettext("selected")),nonSelectedText:gettext("None selected")}),f&&Z.on("click",(function(e){if($(e.target).is(".ui-pnotify-closer *")){var t=f();(t||void 0===t)&&(document.getElementById("notification_blocking_div").style.display="none",Z.close())}}))}},DDFe:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.children,n=e.isLoading,r=e.className,c=o(e,["children","isLoading","className"]),s=n?"loading":"";return a.a.createElement("div",i({className:"loading-spinner__container "+s+" "+(r||"")},c),a.a.createElement("div",{className:"loading-spinner__overlay"},a.a.createElement("div",{className:"loading-spinner__spinner"})),t)}},KnAV:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("okNM"),o=n("IP2g"),c=(n("2vnA"),n("v38i"));function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e){var t,n=e.name,r=e.data,i=e.extraTitleText,o=void 0===i?null:i,s=o?a.a.createElement("h4",{className:"disagg-type__title, text-small"},o):null;if("Disaggregation categories"===n&&"object"===u(r)&&null!==r){var l=Object.values(r).sort((function(e,t){return e.custom_sort-t.custom_sort}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",null,n,": "),s,a.a.createElement("ul",{className:"no-list-style"},l.map((function(e,t){return a.a.createElement("li",{key:t},void 0!==e.label&&null!==e.label?e.label:"")}))))}return t=null!=r&&"N/A"!==r?a.a.createElement("span",{className:"change__field__value"},["true","false"].includes(r.toString())?r.toString().replace("t","T").replace("f","F"):r.toString()):a.a.createElement("span",{className:"change__field__value empty-value"},c.c),a.a.createElement("div",{className:"change__field"},a.a.createElement("strong",{className:"change__field__name"},n),": ",t)},p=function(e){var t=e.data,n=e.is_expanded,r=e.toggle_expando_cb;return a.a.createElement("tr",{className:n?"changelog__entry__header is-expanded":"changelog__entry__header",onClick:function(){return r(t.id)}},a.a.createElement("td",{className:"text-nowrap text-action"},a.a.createElement(o.a,{icon:n?"caret-down":"caret-right"})," ",a.a.createElement("strong",null,t.date)),a.a.createElement("td",{className:"text-nowrap"},t.admin_user),a.a.createElement("td",{className:"text-nowrap"},t.pretty_change_type),a.a.createElement("td",null),a.a.createElement("td",null))},f=function(e){return a.a.createElement("tr",{key:e.id,className:"changelog__entry__row"},a.a.createElement("td",null),a.a.createElement("td",null),a.a.createElement("td",null),a.a.createElement("td",null,a.a.createElement("div",{className:"changelog__change--prev"},e.previous)),a.a.createElement("td",null,a.a.createElement("div",{className:"changelog__change--new"},e.new)))},g=function(e){var t=e.data,n=[],r=a.a.createElement(f,{previous:gettext("No differences found"),new:null,id:1,key:1});if(Array.isArray(t.diff_list)&&0===t.diff_list.length||0===Object.keys(t.diff_list||{}).length)return n.push(r),n;if("user_programs_updated"===t.change_type){if(t.diff_list.base_country){var i=a.a.createElement(d,{name:t.diff_list.base_country.pretty_name,data:t.diff_list.base_country.prev}),o=a.a.createElement(d,{name:t.diff_list.base_country.pretty_name,data:t.diff_list.base_country.new});n.push(a.a.createElement(f,{previous:i,new:o,id:"base_country",key:"base_country"}))}Object.entries(t.diff_list.countries).forEach((function(e){var t=s(e,2),r=t[0],i=t[1],o="".concat(r,"_").concat(i),c=a.a.createElement(a.a.Fragment,null,a.a.createElement(d,{name:gettext("Country"),data:i.prev.country}),a.a.createElement(d,{name:gettext("Role"),data:i.prev.role})),l=a.a.createElement(a.a.Fragment,null,a.a.createElement(d,{name:gettext("Country"),data:i.new.country}),a.a.createElement(d,{name:gettext("Role"),data:i.new.role}));n.push(a.a.createElement(f,{previous:c,new:l,id:o,key:o}))})),Object.entries(t.diff_list.programs).forEach((function(e){var t=s(e,2),r=t[0],i=t[1],o="".concat(r,"_").concat(i),c=a.a.createElement(a.a.Fragment,null,a.a.createElement(d,{name:gettext("Program"),data:i.prev.program}),a.a.createElement(d,{name:gettext("Country"),data:i.prev.country}),a.a.createElement(d,{name:gettext("Role"),data:i.prev.role})),l=a.a.createElement(a.a.Fragment,null,a.a.createElement(d,{name:gettext("Program"),data:i.new.program}),a.a.createElement(d,{name:gettext("Country"),data:i.new.country}),a.a.createElement(d,{name:gettext("Role"),data:i.new.role}));n.push(a.a.createElement(f,{previous:c,new:l,id:o,key:o}))}))}else{var c=null,l=!1;if("Country disaggregation updated"===t.pretty_change_type){var u=t.diff_list.filter((function(e){return"disaggregation_type"===e.name}));u[0].prev===u[0].new&&(c=u[0].prev,l=!0)}t.diff_list.forEach((function(e,t){var r="".concat(t,"_").concat(e.pretty_name);if("disaggregation_type"!==e.name||!l){var i=a.a.createElement(a.a.Fragment,null,a.a.createElement(d,{key:t,name:e.pretty_name,data:e.prev,id:t,extraTitleText:c})),o=a.a.createElement(a.a.Fragment,null,a.a.createElement(d,{key:t,name:e.pretty_name,data:e.new,id:t,extraTitleText:c}));n.push(a.a.createElement(f,{previous:i,new:o,id:r,key:r}))}}))}return 0===n.length&&n.push(r),n},m=function(e){var t=e.data,n=e.is_expanded,r=e.toggle_expando_cb;return a.a.createElement("tbody",{className:"changelog__entry",key:t.id},a.a.createElement(p,{data:t,is_expanded:n,toggle_expando_cb:r}),n&&a.a.createElement(g,{data:t}))},y=Object(i.c)((function(e){var t=e.data,n=e.expanded_rows,r=e.toggle_expando_cb;return a.a.createElement("table",{className:"table table-sm bg-white table-bordered text-small changelog"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"text-nowrap"},gettext("Date")),a.a.createElement("th",{className:"text-nowrap"},gettext("Admin")),a.a.createElement("th",{className:"text-nowrap"},gettext("Change Type")),a.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("Previous Entry")),a.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("New Entry")))),t.map((function(e){var t=!0;return n&&(t=n.has(e.id)),a.a.createElement(m,{key:e.id,data:e,is_expanded:t,toggle_expando_cb:r})})))}));t.a=y},NlW9:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c,s,l,u,d,p,f,g,m,y,b,h,v,_,E,O,w,j,x,k,S,N,C,P,D,R,A,F,L=n("q1tI"),z=n.n(L),I=n("i8i4"),T=n.n(I),H=n("2vnA"),U=n("4a4Y");function M(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n,r,a){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var K,Z={id:"new",name:"",description:"",status:""},ee=(a=X((r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Q(this,"organizations",a,this),Q(this,"users",i,this),Q(this,"sectors",o,this),Q(this,"filters",c,this),Q(this,"appliedFilters",s,this),Q(this,"is_superuser",l,this),Q(this,"allCountries",u,this),Q(this,"countries",d,this),Q(this,"country_count",p,this),Q(this,"new_country",f,this),Q(this,"fetching_main_listing",g,this),Q(this,"current_page",m,this),Q(this,"total_pages",y,this),Q(this,"bulk_targets",b,this),Q(this,"bulk_targets_all",h,this),Q(this,"editing_target",v,this),Q(this,"editing_errors",_,this),Q(this,"fetching_editing_data",E,this),Q(this,"editing_objectives_data",O,this),Q(this,"editing_objectives_errors",w,this),Q(this,"editing_disaggregations_data",j,this),Q(this,"editing_disaggregations_errors",x,this),Q(this,"fetching_editing_history",k,this),Q(this,"editing_history",S,this),Q(this,"saving",N,this),Q(this,"bulk_targets",C,this),Q(this,"applying_bulk_updates",P,this),Q(this,"bulk_targets_all",D,this),Q(this,"changelog_expanded_rows",R,this),Q(this,"active_editor_pane",A,this),this.active_pane_is_dirty=!1,Q(this,"assignDisaggregationLabelErrors",F,this),this.api=t,Object.assign(this,n),this.appliedFilters=J({},this.filters),this.fetchCountries()}var t,n,r;return t=e,(n=[{key:"marshalFilters",value:function(e){return Object.entries(e).reduce((function(e,t){var n=B(t,2),r=n[0],a=n[1];return Array.isArray(a)?e[r]=a.map((function(e){return e.value})):a&&(e[r]=a.value),e}),{})}},{key:"getCountryPrograms",value:function(e){return this.allPrograms.filter((function(t){return t.country.includes(e)}))}},{key:"fetchCountries",value:function(){var e=this;this.dirtyConfirm()&&(this.fetching_main_listing=!0,this.api.fetchCountries(this.current_page+1,this.marshalFilters(this.appliedFilters)).then((function(t){Object(H.p)((function(){e.active_editor_pane="profile",e.active_pane_is_dirty=!1,e.fetching_main_listing=!1,e.countries=t.results,e.country_count=t.total_results,e.total_pages=t.total_pages,e.next_page=t.next_page,e.previous_page=t.previous_page}))})))}},{key:"applyFilters",value:function(){this.appliedFilters=J({},this.filters),this.current_page=0,this.fetchCountries()}},{key:"changePage",value:function(e){e.selected!=this.current_page&&(this.current_page=e.selected,this.bulk_targets=new Map,this.bulk_targets_all=!1,this.fetchCountries())}},{key:"changeFilter",value:function(e,t){this.filters=Object.assign(this.filters,Y({},e,t)),"countries"===e&&this.applyFilters()}},{key:"clearFilters",value:function(){var e={countries:this.filters.countries||[],organizations:[],sectors:[],programStatus:null,programs:[]};this.filters=Object.assign(this.filters,e)}},{key:"toggleEditingTarget",value:function(e){var t=this;this.dirtyConfirm()&&("new"===this.editing_target&&(this.countries.shift(),this.editing_errors={}),this.active_editor_pane="profile",this.active_pane_is_dirty=!1,this.editing_disaggregations_errors={},this.editing_target===e?(this.editing_target=!1,this.editing_errors={}):(this.editing_target=e,this.fetching_editing_data=!0,this.fetching_editing_history=!0,Promise.all([this.api.fetchCountryObjectives(e),this.api.fetchCountryDisaggregations(e)]).then((function(n){var r=B(n,2),a=r[0],i=r[1];Object(H.p)((function(){t.fetching_editing_data=!1,t.fetching_editing_history=!0,t.editing_objectives_data=a.data,t.editing_disaggregations_data=i.data,t.updateHistory(e)}))}))))}},{key:"updateLocalList",value:function(e){this.countries=this.countries.reduce((function(t,n){return n.id==e.id?t.push(e):t.push(n),t}),[])}},{key:"updateHistory",value:function(e){var t=this;"new"===e?this.editing_history=[]:this.api.fetchCountryHistory(e).then((function(e){t.editing_history=e.data,t.fetching_editing_history=!1})).catch((function(e){t.fetching_editing_history=!1}))}},{key:"onSaveSuccessHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.retroProgramCount,n=gettext("Successfully saved");t&&(n=interpolate(ngettext("Disaggregation saved and automatically selected for all indicators in %s program.","Disaggregation saved and automatically selected for all indicators in %s programs.",t),[t])),PNotify.success({text:n,delay:5e3})}},{key:"onSaveErrorHandler",value:function(e){PNotify.error({text:e||gettext("Saving failed"),delay:5e3})}},{key:"onDeleteSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully deleted"),delay:5e3})}},{key:"onArchiveSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully archived"),delay:5e3})}},{key:"onUnarchiveSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully unarchived"),delay:5e3})}},{key:"onDuplicatedDisaggLabelMessage",value:function(e){PNotify.error({text:e||gettext("Saving failed: Disaggregation categories should be unique within a disaggregation."),delay:5e3})}},{key:"onDuplicatedDisaggTypeMessage",value:function(e){PNotify.error({text:e||gettext("Saving failed: disaggregation names should be unique within a country."),delay:5e3})}},{key:"dirtyConfirm",value:function(){return!this.active_pane_is_dirty||this.active_pane_is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"onProfilePaneChange",value:function(e){this.dirtyConfirm()&&(this.active_editor_pane=e,this.active_pane_is_dirty=!1)}},{key:"setActiveFormIsDirty",value:function(e){this.active_pane_is_dirty=e}},{key:"addCountry",value:function(){this.dirtyConfirm()&&("new"==this.editing_target&&this.countries.shift(),this.active_editor_pane="profile",this.active_pane_is_dirty=!1,this.countries.unshift({id:"new",country:"",description:"",code:"",organizations:[]}),this.editing_target="new")}},{key:"saveNewCountry",value:function(e){var t=this;e.id=null,this.saving=!0,this.api.createCountry(e).then((function(e){Object(H.p)((function(){t.saving=!1,t.editing_errors={},t.editing_target=e.data.id,t.active_pane_is_dirty=!1,t.countries.shift(),t.countries.unshift(e.data),t.allCountries.unshift(e.data),t.onSaveSuccessHandler(),t.updateHistory(e.data.id)}))})).catch((function(e){Object(H.p)((function(){t.saving=!1,t.editing_errors=e.response.data,t.onSaveErrorHandler(e.response.data.detail)}))}))}},{key:"updateCountry",value:function(e,t){var n=this;this.saving=!0,this.api.updateCountry(e,t).then((function(t){return Object(H.p)((function(){n.saving=!1,n.editing_errors={},n.active_pane_is_dirty=!1,n.updateLocalList(t.data),n.onSaveSuccessHandler(),n.updateHistory(e)}))})).catch((function(e){Object(H.p)((function(){n.saving=!1,n.editing_errors=e.response.data,n.onSaveErrorHandler(e.response.data.detail)}))}))}},{key:"addObjective",value:function(){this.editing_objectives_data.find((function(e){return"new"==e.id}))||(this.editing_objectives_data=[].concat(M(this.editing_objectives_data),[Z]))}},{key:"updateObjective",value:function(e,t){var n=this;this.editing_objectives_errors={},this.api.updateObjective(e,t).then((function(e){Object(H.p)((function(){n.onSaveSuccessHandler();var t=e.data;n.active_pane_is_dirty=!1,n.editing_objectives_data=n.editing_objectives_data.map((function(e){return e.id==t.id?t:e}))}))})).catch((function(e){Object(H.p)((function(){n.saving=!1,n.editing_objectives_errors=e.response.data,n.onSaveErrorHandler(e.response.data.detail)}))}))}},{key:"createObjective",value:function(e){var t=this;this.editing_objectives_errors={},this.api.createObjective(e).then((function(e){Object(H.p)((function(){t.onSaveSuccessHandler(),t.active_pane_is_dirty=!1;var n=e.data;t.editing_objectives_data=[].concat(M(t.editing_objectives_data.filter((function(e){return"new"!=e.id}))),[n])}))})).catch((function(e){Object(H.p)((function(){t.saving=!1,t.editing_objectives_errors=e.response.data,t.onSaveErrorHandler(e.response.data.detail)}))}))}},{key:"deleteObjective",value:function(e){var t=this;"new"!=e?this.api.deleteObjective(e).then((function(n){Object(H.p)((function(){t.editing_objectives_data=t.editing_objectives_data.filter((function(t){return t.id!=e})),t.onDeleteSuccessHandler()}))})).catch((function(e){Object(H.p)((function(){t.onSaveErrorHandler(e.response.data.detail)}))})):this.editing_objectives_data=this.editing_objectives_data.filter((function(e){return"new"!=e.id}))}},{key:"clearObjectiveEditingErrors",value:function(){this.editing_objectives_errors={}}},{key:"clearDisaggregationEditingErrors",value:function(){this.editing_disaggregations_errors={}}},{key:"addDisaggregation",value:function(){this.editing_disaggregations_data.find((function(e){return"new"==e.id}))||(this.editing_disaggregations_data=[].concat(M(this.editing_disaggregations_data),[{id:"new",disaggregation_type:"",selected_by_default:!1,is_archived:!1,labels:[{id:"new",label:"",createdId:"new-0"}]}]))}},{key:"deleteDisaggregation",value:function(e,t){var n=this;Object(U.a)({header:gettext("Warning"),show_icon:!0,preamble:gettext("This action cannot be undone."),message_text:gettext("Are you sure you want to delete this disaggregation?"),include_rationale:!1,rationale_required:!1,showCloser:!0,notice_type:"error",on_submit:function(){if("new"==e)return n.editing_disaggregations_data=n.editing_disaggregations_data.filter((function(e){return"new"!=e.id})),n.active_pane_is_dirty=!1,void(t&&t());n.api.deleteDisaggregation(e).then((function(r){Object(H.p)((function(){n.editing_disaggregations_data=n.editing_disaggregations_data.filter((function(t){return t.id!=e})),n.active_pane_is_dirty=!1,n.onDeleteSuccessHandler(),n.updateHistory(n.editing_target),t&&t()}))}))},on_cancel:function(){},blocking:!0})}},{key:"archiveDisaggregation",value:function(e){var t=this;Object(U.a)({header:gettext("Warning"),show_icon:!0,preamble:gettext("New programs will be unable to use this disaggregation. (Programs already using the disaggregation will be unaffected.)"),message_text:gettext("Are you sure you want to continue?"),include_rationale:!1,rationale_required:!1,notice_type:"notice",showCloser:!0,on_submit:function(){t.api.deleteDisaggregation(e).then((function(n){Object(H.p)((function(){t.editing_disaggregations_data.filter((function(t){return t.id==e})).forEach((function(e){e.is_archived=!0})),t.active_pane_is_dirty=!1,t.onArchiveSuccessHandler(),t.updateHistory(t.editing_target)}))}))},on_cancel:function(){},blocking:!0})}},{key:"unarchiveDisaggregation",value:function(e){var t=this,n=this.countries.find((function(e){return e.id==t.editing_target})),r=n?n.country:"this country";Object(U.a)({header:gettext("Warning"),show_icon:!0,preamble:interpolate(gettext("All programs in %s will be able to use this disaggregation."),[r]),message_text:gettext("Are you sure you want to continue?"),notice_type:"notice",showCloser:!0,on_submit:function(){t.api.partialUpdateDisaggregation(e,{is_archived:!1}).then((function(n){Object(H.p)((function(){t.editing_disaggregations_data.filter((function(t){return t.id==e})).forEach((function(e){e.is_archived=!1})),t.active_pane_is_dirty=!1,t.onUnarchiveSuccessHandler(),t.updateHistory(t.editing_target)}))}))},on_cancel:function(){},blocking:!0})}},{key:"updateDisaggregation",value:function(e,t){var n=this;this.assignDisaggregationErrors(this.editing_disaggregations_data,t,e);var r=this.editing_disaggregations_errors.hasOwnProperty("labels")&&this.editing_disaggregations_errors.labels.length>0&&this.editing_disaggregations_errors.labels.some((function(e){return e.hasOwnProperty("label")}));this.editing_disaggregations_errors.disaggregation_type||r||(delete t.is_archived,this.api.updateDisaggregation(e,t).then((function(e){Object(H.p)((function(){n.onSaveSuccessHandler();var t=e.data;n.active_pane_is_dirty=!1,n.editing_disaggregations_data=n.editing_disaggregations_data.map((function(e){return e.id==t.id?t:e})),n.updateHistory(n.editing_target)}))})).catch((function(e){n.saving=!1,n.editing_disaggregations_errors=e.response.data,n.onSaveErrorHandler()})))}},{key:"createDisaggregation",value:function(e){var t=this;this.assignDisaggregationErrors(this.editing_disaggregations_data,e,"new");var n=this.editing_disaggregations_errors.hasOwnProperty("labels")&&this.editing_disaggregations_errors.labels.length>0&&this.editing_disaggregations_errors.labels.some((function(e){return e.hasOwnProperty("label")}));if(this.editing_disaggregations_errors.disaggregation_type||n)return this.saving=!1,Promise.reject("Validation failed");var r=e.hasOwnProperty("retroPrograms")?e.retroPrograms.length:0;return this.api.createDisaggregation(e).then((function(e){return t.updateHistory(e.data.country),Object(H.p)((function(){t.onSaveSuccessHandler({retroProgramCount:r});var n=e.data;return t.editing_history=history.data,t.active_pane_is_dirty=!1,t.editing_disaggregations_data=[].concat(M(t.editing_disaggregations_data.filter((function(e){return"new"!=e.id}))),[n]),n}))})).catch((function(e){return Object(H.p)((function(){t.saving=!1,t.editing_disaggregations_errors=e.response.data,t.onSaveErrorHandler()})),Promise.reject("API handling error")}))}},{key:"toggleChangeLogRowExpando",value:function(e){this.changelog_expanded_rows.has(e)?this.changelog_expanded_rows.delete(e):this.changelog_expanded_rows.add(e)}},{key:"assignDisaggregationErrors",value:function(e,t,n){if(e.filter((function(e){return e.id!==n})).map((function(e){return e.disaggregation_type})).includes(t.disaggregation_type)){var r=this.allCountries.filter((function(e){return parseInt(e.id)===parseInt(t.country)}))[0]||"";this.editing_disaggregations_errors.disaggregation_type=[interpolate(gettext('There is already a disaggregation type called "%(newDisagg)s" in %(country)s. Please choose a unique name.'),{newDisagg:t.disaggregation_type,country:r.country},!0)]}else this.editing_disaggregations_errors={};this.assignDisaggregationLabelErrors(t)}},{key:"findDuplicateLabelIndexes",value:function(e){var t=e.map((function(e){return e.toLowerCase()})),n=new Set;return t.forEach((function(e,r){var a=t.indexOf(e,r+1);a>0&&n.add(r).add(a)})),Array.from(n)}}])&&G(t.prototype,n),r&&G(t,r),e}()).prototype,"organizations",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=X(r.prototype,"users",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=X(r.prototype,"sectors",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=X(r.prototype,"filters",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{countries:[],organizations:[],sectors:[],programStatus:null,programs:[]}}}),s=X(r.prototype,"appliedFilters",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=X(r.prototype,"is_superuser",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=X(r.prototype,"allCountries",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=X(r.prototype,"countries",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=X(r.prototype,"country_count",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=X(r.prototype,"new_country",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=X(r.prototype,"fetching_main_listing",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=X(r.prototype,"current_page",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=X(r.prototype,"total_pages",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=X(r.prototype,"bulk_targets",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),h=X(r.prototype,"bulk_targets_all",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=X(r.prototype,"editing_target",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=X(r.prototype,"editing_errors",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=X(r.prototype,"fetching_editing_data",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=X(r.prototype,"editing_objectives_data",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=X(r.prototype,"editing_objectives_errors",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),j=X(r.prototype,"editing_disaggregations_data",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=X(r.prototype,"editing_disaggregations_errors",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),k=X(r.prototype,"fetching_editing_history",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=X(r.prototype,"editing_history",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=X(r.prototype,"saving",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=X(r.prototype,"bulk_targets",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),P=X(r.prototype,"applying_bulk_updates",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=X(r.prototype,"bulk_targets_all",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=X(r.prototype,"changelog_expanded_rows",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),X(r.prototype,"fetchCountries",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"fetchCountries"),r.prototype),X(r.prototype,"applyFilters",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"applyFilters"),r.prototype),X(r.prototype,"changePage",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"changePage"),r.prototype),X(r.prototype,"changeFilter",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"changeFilter"),r.prototype),X(r.prototype,"clearFilters",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"clearFilters"),r.prototype),X(r.prototype,"toggleEditingTarget",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"toggleEditingTarget"),r.prototype),A=X(r.prototype,"active_editor_pane",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"profile"}}),X(r.prototype,"onProfilePaneChange",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"onProfilePaneChange"),r.prototype),X(r.prototype,"addCountry",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"addCountry"),r.prototype),X(r.prototype,"saveNewCountry",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"saveNewCountry"),r.prototype),X(r.prototype,"updateCountry",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"updateCountry"),r.prototype),X(r.prototype,"addObjective",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"addObjective"),r.prototype),X(r.prototype,"updateObjective",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"updateObjective"),r.prototype),X(r.prototype,"createObjective",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"createObjective"),r.prototype),X(r.prototype,"deleteObjective",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"deleteObjective"),r.prototype),X(r.prototype,"clearObjectiveEditingErrors",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"clearObjectiveEditingErrors"),r.prototype),X(r.prototype,"clearDisaggregationEditingErrors",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"clearDisaggregationEditingErrors"),r.prototype),X(r.prototype,"addDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"addDisaggregation"),r.prototype),X(r.prototype,"deleteDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"deleteDisaggregation"),r.prototype),X(r.prototype,"archiveDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"archiveDisaggregation"),r.prototype),X(r.prototype,"unarchiveDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"unarchiveDisaggregation"),r.prototype),X(r.prototype,"updateDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"updateDisaggregation"),r.prototype),X(r.prototype,"createDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"createDisaggregation"),r.prototype),X(r.prototype,"toggleChangeLogRowExpando",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"toggleChangeLogRowExpando"),r.prototype),X(r.prototype,"assignDisaggregationErrors",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"assignDisaggregationErrors"),r.prototype),F=X(r.prototype,"assignDisaggregationLabelErrors",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.findDuplicateLabelIndexes(t.labels.map((function(e){return e.label}))),r=Array(t.labels.length).fill().map((function(e){return{}}));t.labels.forEach((function(e,t){e.label&&0!==e.label.length?n.includes(t)&&(r[t].label=[gettext("Categories must have unique names.")]):r[t].label=[gettext("Categories must not be blank.")]})),e.editing_disaggregations_errors.labels=r}}}),r),te=n("okNM"),ne=n("Z2Y6"),re=n("TGVD"),ae=n("RCjz"),ie=n("TSYQ"),oe=n.n(ie);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var a=fe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge,me=Object(te.c)(K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(i,e);var t,n,r,a=de(i);function i(){return se(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"updateActivePage",value:function(e){this.props.new||this.props.notifyPaneChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.ProfileSection,r=t.StrategicObjectiveSection,a=t.DisaggregationSection,i=t.HistorySection,o=t.active_pane;return z.a.createElement("div",{className:"tab-set--vertical"},z.a.createElement("ul",{className:"nav nav-tabs"},z.a.createElement("li",{className:"nav-item"},z.a.createElement("a",{href:"#",className:oe()("nav-link",{active:"profile"==o}),onClick:function(t){t.preventDefault(),e.updateActivePage("profile")}},gettext("Profile"))),z.a.createElement("li",{className:"nav-item"},z.a.createElement("a",{href:"#",className:oe()("nav-link",{active:"objectives"==o,disabled:this.props.new}),onClick:function(t){t.preventDefault(),e.updateActivePage("objectives")}},gettext("Strategic Objectives"))),z.a.createElement("li",{className:"nav-item"},z.a.createElement("a",{href:"#",className:oe()("nav-link",{active:"disaggregations"==o,disabled:this.props.new}),onClick:function(t){t.preventDefault(),e.updateActivePage("disaggregations")}},gettext("Country Disaggregations"))),z.a.createElement("li",{className:"nav-item"},z.a.createElement("a",{href:"#",className:oe()("nav-link",{active:"history"==o,disabled:this.props.new}),onClick:function(t){t.preventDefault(),e.updateActivePage("history")}},gettext("History")))),z.a.createElement("div",{className:"tab-content"},"profile"==o&&z.a.createElement(n,null),"objectives"==o&&z.a.createElement(r,null),"disaggregations"==o&&z.a.createElement(a,null),"history"==o&&z.a.createElement(i,null)))}}])&&le(t.prototype,n),r&&le(t,r),i}(z.a.Component))||K;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var a=Ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe,we,je,xe,ke=Object(te.c)((function(e){var t=e.errorMessages;return t?z.a.createElement("div",{className:"invalid-feedback"},t.map((function(e,t){return z.a.createElement("span",{key:t},e)}))):null})),Se=Object(te.c)(ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(i,e);var t,n,r,a=ve(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=a.call(this,e);var n=e.country_data;return t.state={original_data:Object.assign({},n),managed_data:Object.assign({},n)},t}return t=i,(n=[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_data)!=JSON.stringify(this.state.original_data))}},{key:"save",value:function(){var e=this.props.country_data.id,t=this.state.managed_data;this.props.onUpdate(e,t)}},{key:"saveNew",value:function(){var e=this.state.managed_data;this.props.onCreate(e)}},{key:"updateFormField",value:function(e,t){var n,r,a,i=this;this.setState({managed_data:Object.assign(this.state.managed_data,(n={},r=e,a=t,r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n))},(function(){return i.hasUnsavedDataAction()}))}},{key:"resetForm",value:function(){var e=this;this.setState({managed_data:Object.assign({},this.state.original_data)},(function(){return e.hasUnsavedDataAction()}))}},{key:"formErrors",value:function(e){return this.props.errors[e]}},{key:"render",value:function(){var e=this,t=this.state.managed_data;return this.props.organizationOptions.find((function(e){return e.value==t.organization})),z.a.createElement("div",{className:"tab-pane--react"},z.a.createElement("form",{className:"form"},z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"country-name-input"},gettext("Country name"),z.a.createElement("span",{className:"required"},"*")),z.a.createElement("input",{type:"text",value:t.country,onChange:function(t){return e.updateFormField("country",t.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("country")}),id:"country-name-input",required:!0}),z.a.createElement(ke,{errorMessages:this.formErrors("country")})),z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"country-description-input"},gettext("Description")),z.a.createElement("textarea",{value:t.description,onChange:function(t){return e.updateFormField("description",t.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("description")}),id:"country-description-input"}),z.a.createElement(ke,{errorMessages:this.formErrors("description")})),z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"country-code-input"},gettext("Country Code")),z.a.createElement("input",{value:t.code,onChange:function(t){return e.updateFormField("code",t.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("code")}),id:"country-code-input"}),z.a.createElement(ke,{errorMessages:this.formErrors("code")})),this.props.new&&z.a.createElement("div",{className:"form-group btn-row"},z.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(t){return e.saveNew(t)}},gettext("Save Changes")),z.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return e.resetForm()}},gettext("Reset"))),!this.props.new&&z.a.createElement("div",{className:"form-group btn-row"},z.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(t){return e.save(t)}},gettext("Save Changes")),z.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return e.resetForm()}},gettext("Reset")))))}}])&&be(t.prototype,n),r&&be(t,r),i}(z.a.Component))||ge,Ne=n("ngQI"),Ce=n("IP2g"),Pe=n("4L+s");function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||Ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return t&&Be(e.prototype,t),n&&Be(e,n),e}function $e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var a=Ye(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qe,Ge,Xe=Object(te.c)((function(e){var t=e.errorMessages;return t?z.a.createElement("div",{className:"invalid-feedback"},t.map((function(e,t){return z.a.createElement("span",{key:t},e)}))):null})),Ke=Object(te.c)(Oe=function(e){$e(n,e);var t=Ve(n);function n(e){var r;return Me(this,n),(r=t.call(this,e)).componentDidMount=function(){r.disabledRef.current&&$(r.disabledRef.current).popover({html:!0})},r.disabledRef=z.a.createRef(),r}return qe(n,[{key:"render",value:function(){var e,t=this.props,n=t.index,r=t.category,a=t.listLength,i=Ue(t,["index","category","listLength"]),o=i.errors&&i.errors.labels&&i.errors.labels.length>n&&i.errors.labels[n].hasOwnProperty("label")&&i.errors.labels[n].label.length,c=z.a.createElement("a",{tabIndex:"0",onClick:function(){return i.deleteLabel(n)},className:oe()("btn btn-link btn-danger text-nowrap",{disabled:r.in_use})},z.a.createElement("i",{className:"fas fa-trash"}),gettext("Remove"));i.disabled||r.in_use?c=z.a.createElement(Pe.b,(He(e={key:1,content:gettext("This category cannot be edited or removed because it was used to disaggregate a result."),placement:"bottom",className:"btn btn-link",iconClass:"fa fa-lock text-muted"},"className","btn btn-link"),He(e,"innerRef",this.disabledRef),He(e,"ariaText",gettext("Explanation for absence of delete button")),e)):1===a&&(c=null);return z.a.createElement(z.a.Fragment,null,z.a.createElement("div",{className:"form-group col-md-7"},z.a.createElement("input",{value:r.label,onChange:function(e){return i.updateLabel(n,{label:e.target.value})},className:oe()("form-control",{"is-invalid":o}),disabled:r.in_use||i.disabled}),i.errors.labels&&z.a.createElement(Xe,{errorMessages:i.errors.labels.length>n?i.errors.labels[n].label:null})),z.a.createElement("div",{className:"form-group col-md-2"},z.a.createElement("select",{value:r.customsort,onChange:function(e){return i.updateLabelOrder(n,e.target.value-1)},className:"form-control",disabled:i.disabled},Array.from(Array(a).keys()).map((function(e){return z.a.createElement("option",{value:e+1,key:e},e+1)})))),z.a.createElement("div",{className:"form-group"},c))}}]),n}(z.a.Component))||Oe,Ze=Object(te.c)((function(e){var t=e.id,n=e.categories,r=Ue(e,["id","categories"]);return z.a.createElement(Ne.a,{onDragEnd:function(e){var t=e.source,n=void 0===t?null:t,a=e.destination,i=void 0===a?null:a;null!==n&&null!==i&&r.updateLabelOrder(n.index,i.index)}},z.a.createElement(Ne.c,{droppableId:"disaggregation-category-list-".concat(t),renderClone:function(e,t,a){return z.a.createElement("div",Ie({className:"form-group mb-0 disaggregation-label-group",ref:e.innerRef},e.draggableProps),z.a.createElement("span",Ie({className:"draggable-arrow"},e.dragHandleProps),z.a.createElement("i",{className:"fas fa-arrows-alt fa-lg"})),z.a.createElement(Ke,Ie({index:a.source.index,category:n[a.source.index],listLength:n.length},r)))}},(function(e,t){return z.a.createElement("div",Ie({ref:e.innerRef},e.droppableProps),n.map((function(e,t){return z.a.createElement(Ne.b,{draggableId:"new"==e.id?e.createdId:String(e.id),index:t,isDragDisabled:r.disabled,key:"new"==e.id?e.createdId:e.id},(function(a,i){return z.a.createElement("div",Ie({className:"form-group mb-0 disaggregation-label-group",ref:a.innerRef},a.draggableProps),z.a.createElement("span",Ie({className:"draggable-arrow"},a.dragHandleProps),z.a.createElement("i",{className:"fas fa-arrows-alt fa-lg"})),z.a.createElement(Ke,Ie({index:t,category:e,listLength:n.length},r)))}))})),e.placeholder)})))})),et=function(e){return e.checkBoxOptions.map((function(t){var n;return z.a.createElement("label",{className:"mb-1",key:t.id},z.a.createElement("input",{type:"checkbox",className:"align-text-top",autoComplete:"false",name:t.name,value:t.name,checked:null!==(n=t.checked)&&void 0!==n&&n,onChange:function(n){return e.onUpdate(t.id,n.target.checked)}}),z.a.createElement("span",{className:"ml-2"},t.name))}))},tt=Object(te.c)(we=function(e){$e(n,e);var t=Ve(n);function n(e){var r;return Me(this,n),(r=t.call(this,e)).retroactiveAssignmentPopup=z.a.createRef(),r}return qe(n,[{key:"componentDidMount",value:function(){this.retroactiveAssignmentPopup.current&&$(this.retroactiveAssignmentPopup.current).popover({html:!0})}},{key:"render",value:function(){var e=Object.values(this.props.programs).sort((function(e,t){return e.name<t.name?-1:1})),t=null;this.props.programsExpanded&&(t=z.a.createElement("div",{id:"disagg-admin__programs",className:"ml-2 mt-2 d-flex flex-column disaggregation-programs"},z.a.createElement(et,{checkBoxOptions:e,onUpdate:this.props.onRetroUpdate})));var n=gettext('<p>Select a program if you plan to disaggregate all or most of its indicators by these categories.</p><p><span class="text-danger"><strong>This bulk assignment cannot be undone.</strong></span> But you can always manually remove the disaggregation from individual indicators.</p>');return z.a.createElement("div",{className:"mt-2 ml-4 retro-programs"},z.a.createElement("a",{onClick:this.props.toggleProgramViz,className:oe()("accordion-row__btn","btn","btn-link","disaggregation--programs__header",{disabled:this.props.disabled}),tabIndex:"0"},z.a.createElement(Ce.a,{icon:this.props.programsExpanded?"caret-down":"caret-right"}),z.a.createElement("span",{className:"mr-1"},gettext("Assign new disaggregation to all indicators in a program"))),z.a.createElement(Pe.b,{key:1,content:n,placement:"right",innerRef:this.retroactiveAssignmentPopup,ariaText:gettext("More information on assigning disaggregations to existing indicators")}),t)}}]),n}(z.a.Component))||we,nt=Object(te.c)(je=function(e){$e(n,e);var t=Ve(n);function n(e){var r;Me(this,n),(r=t.call(this,e)).componentDidUpdate=function(){if(r.state.labels){var e=r.props.disaggregation.labels.reduce((function(e,t){return e[t.label]=t.id,e}),{});new Set(Object.keys(e)).size===r.state.labels.length&&r.state.labels.forEach((function(t){"new"===t.id&&Object.keys(e).includes(t.label)&&(t.id=e[t.label])}))}r.selectedByDefaultPopup.current&&$(r.selectedByDefaultPopup.current).popover({html:!0})};var a=r.props.disaggregation;return r.state=ze(ze({},a),{},{labels:r.orderLabels(a.labels),programsExpanded:!1}),r.programsForRetro=Object(H.n)(e.programs.reduce((function(e,t){return e[t.id]={id:t.id,name:t.name,checked:!1},e}),{})),r.labelsCreated=0,r.selectedByDefaultPopup=z.a.createRef(),r}return qe(n,[{key:"orderLabels",value:function(e){return e.slice().map((function(e,t){return ze(ze({},e),{},{customsort:t+1})}))}},{key:"hasUnsavedDataAction",value:function(){var e=this.props.disaggregation.labels.map((function(e){return ze({},e)})),t=JSON.stringify(this.state)!==JSON.stringify(ze(ze({},this.props.disaggregation),{},{labels:Re(e)})),n=Object.values(this.programsForRetro).some((function(e){return e.checked}));this.props.onIsDirtyChange(t||n)}},{key:"componentDidMount",value:function(){$('[data-toggle="popover"]').popover()}},{key:"resetForm",value:function(){var e=this;this.props.clearErrors(),this.setState(ze(ze({},this.props.disaggregation),{},{labels:this.orderLabels(this.props.disaggregation.labels)}),(function(){return e.hasUnsavedDataAction()}))}},{key:"formErrors",value:function(e){return this.props.errors[e]}},{key:"updateDisaggregationTypeField",value:function(e){var t=this;this.setState({disaggregation_type:e},(function(){return t.hasUnsavedDataAction()}))}},{key:"updateSelectedByDefault",value:function(e){var t=this;!0!==e&&(this.clearCheckedPrograms(),this.togglePrograms()),this.setState({selected_by_default:1==e},(function(){return t.hasUnsavedDataAction()}))}},{key:"updateRetroPrograms",value:function(e,t){var n=this;Object(H.p)((function(){n.programsForRetro[e].checked=t})),this.hasUnsavedDataAction()}},{key:"togglePrograms",value:function(){this.setState({programsExpanded:!this.state.programsExpanded})}},{key:"clearCheckedPrograms",value:function(){for(var e=function(){var e=De(n[t],2),r=(e[0],e[1]);Object(H.p)((function(){return r.checked=!1}))},t=0,n=Object.entries(this.programsForRetro);t<n.length;t++)e()}},{key:"updateLabel",value:function(e,t){var n=this,r=this.state.labels;r[e]=ze(ze({},r[e]),t),this.setState({labels:this.orderLabels(r)},(function(){return n.hasUnsavedDataAction()}))}},{key:"updateLabelOrder",value:function(e,t){var n=this,r=this.state.labels,a=[].concat(Re(r.slice(0,e)),Re(r.slice(e+1))),i=this.orderLabels([].concat(Re(a.slice(0,t)),[r[e]],Re(a.slice(t))));this.setState({labels:i},(function(){return n.hasUnsavedDataAction()})),this.props.assignLabelErrors({labels:i})}},{key:"appendLabel",value:function(){var e=this;this.labelsCreated+=1;var t={id:"new",label:"",createdId:"new-".concat(this.labelsCreated)};this.setState({labels:this.orderLabels([].concat(Re(this.state.labels),[t]))},(function(){$(".disaggregation-label-group").last().find("input").first().focus(),e.hasUnsavedDataAction()}))}},{key:"deleteLabel",value:function(e){var t=this,n=this.orderLabels([].concat(Re(this.state.labels.slice(0,e)),Re(this.state.labels.slice(e+1))));this.setState({labels:n},(function(){return t.hasUnsavedDataAction()})),this.props.assignLabelErrors({labels:n})}},{key:"save",value:function(){var e=ze({},this.state);delete e.programsExpanded;var t=Object.values(this.programsForRetro).filter((function(e){return e.checked}));t.length>0&&(e.retroPrograms=t.map((function(e){return e.id}))),this.props.saveDisaggregation(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.disaggregation,r=t.expanded,a=t.expandAction,i=t.deleteAction,o=t.archiveAction,c=t.unarchiveAction,s=t.errors,l=this.state,u="new"===l.id?z.a.createElement(tt,{programs:this.programsForRetro,disabled:!0!==this.state.selected_by_default,toggleProgramViz:this.togglePrograms.bind(this),programsExpanded:this.state.programsExpanded,onRetroUpdate:this.updateRetroPrograms.bind(this)}):null;return z.a.createElement("div",{className:"accordion-row"},z.a.createElement("div",{className:"accordion-row__content"},z.a.createElement("a",{onClick:function(){a(e.resetForm.bind(e))},className:"btn accordion-row__btn btn-link",tabIndex:"0"},z.a.createElement(Ce.a,{icon:r?"caret-down":"caret-right"}),"new"===n.id?"New disaggregation":n.disaggregation_type),n.is_archived&&z.a.createElement("span",{className:"text-muted font-weight-bold ml-2"},"(Archived)"),r&&z.a.createElement("form",{className:"form card card-body bg-white"},z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{className:"label--required",htmlFor:"disaggregation-type-input"},gettext("Disaggregation")),z.a.createElement("input",{id:"disaggregation-type-input",className:oe()("form-control",{"is-invalid":this.formErrors("disaggregation_type")}),value:l.disaggregation_type,onChange:function(t){return e.updateDisaggregationTypeField(t.target.value)},type:"text",required:!0,disabled:n.is_archived}),z.a.createElement(Xe,{errorMessages:this.formErrors("disaggregation_type")}),z.a.createElement("div",{className:"form-check",style:{marginTop:"8px"}},z.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:l.selected_by_default,onChange:function(t){e.updateSelectedByDefault(t.target.checked)},id:"selected-by-default-checkbox",disabled:n.is_archived}),z.a.createElement("label",{className:"form-check-label mr-2",htmlFor:"selected-by-default-checkbox"},gettext("Selected by default")),z.a.createElement(Pe.b,{key:1,content:"<p>".concat(interpolate(gettext("When adding a new program indicator, this disaggregation will be selected by default for every program in %s. The disaggregation can be manually removed from an indicator on the indicator setup form."),[gettext(this.props.countryName)]),"</p>"),placement:"right",innerRef:this.selectedByDefaultPopup,ariaText:gettext('More information on "selected by default"')})),u),z.a.createElement("div",{className:"form-group",style:{marginTop:"8px"}},z.a.createElement("div",{className:"row"},z.a.createElement("div",{className:"col-md-7"},z.a.createElement("h4",null,gettext("Categories"))),z.a.createElement("div",{style:{marginLeft:"38px"}},z.a.createElement("label",null,gettext("Order")))),z.a.createElement(Ze,{id:n.id,categories:this.state.labels,disabled:n.is_archived,updateLabelOrder:this.updateLabelOrder.bind(this),updateLabel:this.updateLabel.bind(this),deleteLabel:this.deleteLabel.bind(this),errors:s}),!n.is_archived&&z.a.createElement("div",{style:{marginTop:"-15px",marginLeft:"-5px"}},z.a.createElement("a",{tabIndex:"0",onClick:function(){return e.appendLabel()},className:"btn btn-link btn-add"},z.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add a category")))),z.a.createElement("div",{className:"disaggregation-form-buttons"},z.a.createElement("div",{className:"form-row btn-row"},z.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.save()},disabled:n.is_archived,type:"button"},gettext("Save Changes")),z.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return e.resetForm()},disabled:n.is_archived},gettext("Reset"))),z.a.createElement("div",{className:"right-buttons"},n.is_archived?z.a.createElement("a",{tabIndex:"0",onClick:c,className:"btn btn-link"},z.a.createElement("i",{className:"fas fa-archive"}),gettext("Unarchive disaggregation")):"new"!=n.id&&n.has_indicators?z.a.createElement("a",{tabIndex:"0",onClick:o,className:"btn btn-link"},z.a.createElement("i",{className:"fas fa-archive"}),gettext("Archive disaggregation")):z.a.createElement("a",{tabIndex:"0",onClick:i,className:"btn btn-link btn-danger"},z.a.createElement("i",{className:"fas fa-trash"}),gettext("Delete disaggregation")))))))}}]),n}(z.a.Component))||je,rt=Object(te.c)(xe=function(e){$e(n,e);var t=Ve(n);function n(e){var r;return Me(this,n),(r=t.call(this,e)).state={expanded_id:null,is_dirty:!1,formReset:null,origSelectedByDefault:!1},r}return qe(n,[{key:"handleDirtyUpdate",value:function(e){this.setState({is_dirty:e}),this.props.onIsDirtyChange(e)}},{key:"dirtyConfirm",value:function(){return!this.state.is_dirty||this.state.is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"toggleExpand",value:function(e,t){if(this.props.clearErrors(),this.dirtyConfirm()){var n=this.state.expanded_id;if(e==n)this.state.is_dirty&&t&&t(),this.setState({expanded_id:null,formReset:null,origSelectedByDefault:null});else{this.state.formReset&&this.state.is_dirty&&this.state.formReset();var r=this.props.disaggregations.filter((function(t){return t.id===e})),a=r.length>0?r[0].selected_by_default:null;this.setState({expanded_id:e,formReset:t,origSelectedByDefault:a})}"new"===n&&this.onDelete(n),this.handleDirtyUpdate(!1)}}},{key:"addDisaggregation",value:function(){this.dirtyConfirm()&&(this.props.addDisaggregation(),this.setState({expanded_id:"new",origSelectedByDefault:!1},(function(){$("#disaggregation-type-input").focus()})))}},{key:"onDelete",value:function(e){var t=this;this.props.onDelete(e,(function(){t.setState({is_dirty:!1,expanded_id:null,formReset:null})})),this.props.clearErrors()}},{key:"onSaveChangesPress",value:function(e){var t=this;if(this.state.origSelectedByDefault!==e.selected_by_default){var n="";n=e.selected_by_default&&e.hasOwnProperty("retroPrograms")?interpolate(ngettext("This disaggregation will be automatically selected for all new indicators in %s and for existing indicators in %s program.","This disaggregation will be automatically selected for all new indicators in %s and for existing indicators in %s programs.",e.retroPrograms.length),[gettext(this.props.countryName),e.retroPrograms.length]):e.selected_by_default?interpolate(gettext("This disaggregation will be automatically selected for all new indicators in %s. Existing indicators will be unaffected."),[gettext(this.props.countryName)]):interpolate(gettext("This disaggregation will no longer be automatically selected for all new indicators in %s. Existing indicators will be unaffected."),[this.props.countryName]),Object(U.a)({header:gettext("Warning"),show_icon:!0,preamble:n,message_text:gettext("Are you sure you want to continue?"),notice_type:"notice",showCloser:!0,on_submit:function(){return t.saveDisaggregation(e)},on_cancel:function(){}})}else this.saveDisaggregation(e)}},{key:"saveDisaggregation",value:function(e){var t=this,n=Object.assign(e,{country:this.props.country_id});"new"===e.id?this.props.onCreate(n).then((function(n){t.setState({expanded_id:n.id,formReset:null,origSelectedByDefault:e.selected_by_default})}),(function(){})):(this.props.onUpdate(e.id,n),this.setState({origSelectedByDefault:e.selected_by_default})),this.setState({is_dirty:!1})}},{key:"render",value:function(){var e=this,t=this.props.disaggregations,n=this.state.expanded_id;return z.a.createElement("div",{className:"tab-pane--react"},z.a.createElement("div",{className:"d-flex justify-content-between"},z.a.createElement("h3",null,gettext("Country Disaggregations")),z.a.createElement("div",null,!t.find((function(e){return"new"==e.id}))&&z.a.createElement("a",{tabIndex:"0",className:"btn btn-link btn-add",onClick:function(){return e.addDisaggregation()}},z.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add country disaggregation")))),t.map((function(t){return z.a.createElement(nt,{key:t.id,disaggregation:t,programs:e.props.programs,expanded:t.id==n,assignLabelErrors:e.props.assignLabelErrors,expandAction:function(n){return e.toggleExpand(t.id,n)},updateLabel:function(n,r){return e.updateLabel(t.id,n,r)},deleteAction:e.onDelete.bind(e,t.id),archiveAction:function(){return e.props.onArchive(t.id)},unarchiveAction:function(){return e.props.onUnarchive(t.id)},saveDisaggregation:function(t){return e.onSaveChangesPress(t)},errors:e.props.errors,clearErrors:e.props.clearErrors,onIsDirtyChange:function(t){return e.handleDirtyUpdate(t)},countryName:e.props.countryName})})))}}]),n}(z.a.Component))||xe,at=n("Cs6D");function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),e}function pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var a=yt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bt,ht=[{value:"proposed",label:gettext("Proposed")},{value:"active",label:gettext("Active")},{value:"acheived",label:gettext("Achieved")}],vt=Object(te.c)((function(e){var t=e.errorMessages;return t?z.a.createElement("div",{className:"invalid-feedback"},t.map((function(e,t){return z.a.createElement("span",{key:t},e)}))):null})),_t=Object(te.c)(Qe=function(e){pt(n,e);var t=gt(n);function n(e){var r;lt(this,n),r=t.call(this,e);var a=e.objective;return r.state={managed_data:ct({},a)},r}return dt(n,[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_data)!=JSON.stringify(this.props.objective))}},{key:"updateFormField",value:function(e,t){var n=this,r=this.state.managed_data,a=Object.assign(r,st({},e,t));this.setState({managed_data:a},(function(){return n.hasUnsavedDataAction()}))}},{key:"formErrors",value:function(e){return this.props.errors[e]}},{key:"resetForm",value:function(){var e=this;this.props.clearErrors();var t=this.props.objective;this.setState({managed_data:ct({},t)},(function(){return e.hasUnsavedDataAction()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.objective,r=t.expanded,a=t.expandAction,i=t.deleteAction,o=t.saveObjective,c=t.createObjective,s=this.state.managed_data,l=s.status,u=l?ht.find((function(e){return e.value==l})):{};return z.a.createElement("div",{className:"accordion-row"},z.a.createElement("div",{className:"accordion-row__content"},z.a.createElement("a",{onClick:a,className:"btn accordion-row__btn btn-link",tabIndex:"0"},z.a.createElement(Ce.a,{icon:r?"caret-down":"caret-right"}),"new"==n.id?gettext("New Strategic Objective"):n.name),r&&z.a.createElement("form",{className:"form card card-body bg-white"},z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{className:"label--required",htmlFor:"objective-name-input"},gettext("Short name")),z.a.createElement("input",{id:"objective-name-input",className:oe()("form-control",{"is-invalid":this.formErrors("name")}),value:s.name,onChange:function(t){return e.updateFormField("name",t.target.value)},type:"text",required:!0}),z.a.createElement(vt,{errorMessages:this.formErrors("name")})),z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"objective-description-input"},gettext("Description")),z.a.createElement("textarea",{id:"objective-description-input",className:oe()("form-control",{"is-invalid":this.formErrors("description")}),value:s.description,onChange:function(t){return e.updateFormField("description",t.target.value)},type:"text",required:!0}),z.a.createElement(vt,{errorMessages:this.formErrors("description")})),z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"objective-status-input"},gettext("Status")),z.a.createElement(at.a,{value:u,options:ht,onChange:function(t){return e.updateFormField("status",t.value)},className:oe()("react-select",{"is-invalid":this.formErrors("status")}),id:"objective-status-input"}),z.a.createElement(vt,{errorMessages:this.formErrors("status")})),z.a.createElement("div",{className:"objective-form-buttons"},"new"==n.id&&z.a.createElement("div",{className:"form-group btn-row"},z.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return c(s)}},gettext("Save Changes"))),"new"!=n.id&&z.a.createElement("div",{className:"form-group btn-row"},z.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return o(s)}},gettext("Save Changes")),z.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return e.resetForm()}},gettext("Reset"))),z.a.createElement("div",{className:"right-buttons"},z.a.createElement("a",{tabIndex:"0",onClick:i,className:"btn btn-link btn-danger"},z.a.createElement("i",{className:"fas fa-trash"}),gettext("Delete")))))))}}]),n}(z.a.Component))||Qe,Et=Object(te.c)(Ge=function(e){pt(n,e);var t=gt(n);function n(e){var r;return lt(this,n),(r=t.call(this,e)).state={expanded_id:null,is_dirty:!1},r}return dt(n,[{key:"handleDirtyUpdate",value:function(e){this.setState({is_dirty:e}),this.props.onIsDirtyChange(e)}},{key:"dirtyConfirm",value:function(){return!this.state.is_dirty||this.state.is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"toggleExpand",value:function(e){if(this.props.clearErrors(),this.dirtyConfirm()){var t=this.state.expanded_id;e==t?this.setState({expanded_id:null}):this.setState({expanded_id:e}),"new"==t&&this.props.onDelete(t),this.handleDirtyUpdate(!1)}}},{key:"addObjective",value:function(){this.dirtyConfirm()&&(this.props.clearErrors(),this.props.addObjective(),this.setState({expanded_id:"new"}),this.handleDirtyUpdate(!1))}},{key:"deleteObjectiveAction",value:function(e){"new"!=e?confirm(gettext("Delete Strategic Objective?"))&&this.props.onDelete(e):this.props.onDelete(e)}},{key:"updateObjective",value:function(e,t){this.props.onUpdate(e,t),this.setState({is_dirty:!1})}},{key:"createObjective",value:function(e){var t=Object.assign(e,{country:this.props.country_id});this.props.onCreate(t),this.setState({is_dirty:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.expanded_id,r=(t.new_objective,this.props.objectives);return z.a.createElement("div",{className:"tab-pane--react"},z.a.createElement("h3",null,gettext("Strategic Objectives")),r.map((function(t){return z.a.createElement(_t,{key:t.id,objective:t,expanded:t.id==n,expandAction:function(){return e.toggleExpand(t.id)},deleteAction:function(){return e.deleteObjectiveAction(t.id)},saveObjective:function(n){return e.updateObjective(t.id,n)},createObjective:function(t){return e.createObjective(t)},errors:e.props.errors,clearErrors:e.props.clearErrors,onIsDirtyChange:function(t){return e.handleDirtyUpdate(t)}})})),z.a.createElement("div",null,z.a.createElement("a",{tabIndex:"0",onClick:function(){return e.addObjective()},className:"btn btn-link btn-add"},z.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add strategic objective"))))}}]),n}(z.a.Component))||Ge,Ot=n("DDFe"),wt=n("tnXs"),jt=n("KnAV");function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);if(t){var a=Dt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pt(this,n)}}function Pt(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rt=Object(te.c)(bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(i,e);var t,n,r,a=Ct(i);function i(){return kt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.history,n=e.store,r=n.changelog_expanded_rows,a=n.editing_target?n.countries.filter((function(e){return e.id===n.editing_target}))[0].country+": ":"";return z.a.createElement("div",{className:"tab-pane--react admin-edit-pane"},z.a.createElement("h2",{className:"no-bold"},a,gettext("History")),z.a.createElement(jt.a,{data:t,expanded_rows:r,toggle_expando_cb:function(e){return n.toggleChangeLogRowExpando(e)}}))}}])&&St(t.prototype,n),r&&St(t,r),i}(z.a.Component))||bt,At=n("WtQ/");function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zt=Object(te.c)((function(e){var t=e.store,n=e.filterOptions;return z.a.createElement("div",{className:"form-group react-multiselect-checkbox"},z.a.createElement("label",{htmlFor:"countries_filter"},gettext("Find a Country")),z.a.createElement(ne.a,{value:t.filters.countries,options:n,onChange:function(e){return t.changeFilter("countries",e)},placeholder:gettext("None Selected"),id:"countries_filter"}))})),It=Object(te.c)((function(e){var t=e.store,n=e.filterOptions;return z.a.createElement("div",{className:"form-group react-multiselect-checkbox"},z.a.createElement("label",{htmlFor:"organizations_filter"},gettext("Organizations")),z.a.createElement(ne.a,{value:t.filters.organizations,options:n,onChange:function(e){return t.changeFilter("organizations",e)},placeholder:gettext("None Selected"),id:"organizations_filter"}))})),Tt=Object(te.c)((function(e){var t=e.store,n=e.filterOptions;return z.a.createElement("div",{className:"form-group react-multiselect-checkbox"},z.a.createElement("label",{htmlFor:"programs-filter"},gettext("Programs")),z.a.createElement(ne.a,{value:t.filters.programs,options:n,onChange:function(e){return t.changeFilter("programs",e)},placeholder:gettext("None Selected"),id:"programs-filter"}))})),Ht=Object(te.c)((function(e){var t=e.store,n=Object(At.d)(t.allCountries.map((function(e){return{value:e.id,label:e.country}}))),r=Object(At.d)(Object.entries(t.organizations).map((function(e){var t=Ft(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}}))),a=Object(At.d)(Object.entries(t.allPrograms).map((function(e){var t=Ft(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}})));return z.a.createElement("div",{id:"country-management-index-view",className:"row"},z.a.createElement(wt.a,null,z.a.createElement("div",{className:"filter-section"},z.a.createElement(It,{store:t,filterOptions:r}),z.a.createElement(Tt,{store:t,filterOptions:a})),z.a.createElement("div",{className:"filter-section filter-buttons"},z.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.applyFilters()}},gettext("Apply")),z.a.createElement("button",{className:"btn btn-reset",onClick:function(){return t.clearFilters()}},gettext("Reset")))),z.a.createElement("div",{className:"col admin-list"},z.a.createElement("header",{className:"page-title"},z.a.createElement("h1",null,gettext("Admin:")," ",z.a.createElement("small",null,gettext("Countries")))),z.a.createElement("div",{className:"admin-list__controls"},z.a.createElement("div",{className:"controls__top-filter"},z.a.createElement(zt,{store:t,filterOptions:n})),t.is_superuser&&z.a.createElement("div",{className:"controls__buttons"},z.a.createElement("a",{href:"#",tabIndex:"0",className:"btn btn-link btn-add",onClick:function(){return t.addCountry()}},z.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add Country")))),z.a.createElement(Ot.a,{isLoading:t.fetching_main_listing||t.applying_bulk_updates},z.a.createElement("div",{className:"admin-list__table"},z.a.createElement(re.a,{newData:t.new_country,data:t.countries,keyField:"id",HeaderRow:function(e){var t=e.Col,n=e.Row;return z.a.createElement(n,null,z.a.createElement(t,{size:"1"}),z.a.createElement(t,{size:"60"},gettext("Country")),z.a.createElement(t,null,gettext("Organizations")),z.a.createElement(t,null,gettext("Programs")),z.a.createElement(t,null,gettext("Users")))},Row:function(e){var n=e.Col,a=e.Row,i=e.data;return z.a.createElement(a,{expanded:i.id==t.editing_target,Expando:Object(te.c)((function(e){var n=e.Wrapper;return z.a.createElement(n,null,z.a.createElement(me,{notifyPaneChange:function(e){return t.onProfilePaneChange(e)},active_pane:t.active_editor_pane,new:"new"==i.id,ProfileSection:Object(te.c)((function(){return z.a.createElement(Ot.a,{isLoading:t.fetching_editing_data||t.saving||t.fetching_editing_history},z.a.createElement(Se,{new:"new"==i.id,country_data:i,organizationOptions:r,onUpdate:function(e,n){return t.updateCountry(e,n)},onCreate:function(e){return t.saveNewCountry(e)},errors:t.editing_errors,onIsDirtyChange:function(e){return t.setActiveFormIsDirty(e)}}))})),StrategicObjectiveSection:Object(te.c)((function(){return z.a.createElement(Ot.a,{isLoading:t.fetching_editing_data||t.saving||t.fetching_editing_history},z.a.createElement(Et,{country_id:i.id,objectives:t.editing_objectives_data,addObjective:function(){return t.addObjective()},onUpdate:function(e,n){return t.updateObjective(e,n)},onCreate:function(e){return t.createObjective(e)},onDelete:function(e){return t.deleteObjective(e)},errors:t.editing_objectives_errors,clearErrors:function(){return t.clearObjectiveEditingErrors()},onIsDirtyChange:function(e){return t.setActiveFormIsDirty(e)}}))})),DisaggregationSection:Object(te.c)((function(){return z.a.createElement(Ot.a,{isLoading:t.fetching_editing_data||t.saving||t.fetching_editing_history},z.a.createElement(rt,{country_id:i.id,countryName:i.country,programs:t.getCountryPrograms(i.id),disaggregations:t.editing_disaggregations_data,addDisaggregation:function(){return t.addDisaggregation()},assignLabelErrors:t.assignDisaggregationLabelErrors,onDelete:t.deleteDisaggregation.bind(t),onArchive:function(e){return t.archiveDisaggregation(e)},onUnarchive:function(e){return t.unarchiveDisaggregation(e)},onUpdate:function(e,n){return t.updateDisaggregation(e,n)},onCreate:function(e){return t.createDisaggregation(e)},errors:t.editing_disaggregations_errors,clearErrors:function(){return t.clearDisaggregationEditingErrors()},onIsDirtyChange:function(e){return t.setActiveFormIsDirty(e)}}))})),HistorySection:Object(te.c)((function(){return z.a.createElement(Ot.a,{isLoading:t.fetching_editing_data||t.saving||t.fetching_editing_history},z.a.createElement(Rt,{store:t,history:t.editing_history}))})),fetchObjectives:function(e){return t.fetchObjectives(e)}}))}))},z.a.createElement(n,{size:"0.2"}),z.a.createElement(n,{size:"2",className:"td--stretch"},z.a.createElement("div",{className:"expando-toggle icon__clickable",onClick:function(){return t.toggleEditingTarget(i.id)}},z.a.createElement("div",{className:"expando-toggle__icon"},z.a.createElement(Ce.a,{icon:t.editing_target==i.id?"caret-down":"caret-right"})),z.a.createElement("div",{className:"expando-toggle__label"},z.a.createElement("i",{className:"fas fa-globe"})," ",i.country||"---"))),z.a.createElement(n,{className:"text-nowrap"},i.organizations_count?z.a.createElement("a",{href:"/tola_management/organization/?countries[]=".concat(i.id)},z.a.createElement("i",{className:"fas fa-building"})," ",interpolate(ngettext("%s organization","%s organizations",i.organizations_count),[i.organizations_count])):z.a.createElement("span",null,z.a.createElement("i",{className:"fas fa-building"})," ",gettext("0 organizations"))),z.a.createElement(n,{className:"text-nowrap"},i.programs_count?z.a.createElement("a",{href:"/tola_management/program/?countries[]=".concat(i.id)},z.a.createElement("i",{className:"fas fa-cubes"})," ",interpolate(ngettext("%s program","%s programs",i.programs_count),[i.programs_count])):z.a.createElement("span",null,z.a.createElement("i",{className:"fas fa-cubes"})," ",gettext("0 programs"))),z.a.createElement(n,{className:"text-nowrap"},i.users_count?z.a.createElement("a",{href:"/tola_management/user/?countries[]=".concat(i.id)},z.a.createElement("i",{className:"fas fa-users"})," ",interpolate(ngettext("%s user","%s users",i.users_count),[i.users_count])):z.a.createElement("span",null,z.a.createElement("i",{className:"fas fa-users"})," ",gettext("0 users"))))}}))),z.a.createElement("div",{className:"admin-list__metadata"},z.a.createElement("div",{className:"metadata__count text-muted text-small"},t.country_count?"".concat(t.country_count," ").concat(gettext("countries")):"---"),z.a.createElement("div",{className:"metadata__controls"},t.total_pages&&z.a.createElement(ae.a,{pageCount:t.total_pages,initialPage:t.current_page,onPageChange:function(e){return t.changePage(e)}})))))})),Ut=n("XoI5");function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t=new ee({fetchCountries:function(e,t){return Ut.a.get("/tola_management/country/",{params:Bt({page:e},t)}).then((function(e){var t=e.data;return{results:t.results,total_results:t.count,total_pages:t.page_count,next_page:t.next,prev_page:t.previous}}))},fetchCountryObjectives:function(e){return Ut.a.get("/tola_management/countryobjective/",{params:{country:e}})},fetchCountryHistory:function(e){return Ut.a.get("/tola_management/country/".concat(e,"/history/"))},fetchCountryDisaggregations:function(e){return Ut.a.get("/tola_management/countrydisaggregation/",{params:{country:e}})},createCountry:function(e){return Ut.a.post("/tola_management/country/",e)},updateCountry:function(e,t){return Ut.a.put("/tola_management/country/".concat(e,"/"),t)},createObjective:function(e){return Ut.a.post("/tola_management/countryobjective/",e)},updateObjective:function(e,t){return Ut.a.put("/tola_management/countryobjective/".concat(e,"/"),t)},deleteObjective:function(e){return Ut.a.delete("/tola_management/countryobjective/".concat(e))},createDisaggregation:function(e){return Ut.a.post("/tola_management/countrydisaggregation/",e)},updateDisaggregation:function(e,t){return Ut.a.put("/tola_management/countrydisaggregation/".concat(e,"/"),t)},partialUpdateDisaggregation:function(e,t){return Ut.a.patch("/tola_management/countrydisaggregation/".concat(e,"/"),t)},deleteDisaggregation:function(e){return Ut.a.delete("/tola_management/countrydisaggregation/".concat(e))}},{allCountries:jsContext.countries,organizations:jsContext.organizations,allPrograms:jsContext.programs,is_superuser:jsContext.is_superuser});T.a.render(z.a.createElement(Ht,{store:$t}),document.querySelector("#app_root"))},RCjz:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("I+5a"),o=n.n(i);n("okNM");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement(o.a,c({previousLabel:"‹",previousClassName:"page-item previous",previousLinkClassName:"page-link",nextLabel:"›",nextClassName:"page-item next",nextLinkClassName:"page-link",breakLabel:"...",disabledClassName:"disabled",breakClassName:"page-item disabled",breakLinkClassName:"page-link",pageClassName:"page-item",pageLinkClassName:"page-link",marginPagesDisplayed:2,pageRangeDisplayed:5,containerClassName:"pagination",activeClassName:"active"},e))}},TGVD:function(e,t,n){"use strict";var r=n("okNM"),a=n("q1tI"),i=n.n(a),o=n("TSYQ"),c=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=function(e){var t=e.className,n=(e.size,l(e,["className","size"]));return i.a.createElement("td",s({className:["mgmt-table__col",t].join(" ")},n),n.children)},d=function(e){var t=e.className,n=e.size,r=l(e,["className","size"]);return i.a.createElement("th",s({className:["mgmt-table__col","mgmt-table__col__width-".concat(n),t].join(" ")},r),r.children)},p=function(e){var t=e.className,n=l(e,["className"]);return i.a.createElement("tr",s({className:["mgmt-table__row",t].join(" ")},n),n.children)},f=function(e){var t=e.className,n=l(e,["className"]);return i.a.createElement("tr",s({className:["mgmt-table__row table-header",t].join(" ")},n),n.children)},g=Object(r.c)((function(e){var t=e.className,n=e.expanded,a=e.Expando,o=l(e,["className","expanded","Expando"]);if(a){var u=Object(r.c)(a);return i.a.createElement("tbody",s({className:c()(["mgmt-table__body",t].join(" "),{"is-expanded":n})},o),i.a.createElement(p,null,o.children),n&&i.a.createElement(u,{Wrapper:m}))}return i.a.createElement("tbody",s({className:["mgmt-table__body",t].join(" ")},o),i.a.createElement(p,null,o.children))})),m=function(e){var t=e.className,n=l(e,["className"]);return i.a.createElement("tr",s({className:["mgmt-table__row--expanded",t].join(" ")},n),i.a.createElement("td",{colSpan:"5"},n.children))},y=Object(r.c)((function(e){var t=e.data,n=e.Row,a=e.keyField,o=(l(e,["data","Row","keyField"]),Object(r.c)(n));return t.map((function(e){return i.a.createElement(o,{key:e[a],data:e,Col:u,Row:g})}))})),b=Object(r.c)((function(e){var t=e.HeaderRow,n=e.className,a=l(e,["HeaderRow","className"]),o=Object(r.c)(t);return i.a.createElement("table",{className:["table bg-white",n].join(" ")},i.a.createElement("thead",null,i.a.createElement(o,{Col:d,Row:f})),i.a.createElement(y,a))}));t.a=b},"WtQ/":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o}));function r(){$((function(){var e=0===window.performance.getEntriesByType("navigation")[0].transferSize,t="reload"===window.performance.getEntriesByType("navigation")[0].type;e&&!t&&window.location.reload()}))}var a=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t,n=e.toString(),r=null;switch(e.toString().includes(",")?(n=e.toString().split(",")[0],r=e.toString().split(",").length>1?e.toString().split(",")[1]:null):e.toString().includes(".")&&(n=e.toString().split(".")[0],r=e.toString().split(".").length>1?e.toString().split(".")[1]:null),r=r&&r.length>0?r:null,window.userLang){case"es":t=n.replace(/\B(?=(\d{3})+(?!\d))/g,"."),r&&(t+=",".concat(r));break;case"fr":t=n.replace(/\B(?=(\d{3})+(?!\d))/g,String.fromCharCode(160)),r&&(t+=",".concat(r));break;case"en":default:t=n.replace(/\B(?=(\d{3})+(?!\d))/g,","),r&&(t+=".".concat(r))}return t},i=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t=a(Math.round(1e4*e)/100);return null===t?null:"".concat(t,"%")},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return e.sort((function(e,n){return e[t].toUpperCase()>n[t].toUpperCase()?1:-1}))}},XoI5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("vDqi"),a=n.n(r).a.create({withCredentials:!0,baseURL:"/api/",headers:{"X-CSRFToken":document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*\=\s*([^;]*).*$)|^.*$/,"$1")}})},Z2Y6:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("c7k8");n("Cs6D");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,o=l(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=o.call(this,e)).cache=new i.c({fixedWidth:!0,defaultHeight:35}),t.filter_val="",t}return t=u,(n=[{key:"render",value:function(){var e=this,t=this.props,n=(t.options,t.children),r=t.maxHeight,o=(t.getValue,t.selectProps),c=n.length||0;return o.inputValue!==this.filter_val&&(this.filter_val=o.inputValue,this.cache.clearAll()),a.a.createElement("div",{style:{display:"flex",height:"100vh",maxHeight:r+"px"}},a.a.createElement("div",{style:{flex:"1 1 auto"}},a.a.createElement(i.a,null,(function(t){var r=t.width,o=t.height;return a.a.createElement(i.e,{height:o,width:r,deferredMeasurementCache:e.cache,rowCount:c,rowHeight:e.cache.rowHeight,noRowsRenderer:function(){return a.a.createElement("div",null,"No selections available")},rowRenderer:function(t){var r=t.index,o=t.parent,c=t.key,s=t.style;return a.a.createElement(i.b,{key:c,cache:e.cache,parent:o,columnIndex:0,rowIndex:r},a.a.createElement("div",{style:s},n[r]))}})}))))}}])&&c(t.prototype,n),r&&c(t,r),u}(a.a.PureComponent),g=n("VCnP"),m=n.n(g),y=n("oary"),b=n.n(y),h=n("PAeb"),v=n("okNM");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var a=k(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){return a.a.createElement("div",{className:"count__label"},e.children,e.clearable&&a.a.createElement("div",{onClick:e.clearSelect},a.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))};function D(e){if(!1===e.data.selectable){e.children;var t=e.className,n=e.cx,r=e.getStyles,i=(e.Heading,e.setValue,e.data,e.label,e.getValue,e.theme),o=(e.selectProps.getOptionValue,{getStyles:r,cx:n,theme:i,indeterminate:!1,checked:!1});return a.a.createElement("div",{className:n(Object(h.css)(r("group",e)),{group:!0},t)},a.a.createElement("div",{className:n(Object(h.css)(r("groupHeading",N({},o))),{"group-heading":!0},t)},e.data.label),a.a.createElement("div",null,e.children))}return!0===e.data.divider?a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{style:{margin:"3px 0px 0px 0px"}}),a.a.createElement(b.a,e)):a.a.createElement(b.a,e)}var R=Object(v.c)(p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(o,e);var t,n,r,i=j(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).clearSelect=function(e){e.stopPropagation(),t.props.onChange([])},t.makeLabel=function(e){var n=e.placeholderButtonLabel,r=e.value;if(!r)return a.a.createElement(P,{clearable:!1},n);if(Array.isArray(r)){var i=r.filter((function(e){return!e.noList}));return 0===i.length?a.a.createElement(P,{clearable:!1},n):1===i.length?a.a.createElement(P,{clearable:!0,clearSelect:t.clearSelect},i[0].label):a.a.createElement(P,{clearable:!0,clearSelect:t.clearSelect},"".concat(i.length," ",gettext("selected")))}return a.a.createElement(P,{clearable:!1},r.label)},t}return t=o,(n=[{key:"render",value:function(){return a.a.createElement(m.a,E({},this.props,{placeholder:gettext("Search"),placeholderButtonLabel:this.props.placeholder,getDropdownButtonLabel:this.makeLabel,components:{MenuList:f,Group:D}}))}}])&&O(t.prototype,n),r&&O(t,r),o}(a.a.Component))||p;t.a=R},tnXs:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,r,i=u(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=i.call(this,e)).updateDimensions=function(){t.state.folded||t.state.folding||t.setState((function(){return{resize:!0}}),(function(){t.contentWidth=t.contentsContainer.current.offsetWidth,t.setState({resize:!1})}))},t.state={folding:!1,folded:!1,resize:!1},t.contentsContainer=a.a.createRef(),t}return t=d,(n=[{key:"componentDidMount",value:function(){this.contentWidth=this.contentsContainer.current.offsetWidth,window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"toggleFolded",value:function(){this.state.folding?this.foldComplete():this.setState({folding:!0,folded:!this.state.folded})}},{key:"foldComplete",value:function(){this.setState((function(){return{folding:!1}}),this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=c(t,["className"]),i=this.state.folded?this.state.folding?"fa-angle-double-left":"fa-chevron-right":this.state.folding?"fa-angle-double-right":"fa-chevron-left",s=this.state.folded?"0px":this.state.resize?"auto":this.contentWidth+"px",l=this.state.folded||this.state.folding?"hidden":"visible";return a.a.createElement("div",o({className:"folding-sidebar "+(n||"")},r),a.a.createElement("div",{className:"folding-sidebar__contents",onTransitionEnd:function(){return e.foldComplete()},ref:this.contentsContainer,style:{width:s,overflow:l}},a.a.createElement(a.a.Fragment,null,this.props.children)),a.a.createElement("div",{className:"folding-sidebar__trigger",onClick:function(){return e.toggleFolded()}},a.a.createElement("i",{key:i},a.a.createElement("span",{className:"fa "+i}))))}}])&&s(t.prototype,n),r&&s(t,r),d}(a.a.Component);t.a=f},v38i:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"l",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return b}));var a={value:null,label:"---------"},i="—",o=i,c=1,s=2,l=[3,4,5,6,7],u=[1,2],d=Object.freeze({1:gettext("Life of Program (LoP) only"),2:gettext("Midline and endline"),3:gettext("Annual"),4:gettext("Semi-annual"),5:gettext("Tri-annual"),6:gettext("Quarterly"),7:gettext("Monthly")}),p=Object.freeze({3:gettext("Years"),4:gettext("Semi-annual periods"),5:gettext("Tri-annual periods"),6:gettext("Quarters"),7:gettext("Months")}),f=1,g=2;"undefined"!=typeof gettext&&gettext;var m,y=Object.freeze({noFilter:0,missingTarget:1,missingResults:2,missingEvidence:3,aboveTarget:5,belowTarget:6,onTarget:7,nonReporting:8}),b=null!==(m="reason_for_change_options",r="undefined"!=typeof JS_GLOBALS&&JS_GLOBALS.hasOwnProperty(m)?JS_GLOBALS[m]:null)&&void 0!==r?r:[]}},[["NlW9",0,1]]]);
//# sourceMappingURL=tola_management_country-0756749067c41c346973.js.map
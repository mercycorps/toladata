(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"1faY":function(e,t,r){"use strict";r.r(t);var n,a,o,i,c,l,s,u,f,p,m,g,d,y,h,b,v,_,E,O,w,j,x,P,S,k=r("q1tI"),N=r.n(k),C=r("i8i4"),F=r.n(C),D=r("2vnA"),A=r("WtQ/");function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var B,U=(a=H((n=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"countries",a,this),M(this,"allCountries",o,this),M(this,"organizations",i,this),M(this,"users",c,this),M(this,"sectors",l,this),M(this,"filters",s,this),M(this,"appliedFilters",u,this),M(this,"programFilterPrograms",f,this),M(this,"programs",p,this),M(this,"program_count",m,this),M(this,"new_program",g,this),M(this,"fetching_main_listing",d,this),M(this,"current_page",y,this),M(this,"total_pages",h,this),M(this,"bulk_targets",b,this),M(this,"bulk_targets_all",v,this),M(this,"editing_target",_,this),M(this,"editing_errors",E,this),M(this,"fetching_editing_history",O,this),M(this,"editing_history",w,this),M(this,"saving",j,this),M(this,"applying_bulk_updates",x,this),M(this,"active_editor_pane",P,this),M(this,"changelog_expanded_rows",S,this),this.active_pane_is_dirty=!1,this.api=t,Object.assign(this,r),this.appliedFilters=I({},this.filters),this.fetchPrograms()}var t,r,n;return t=e,(r=[{key:"marshalFilters",value:function(e){return Object.entries(e).reduce((function(e,t){var r=R(t,2),n=r[0],a=r[1];return Array.isArray(a)?e[n]=a.map((function(e){return e.value})):a&&(e[n]=a.value),e}),{})}},{key:"dirtyConfirm",value:function(){return!this.active_pane_is_dirty||this.active_pane_is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"onProfilePaneChange",value:function(e){this.dirtyConfirm()&&(this.active_editor_pane=e,this.active_pane_is_dirty=!1)}},{key:"setActiveFormIsDirty",value:function(e){this.active_pane_is_dirty=e}},{key:"setActivePaneSaveAction",value:function(e){this.active_pane_save=e}},{key:"fetchPrograms",value:function(){var e=this;this.dirtyConfirm()&&(this.fetching_main_listing=!0,this.api.fetchPrograms(this.current_page+1,this.marshalFilters(this.appliedFilters)).then((function(t){Object(D.p)((function(){e.fetching_main_listing=!1,e.programs=Object(A.d)(t.results,"name"),e.program_count=t.total_results,e.total_pages=t.total_pages,e.next_page=t.next_page,e.previous_page=t.previous_page,e.active_editor_pane="profile",e.active_pane_is_dirty=!1}))})),this.api.fetchProgramsForFilter(this.marshalFilters(this.appliedFilters)).then((function(t){Object(D.p)((function(){e.programFilterPrograms=t.data}))})))}},{key:"applyFilters",value:function(){this.appliedFilters=I({},this.filters),this.current_page=0,this.fetchPrograms()}},{key:"changePage",value:function(e){e.selected!=this.current_page&&(this.current_page=e.selected,this.bulk_targets=new Map,this.bulk_targets_all=!1,this.fetchPrograms())}},{key:"changeFilter",value:function(e,t){this.filters=Object.assign(this.filters,L({},e,t)),"programs"==e&&this.applyFilters()}},{key:"clearFilters",value:function(){var e={countries:[],organizations:[],sectors:[],programStatus:null,programs:this.filters.programs||[],users:[]};this.filters=Object.assign(this.filters,e)}},{key:"toggleEditingTarget",value:function(e){var t=this;this.dirtyConfirm()&&("new"==this.editing_target&&(this.programs.shift(),this.editing_errors={}),this.active_editor_pane="profile",this.editing_target==e?(this.editing_target=!1,this.editing_errors={}):(this.editing_target=e,this.fetching_editing_history=!0,this.api.fetchProgramHistory(e).then((function(e){Object(D.p)((function(){t.fetching_editing_history=!1,t.editing_history=e.data}))}))))}},{key:"updateLocalPrograms",value:function(e){this.programs=this.programs.reduce((function(t,r){return r.id==e.id?t.push(e):t.push(r),t}),[])}},{key:"onSaveSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully saved"),delay:5e3})}},{key:"onSaveErrorHandler",value:function(){PNotify.error({text:gettext("Saving failed"),delay:5e3})}},{key:"onGAITDatesSyncSuccess",value:function(){PNotify.success({text:gettext("Successfully synced GAIT program start and end dates"),delay:5e3})}},{key:"onGAITDatesSyncFailure",value:function(e,t){var r=this;PNotify.notice({text:gettext("Failed to sync GAIT program start and end dates: ")+e,hide:!1,modules:{Confirm:{confirm:!0,buttons:[{text:gettext("Retry"),primary:!0,click:function(e){r.syncGAITDates(t),e.close()}},{text:gettext("Ignore"),click:function(e){e.close()}}]}}})}},{key:"createProgram",value:function(){this.dirtyConfirm()&&("new"==this.editing_target&&this.programs.shift(),this.active_editor_pane="profile",this.active_pane_is_dirty=!1,this.programs.unshift({id:"new",name:"",gaitid:"",fundcode:"",funding_status:"Funded",description:"",country:[],sector:[]}),this.editing_target="new")}},{key:"validateGaitId",value:function(e){var t=this;if(e.gaitid){var r=e.id||0;return new Promise((function(n,a){t.api.validateGaitId(e.gaitid,r).then((function(e){if(!1===e.data.unique){var t=gettext("The GAIT ID for this program is shared with at least one other program."),r=gettext("View programs with this ID in GAIT."),o="".concat(t,' <a href="').concat(e.data.gait_link,'" target="_blank">').concat(r,"</a>");window.create_unified_changeset_notice({header:gettext("Warning"),show_icon:!0,rationale_required:!1,include_rationale:!1,message_text:gettext("Are you sure you want to continue?"),notice_type:"error",on_submit:n,on_cancel:a,preamble:o})}else n()})).catch((function(e){return a(e)}))}))}return new Promise((function(e,t){return e()}))}},{key:"syncGAITDates",value:function(e){var t=this;return this.api.syncGAITDates(e).then((function(r){var n=r.data.gait_error;n?t.onGAITDatesSyncFailure(n,e):t.onGAITDatesSyncSuccess()})).catch((function(r){return t.onGAITDatesSyncFailure(gettext("There was a network or server connection error."),e),Promise.reject("Request error to sync GAIT dates")}))}},{key:"saveNewProgram",value:function(e){var t=this;e.id=null,this.saving=!0,this.validateGaitId(e).then((function(){return t.api.createProgram(e).catch((function(e){return e.response&&Object(D.p)((function(){t.editing_errors=e.response.data})),Promise.reject("program creation failed")}))})).then((function(e){return Promise.all([e,t.api.fetchProgramHistory(e.data.id)])})).then((function(e){var r=R(e,2),n=r[0],a=r[1];return Object(D.p)((function(){t.editing_errors={},t.editing_target=n.data.id,t.editing_target_data=n.data,t.editing_history=a.data,t.programs.shift(),t.programs.unshift(n.data),t.programFilterPrograms.unshift(n.data),t.active_pane_is_dirty=!1,t.onSaveSuccessHandler()})),n})).then((function(e){return e.data.gaitid?t.syncGAITDates(e.data.id):Promise.reject("No GAIT id on program")})).finally((function(){Object(D.p)((function(){t.saving=!1}))})).catch((function(e){console.log("There was an error in saving a new program")}))}},{key:"updateProgram",value:function(e,t){var r=this;this.saving=!0,this.api.updateProgram(e,t).then((function(n){return r.api.fetchProgramHistory(e).then((function(e){return Object(D.p)((function(){r.saving=!1,r.editing_errors={},r.active_pane_is_dirty=!1,r.editing_target_data=t,r.updateLocalPrograms(n.data),r.editing_history=e.data,r.onSaveSuccessHandler()}))}))})).catch((function(e){Object(D.p)((function(){r.saving=!1,r.editing_errors=e.response.data,r.onSaveErrorHandler()}))}))}},{key:"toggleBulkTarget",value:function(e){this.bulk_targets.set(e,!this.bulk_targets.get(e))}},{key:"toggleBulkTargetsAll",value:function(){var e=this;this.bulk_targets_all=!this.bulk_targets_all,this.bulk_targets=new Map(this.programs.map((function(t){return[t.id,e.bulk_targets_all]})))}},{key:"postBulkUpdateLocalPrograms",value:function(e){var t=new Map(e.map((function(e){return[e.id,e]})));this.programs=this.programs.reduce((function(e,r){var n=t.get(r.id);return n?e.push(Object.assign(r,n)):e.push(r),e}),[])}},{key:"bulkUpdateProgramStatus",value:function(e){var t=this,r=Array.from(this.bulk_targets.entries()).filter((function(e){var t=R(e,2);return t[0],t[1]})).map((function(e){var t=R(e,2),r=t[0];return t[1],r}));r.length&&e&&(this.applying_bulk_updates=!0,this.api.updateProgramFundingStatusBulk(r,e).then((function(e){var r=e.data;Object(D.p)((function(){t.postBulkUpdateLocalPrograms(r),t.applying_bulk_updates=!1,t.onSaveSuccessHandler()}))})).catch((function(e){Object(D.p)((function(){t.applying_bulk_updates=!1,t.onSaveErrorHandler()}))})))}},{key:"toggleChangeLogRowExpando",value:function(e){this.changelog_expanded_rows.has(e)?this.changelog_expanded_rows.delete(e):this.changelog_expanded_rows.add(e)}}])&&G(t.prototype,r),n&&G(t,n),e}()).prototype,"countries",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=H(n.prototype,"allCountries",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=H(n.prototype,"organizations",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=H(n.prototype,"users",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=H(n.prototype,"sectors",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=H(n.prototype,"filters",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{countries:[],organizations:[],sectors:[],programStatus:null,programs:[],users:[]}}}),u=H(n.prototype,"appliedFilters",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=H(n.prototype,"programFilterPrograms",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=H(n.prototype,"programs",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=H(n.prototype,"program_count",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=H(n.prototype,"new_program",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=H(n.prototype,"fetching_main_listing",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=H(n.prototype,"current_page",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=H(n.prototype,"total_pages",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=H(n.prototype,"bulk_targets",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),v=H(n.prototype,"bulk_targets_all",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=H(n.prototype,"editing_target",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=H(n.prototype,"editing_errors",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),O=H(n.prototype,"fetching_editing_history",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=H(n.prototype,"editing_history",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=H(n.prototype,"saving",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=H(n.prototype,"applying_bulk_updates",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=H(n.prototype,"active_editor_pane",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"profile"}}),S=H(n.prototype,"changelog_expanded_rows",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),H(n.prototype,"onProfilePaneChange",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"onProfilePaneChange"),n.prototype),H(n.prototype,"fetchPrograms",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"fetchPrograms"),n.prototype),H(n.prototype,"applyFilters",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"applyFilters"),n.prototype),H(n.prototype,"changePage",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"changePage"),n.prototype),H(n.prototype,"changeFilter",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"changeFilter"),n.prototype),H(n.prototype,"clearFilters",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"clearFilters"),n.prototype),H(n.prototype,"toggleEditingTarget",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleEditingTarget"),n.prototype),H(n.prototype,"createProgram",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"createProgram"),n.prototype),H(n.prototype,"saveNewProgram",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"saveNewProgram"),n.prototype),H(n.prototype,"updateProgram",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"updateProgram"),n.prototype),H(n.prototype,"toggleBulkTarget",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleBulkTarget"),n.prototype),H(n.prototype,"toggleBulkTargetsAll",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleBulkTargetsAll"),n.prototype),H(n.prototype,"bulkUpdateProgramStatus",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"bulkUpdateProgramStatus"),n.prototype),H(n.prototype,"toggleChangeLogRowExpando",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleChangeLogRowExpando"),n.prototype),n),q=r("okNM"),V=r("Cs6D"),W=r("Z2Y6"),J=r("TGVD"),Y=r("RCjz");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var a=te(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ee(this,r)}}function ee(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re,ne=Object(q.c)(B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(o,e);var t,r,n,a=Z(o);function o(){return Q(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"updateActivePage",value:function(e){this.props.new||this.props.notifyPaneChange(e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.ProfileSection,n=t.SettingsSection,a=t.HistorySection,o=t.active_pane,i="profile"==o?"active":"",c="settings"==o?"active":"",l="status_and_history"==o?"active":"",s=this.props.new?"disabled":"";return N.a.createElement("div",{className:"user-editor tab-set--vertical"},N.a.createElement("ul",{className:"nav nav-tabs"},N.a.createElement("li",{className:"nav-item"},N.a.createElement("a",{href:"#",className:"nav-link ".concat(i),onClick:function(t){t.preventDefault(),e.updateActivePage("profile")}},gettext("Profile"))),N.a.createElement("li",{className:"nav-item"},N.a.createElement("a",{href:"#",className:"nav-link ".concat(c," ").concat(s),onClick:function(t){t.preventDefault(),e.updateActivePage("settings")}},gettext("Settings"))),N.a.createElement("li",{className:"nav-item"},N.a.createElement("a",{href:"#",className:"nav-link ".concat(l," ").concat(s),onClick:function(t){t.preventDefault(),e.updateActivePage("status_and_history")}},gettext("Status and History")))),N.a.createElement("div",{className:"tab-content"},"profile"==o&&N.a.createElement(r,null),"settings"==o&&N.a.createElement(n,null),"status_and_history"==o&&N.a.createElement(a,null)))}}])&&X(t.prototype,r),n&&X(t,n),o}(N.a.Component))||B,ae=r("TSYQ"),oe=r.n(ae);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fe(e);if(t){var a=fe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ue(this,r)}}function ue(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe,me=Object(q.c)((function(e){var t=e.errorMessages;return t?N.a.createElement("div",{className:"invalid-feedback"},t.map((function(e,t){return N.a.createElement("span",{key:t},e)}))):null})),ge=Object(q.c)(re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(o,e);var t,r,n,a=se(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e);var r=e.program_data;return t.state={original_data:Object.assign({},r),managed_data:Object.assign({},r)},t}return t=o,(r=[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_data)!=JSON.stringify(this.state.original_data))}},{key:"save",value:function(){var e=this.props.program_data.id,t=this.state.managed_data;this.props.onUpdate(e,t)}},{key:"saveNew",value:function(e){e.preventDefault();var t=this.state.managed_data;this.props.onCreate(t)}},{key:"updateFormField",value:function(e,t){var r,n,a,o=this;this.setState({managed_data:Object.assign(this.state.managed_data,(r={},n=e,a=t,n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r))},(function(){return o.hasUnsavedDataAction()}))}},{key:"resetForm",value:function(){var e=this;this.setState({managed_data:Object.assign({},this.state.original_data)},(function(){return e.hasUnsavedDataAction()}))}},{key:"formErrors",value:function(e){return this.props.errors[e]}},{key:"render",value:function(){var e=this,t=this.state.managed_data,r=t.country.map((function(t){return e.props.countryOptions.find((function(e){return e.value==t}))})),n=t.sector.map((function(t){return e.props.sectorOptions.find((function(e){return e.value==t}))}));return N.a.createElement("div",{className:"tab-pane--react"},N.a.createElement("h2",{className:"no-bold"},this.props.program_data.name?this.props.program_data.name+": ":"",gettext("Profile")),N.a.createElement("form",{className:"form"},N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{className:"label--required",htmlFor:"program-name-input"},gettext("Program name")),N.a.createElement("input",{type:"text",value:t.name,onChange:function(t){return e.updateFormField("name",t.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("name")}),id:"program-name-input",required:!0}),N.a.createElement(me,{errorMessages:this.formErrors("name")})),N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"program-gait-input"},gettext("GAIT ID")),N.a.createElement("input",{type:"tel",value:t.gaitid,onChange:function(t){return e.updateFormField("gaitid",t.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("gaitid")}),id:"program-gait-input",disabled:!this.props.new}),N.a.createElement(me,{errorMessages:this.formErrors("gaitid")})),N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"program-fund-code-input"},gettext("Fund Code")),N.a.createElement("input",{type:"tel",value:t.fundCode,onChange:function(t){return e.updateFormField("fundCode",t.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("fundCode")}),id:"program-fund-code-input",disabled:!this.props.new}),N.a.createElement(me,{errorMessages:this.formErrors("fundCode")})),N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"program-description-input"},gettext("Description")),N.a.createElement("textarea",{value:t.description||"",onChange:function(t){return e.updateFormField("description",t.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("description")}),id:"program-description-input"}),N.a.createElement(me,{errorMessages:this.formErrors("description")})),N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"program-county-input",className:"label--required"},gettext("Countries")),N.a.createElement(W.a,{value:r,options:this.props.countryOptions,onChange:function(t){return e.updateFormField("country",t.map((function(e){return e.value})))},className:oe()("react-select",{"is-invalid":this.formErrors("country")}),id:"program-country-input"}),N.a.createElement(me,{errorMessages:this.formErrors("country")})),N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"program-sectors-input"},gettext("Sectors")),N.a.createElement(W.a,{value:n,options:this.props.sectorOptions,onChange:function(t){return e.updateFormField("sector",t.map((function(e){return e.value})))},className:oe()("react-select",{"is-invalid":this.formErrors("sector")}),id:"program-sectors-input"}),N.a.createElement(me,{errorMessages:this.formErrors("sector")})),this.props.new&&N.a.createElement("div",{className:"form-group btn-row"},N.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(t){return e.saveNew(t)}},gettext("Save Changes")),N.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return e.resetForm()}},gettext("Reset"))),!this.props.new&&N.a.createElement("div",{className:"form-group btn-row"},N.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(t){return e.save(t)}},gettext("Save Changes")),N.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return e.resetForm()}},gettext("Reset")))))}}])&&ce(t.prototype,r),n&&ce(t,n),o}(N.a.Component))||re;function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Oe(e);if(t){var a=Oe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ee(this,r)}}function Ee(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we,je=Object(q.c)(pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(o,e);var t,r,n,a=_e(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).autonumberChange=function(e){"2"==e.target.value?t.setState({autonumber:!1}):t.setState({autonumber:!0})},t.groupingChange=function(e){e.target.checked?t.setState({grouping:2}):t.setState({grouping:1})},t.save=function(e){e.preventDefault();var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.props.program_data);!1!==t.state.grouping&&(r._using_results_framework=t.state.grouping),null!==t.state.autonumber&&(r.auto_number_indicators=t.state.autonumber),t.props.onSave(t.props.program_data.id,r)};var r=void 0!==e.program_data._using_results_framework&&e.program_data._using_results_framework,n=1===r?null:e.program_data.auto_number_indicators;t.state={autonumber:n,grouping:r};var i={autonumber:n,grouping:r};return t.resetForm=function(){t.setState(i)},t.formDirty=function(){return t.state.autonumber!=i.autonumber||t.state.grouping!=i.grouping},t}return t=o,(r=[{key:"render",value:function(){var e=this;return N.a.createElement("div",{className:"tab-pane--react"},N.a.createElement("h2",{className:"no-bold"},this.props.program_data.name?this.props.program_data.name+": ":"",gettext("Settings")),N.a.createElement("div",{className:"d-flex flex-column w-75 pr-5"},N.a.createElement("form",{className:"form"},!1!==this.state.grouping&&N.a.createElement(N.a.Fragment,null,N.a.createElement("h4",null,gettext("Indicator grouping")),N.a.createElement("div",{className:"form-check mb-3"},N.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"grouping",id:"grouping",checked:2==this.state.grouping,onChange:this.groupingChange}),N.a.createElement("label",{className:"form-check-label",htmlFor:"grouping"},N.a.createElement("strong",null,gettext("Group indicators according to the results framework"),":"),N.a.createElement("span",null,"  ",gettext("After you have set a results framework for this program and assigned indicators to it, select this option to retire the original indicator levels and view indicators grouped by results framework levels instead.  This setting affects the program page, indicator plan, and IPTT reports."))))),null!==this.state.autonumber&&N.a.createElement(N.a.Fragment,null,N.a.createElement("h4",null,gettext("Indicator numbering")),N.a.createElement("div",{className:"form-check mb-3"},N.a.createElement("input",{className:"form-check-input",type:"radio",value:"1",name:"autonumber",id:"autonumber_on",checked:this.state.autonumber,onChange:this.autonumberChange}),N.a.createElement("label",{className:"form-check-label",htmlFor:"autonumber_on"},N.a.createElement("strong",null,gettext("Auto-number indicators (recommended)"),":"),"  ",gettext("Indicator numbers are automatically determined by their results framework assignments."))),N.a.createElement("div",{className:"form-check mb-5"},N.a.createElement("input",{className:"form-check-input",type:"radio",value:"2",name:"autonumber",id:"autonumber_off",checked:!this.state.autonumber,onChange:this.autonumberChange}),N.a.createElement("label",{className:"form-check-label",htmlFor:"autonumber_off"},N.a.createElement("strong",null,gettext("Manually number indicators"),":"),"  ",gettext("If your donor requires a special numbering convention, you can enter a custom number for each indicator."),N.a.createElement("strong",{className:"text-danger"},"  ",gettext("Manually entered numbers do not affect the order in which indicators are listed; they are purely for display purposes."))))),N.a.createElement("div",{className:"form-group btn-row"},N.a.createElement("button",{disabled:!this.formDirty(),className:"btn btn-primary",type:"button",onClick:function(t){return e.save(t)}},gettext("Save Changes")),N.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return e.resetForm()}},gettext("Reset"))))))}}])&&be(t.prototype,r),n&&be(t,n),o}(N.a.Component))||pe,xe=(r("c7k8"),r("H4hL"),r("KnAV"));function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Fe(e);if(t){var a=Fe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ce(this,r)}}function Ce(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var De=[{value:"Funded",label:gettext("Active")},{value:"Completed",label:gettext("Inactive")}],Ae=Object(q.c)(we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(o,e);var t,r,n,a=Ne(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e);var r=e.program_data;return t.state={managed_status:Object.assign({},r),original_status:Object.assign({},r)},t}return t=o,(r=[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_status)!=JSON.stringify(this.state.original_status))}},{key:"onStatusChange",value:function(e){var t=this,r=e.value;this.setState({managed_status:Object.assign(this.state.managed_status,{funding_status:r})},(function(){return t.hasUnsavedDataAction()}))}},{key:"onSave",value:function(){this.props.onSave(this.state.original_status.id,this.state.managed_status)}},{key:"onReset",value:function(){var e=this;this.setState({managed_status:this.state.original_status},(function(){return e.hasUnsavedDataAction()}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.history,n=t.store,a=n.changelog_expanded_rows,o=De.find((function(t){return t.value==e.state.managed_status.funding_status}));return N.a.createElement("div",{className:"tab-pane--react admin-edit-pane"},N.a.createElement("h2",{className:"no-bold"},this.props.program_data.name?this.props.program_data.name+": ":"",gettext("Status and History")),N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"status-input",className:"label--required",required:!0},gettext("Status")),N.a.createElement(V.a,{isSearchable:!1,options:De,value:o,onChange:function(t){return e.onStatusChange(t)}})),N.a.createElement("div",{className:"row"},N.a.createElement("div",{className:"col"},N.a.createElement("div",{className:"form-group btn-row"},N.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.onSave()}},gettext("Save Changes")),N.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return e.onReset()}},gettext("Reset"))))),N.a.createElement(xe.a,{data:r,expanded_rows:a,toggle_expando_cb:function(e){return n.toggleChangeLogRowExpando(e)}}))}}])&&Se(t.prototype,r),n&&Se(t,n),o}(N.a.Component))||we,Re=r("DDFe"),Te=r("tnXs"),ze=r("IP2g");function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ve(e);if(t){var a=Ve(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return qe(this,r)}}function qe(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=Object(q.c)((function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"users_filter"},gettext("Users")),N.a.createElement(W.a,{value:t.filters.users,options:r,onChange:function(e){return t.changeFilter("users",e)},placeholder:gettext("None Selected"),id:"users_filter"}))})),Je=Object(q.c)((function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"countries_filter"},gettext("Countries")),N.a.createElement(W.a,{value:t.filters.countries,options:r,onChange:function(e){return t.changeFilter("countries",e)},placeholder:gettext("None Selected"),id:"countries_filter"}))})),Ye=Object(q.c)((function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"organizations_filter"},gettext("Organizations")),N.a.createElement(W.a,{value:t.filters.organizations,options:r,onChange:function(e){return t.changeFilter("organizations",e)},placeholder:gettext("None Selected"),id:"organizations_filter"}))})),$e=Object(q.c)((function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"sector-filter"},gettext("Sectors")),N.a.createElement(W.a,{value:t.filters.sectors,options:r,onChange:function(e){return t.changeFilter("sectors",e)},placeholder:gettext("None Selected"),id:"sector-filter"}))})),Qe=Object(q.c)((function(e){var t=e.store,r=[{value:"Active",label:gettext("Active")},{value:"Inactive",label:gettext("Inactive")}];return N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"program-status-filter"},gettext("Status")),N.a.createElement(V.a,{isMulti:!1,value:t.filters.programStatus,options:r,onChange:function(e){return t.changeFilter("programStatus",e)},placeholder:gettext("None Selected"),id:"program-status-filter"}))})),Xe=Object(q.c)((function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"programs-filter"},gettext("Find a Program")),N.a.createElement(W.a,{value:t.filters.programs,options:r,onChange:function(e){return t.changeFilter("programs",e)},placeholder:gettext("None Selected"),id:"programs-filter"}))})),Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(o,e);var t,r,n,a=Ue(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).active_child=N.a.createRef(),t.state={current_action:null,current_vals:[]},t}return t=o,(r=[{key:"onActionChanged",value:function(e){this.setState({current_action:e.value})}},{key:"onChange",value:function(e){this.setState({current_vals:e})}},{key:"onApply",value:function(){var e=this.props.secondaryOptions[this.state.current_action];e&&e.onApply(this.state.current_vals)}},{key:"render",value:function(){var e=this,t=this.props.secondaryOptions[this.state.current_action],r=t&&t.component;return N.a.createElement("div",{className:"controls__bulk-actions"},N.a.createElement("div",{className:"bulk__select"},N.a.createElement(V.a,{placeholder:gettext("Bulk Actions"),value:this.props.primaryOptions.find((function(t){return t.value==e.state.current_action})),options:this.props.primaryOptions,onChange:function(t){return e.onActionChanged(t)}})),t&&N.a.createElement("div",{className:"bulk__select"},N.a.createElement(r,{placeholder:gettext("Select..."),value:this.state.current_vals,onChange:function(t){return e.onChange(t)}})),!t&&N.a.createElement("div",{className:"bulk__select"},N.a.createElement(V.a,{placeholder:"---",noOptionsMessage:function(){return gettext("No options")}})),N.a.createElement("button",{className:"btn btn-secondary",disabled:!this.state.current_action,onClick:function(){return e.onApply()}},gettext("Apply")))}}])&&He(t.prototype,r),n&&He(t,n),o}(N.a.Component),Ze=Object(q.c)((function(e){var t=e.store,r=Object(A.d)(Object.entries(t.allCountries).map((function(e){var t=Le(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}}))),n=Object(A.d)(Object.entries(t.countries).map((function(e){var t=Le(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}}))),a=Object(A.d)(Object.entries(t.organizations).map((function(e){var t=Le(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}}))),o=Object(A.d)(t.sectors.map((function(e){return{value:e.id,label:e.name}}))),i=Object(A.d)(Object.entries(t.programFilterPrograms).map((function(e){var t=Le(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}}))),c=Object(A.d)(Object.entries(t.users).map((function(e){var t=Le(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}}))),l=[{value:"Funded",label:gettext("Active")},{value:"Completed",label:gettext("Inactive")}],s={primary_options:[{label:gettext("Set program status"),value:"set_program_status"}],secondary_options:{set_program_status:{component:function(e){return N.a.createElement(V.a,Ie({options:l},e))},onApply:function(e){return t.bulkUpdateProgramStatus(e.value)}}}};return N.a.createElement("div",{id:"program-management-index-view",className:"row"},N.a.createElement(Te.a,null,N.a.createElement("div",{className:"filter-section"},N.a.createElement(Je,{store:t,filterOptions:n}),N.a.createElement(We,{store:t,filterOptions:c}),N.a.createElement(Ye,{store:t,filterOptions:a}),N.a.createElement($e,{store:t,filterOptions:o}),N.a.createElement(Qe,{store:t})),N.a.createElement("div",{className:"filter-section filter-buttons"},N.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.applyFilters()}},gettext("Apply")),N.a.createElement("button",{className:"btn btn-reset",onClick:function(){return t.clearFilters()}},gettext("Reset")))),N.a.createElement("div",{className:"col admin-list"},N.a.createElement("header",{className:"page-title"},N.a.createElement("h1",null,gettext("Admin:")," ",N.a.createElement("small",null,gettext("Programs")))),N.a.createElement("div",{className:"admin-list__controls"},N.a.createElement(Ke,{primaryOptions:s.primary_options,secondaryOptions:s.secondary_options}),N.a.createElement("div",{className:"controls__buttons"},N.a.createElement("a",{href:"#",className:"btn btn-link btn-add",tabIndex:"0",onClick:function(){return t.createProgram()}},N.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add Program")))),N.a.createElement("div",{className:"admin-list__top-filter"},N.a.createElement(Xe,{store:t,filterOptions:i})),N.a.createElement(Re.a,{isLoading:t.fetching_main_listing||t.applying_bulk_updates},N.a.createElement("div",{className:"admin-list__table"},N.a.createElement(J.a,{newData:t.new_program,data:t.programs,keyField:"id",HeaderRow:function(e){var r=e.Col,n=e.Row;return N.a.createElement(n,null,N.a.createElement(r,{size:"0.5"},N.a.createElement("input",{type:"checkbox",checked:t.bulk_targets_all,onChange:function(){return t.toggleBulkTargetsAll()}})),N.a.createElement(r,{size:"2",className:"td--stretch"},gettext("Program")),N.a.createElement(r,null,gettext("Organizations")),N.a.createElement(r,null,gettext("Users")),N.a.createElement(r,null,gettext("Status")))},Row:function(e){var n=e.Col,a=e.Row,i=e.data;return N.a.createElement(a,{expanded:i.id==t.editing_target,Expando:Object(q.c)((function(e){var n=e.Wrapper;return N.a.createElement(n,null,N.a.createElement(ne,{new:"new"==i.id,active_pane:t.active_editor_pane,notifyPaneChange:function(e){return t.onProfilePaneChange(e)},ProfileSection:Object(q.c)((function(){return N.a.createElement(Re.a,{isLoading:t.saving},N.a.createElement(ge,{onIsDirtyChange:function(e){return t.setActiveFormIsDirty(e)},new:"new"==i.id,program_data:i,onUpdate:function(e,r){return t.updateProgram(e,r)},onCreate:function(e){return t.saveNewProgram(e)},sectorOptions:o,countryOptions:r,errors:t.editing_errors}))})),SettingsSection:Object(q.c)((function(){return N.a.createElement(Re.a,{isLoading:t.saving},N.a.createElement(je,{program_data:i,store:t,onSave:function(e,r){return t.updateProgram(e,r)}}))})),HistorySection:Object(q.c)((function(){return N.a.createElement(Re.a,{isLoading:t.saving},N.a.createElement(Ae,{store:t,onIsDirtyChange:function(e){return t.setActiveFormIsDirty(e)},program_data:i,fetching_history:t.fetching_editing_history,history:t.editing_history,saving:t.saving,onSave:function(e,r){return t.updateProgram(e,r)}}))}))}))}))},N.a.createElement(n,{size:"0.5"},N.a.createElement("input",{type:"checkbox",disabled:"new"==i.id,checked:t.bulk_targets.get(i.id)||!1,onChange:function(){return t.toggleBulkTarget(i.id)}})),N.a.createElement(n,{size:"2",className:"td--stretch"},"new"==i.id&&N.a.createElement("div",{className:"expando-toggle icon__disabled"},N.a.createElement("div",{className:"expando-toggle__icon"},N.a.createElement(ze.a,{icon:t.editing_target==i.id?"caret-down":"caret-right"})),N.a.createElement("div",{className:"expando-toggle__label"},N.a.createElement("i",{className:"fas fa-cube"})," ",i.name||gettext("New Program"))),"new"!=i.id&&N.a.createElement("div",{className:"expando-toggle icon__clickable",onClick:function(){return t.toggleEditingTarget(i.id)}},N.a.createElement("div",{className:"expando-toggle__icon"},N.a.createElement(ze.a,{icon:t.editing_target==i.id?"caret-down":"caret-right"})),N.a.createElement("div",{className:"expando-toggle__label"},N.a.createElement("i",{className:"fas fa-cube"})," ",i.name||gettext("New Program")))),N.a.createElement(n,null,function(e){return e.organizations?N.a.createElement("a",{href:"/tola_management/organization/?programs[]=".concat(e.id)},N.a.createElement("i",{className:"fas fa-building"})," ",e.onlyOrganizationId?t.organizations[e.onlyOrganizationId].name:"".concat(e.organizations," organizations")):"---"}(i)),N.a.createElement(n,{className:"text-nowrap"},i.program_users?N.a.createElement("a",{href:"/tola_management/user/?programs[]=".concat(i.id)},N.a.createElement("i",{className:"fas fa-users"}),"  ",interpolate(ngettext("%s user","%s users",i.program_users),[i.program_users])):N.a.createElement("span",null,N.a.createElement("i",{className:"fas fa-users"})," ",gettext("0 users"))),N.a.createElement(n,null,"funded"===i.funding_status.toLowerCase()?gettext("Active"):gettext("Inactive")))}}))),N.a.createElement("div",{className:"admin-list__metadata"},N.a.createElement("div",{className:"metadata__count text-small text-muted"},t.program_count?"".concat(t.program_count," ").concat(gettext("programs")):"---"),N.a.createElement("div",{className:"metadata__controls"},t.total_pages&&N.a.createElement(Y.a,{pageCount:t.total_pages,initialPage:t.current_page,onPageChange:function(e){return t.changePage(e)}})))))})),et=r("XoI5");function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at,ot,it,ct={fetchPrograms:function(e,t){return et.a.get("/tola_management/program/",{params:rt({page:e},t)}).then((function(e){var t=e.data;return{results:t.results,total_results:t.count,total_pages:t.page_count,next_page:t.next,prev_page:t.previous}}))},fetchProgramsForFilter:function(e){return et.a.get("/tola_management/program/program_filter_options",{params:rt({},e)})},fetchProgramHistory:function(e){return et.a.get("/tola_management/program/".concat(e,"/history/"))},createProgram:function(e){return et.a.post("/tola_management/program/",e)},updateProgram:function(e,t){return et.a.put("/tola_management/program/".concat(e,"/"),t)},updateProgramFundingStatusBulk:function(e,t){return et.a.post("/tola_management/program/bulk_update_status/",{ids:e,funding_status:t})},validateGaitId:function(e,t){return et.a.get("/tola_management/program/".concat(t,"/gait/").concat(e,"/"))},syncGAITDates:function(e){return et.a.put("/tola_management/program/".concat(e,"/sync_gait_dates/"))}},lt=jsContext,st=lt.country_filter,ut=lt.organization_filter,ft=lt.users_filter,pt=lt.allCountries,mt=lt.countries,gt=lt.organizations,dt=lt.users,yt=lt.programFilterPrograms,ht=lt.sectors,bt={countries:(it=st,it.map((function(e){return mt[e]})).map((function(e){return{label:e.name,value:e.id}}))),organizations:(ot=ut,ot.map((function(e){return gt[e]})).map((function(e){return{label:e.name,value:e.id}}))),users:(at=ft,at.map((function(e){return dt[e]})).map((function(e){return{label:e.name,value:e.id}})))},vt=new U(ct,{countries:mt,allCountries:pt,organizations:gt,programFilterPrograms:yt,sectors:ht,filters:bt,users:dt});F.a.render(N.a.createElement(Ze,{store:vt}),document.querySelector("#app_root"))},DDFe:function(e,t,r){"use strict";var n=r("q1tI"),a=r.n(n);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}t.a=function(e){var t=e.children,r=e.isLoading,n=e.className,c=i(e,["children","isLoading","className"]),l=r?"loading":"";return a.a.createElement("div",o({className:"loading-spinner__container "+l+" "+(n||"")},c),a.a.createElement("div",{className:"loading-spinner__overlay"},a.a.createElement("div",{className:"loading-spinner__spinner"})),t)}},H4hL:function(e,t,r){"use strict";var n=r("q1tI"),a=r.n(n);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a.a.Component},KnAV:function(e,t,r){"use strict";var n=r("q1tI"),a=r.n(n),o=r("okNM"),i=r("IP2g"),c=(r("2vnA"),r("v38i"));function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e){var t,r=e.name,n=e.data,o=e.extraTitleText,i=void 0===o?null:o,l=i?a.a.createElement("h4",{className:"disagg-type__title, text-small"},i):null;if("Disaggregation categories"===r&&"object"===u(n)&&null!==n){var s=Object.values(n).sort((function(e,t){return e.custom_sort-t.custom_sort}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",null,r,": "),l,a.a.createElement("ul",{className:"no-list-style"},s.map((function(e,t){return a.a.createElement("li",{key:t},void 0!==e.label&&null!==e.label?e.label:"")}))))}return t=null!=n&&"N/A"!==n?a.a.createElement("span",{className:"change__field__value"},["true","false"].includes(n.toString())?n.toString().replace("t","T").replace("f","F"):n.toString()):a.a.createElement("span",{className:"change__field__value empty-value"},c.c),a.a.createElement("div",{className:"change__field"},a.a.createElement("strong",{className:"change__field__name"},r),": ",t)},p=function(e){var t=e.data,r=e.is_expanded,n=e.toggle_expando_cb;return a.a.createElement("tr",{className:r?"changelog__entry__header is-expanded":"changelog__entry__header",onClick:function(){return n(t.id)}},a.a.createElement("td",{className:"text-nowrap text-action"},a.a.createElement(i.a,{icon:r?"caret-down":"caret-right"})," ",a.a.createElement("strong",null,t.date)),a.a.createElement("td",{className:"text-nowrap"},t.admin_user),a.a.createElement("td",{className:"text-nowrap"},t.pretty_change_type),a.a.createElement("td",null),a.a.createElement("td",null))},m=function(e){return a.a.createElement("tr",{key:e.id,className:"changelog__entry__row"},a.a.createElement("td",null),a.a.createElement("td",null),a.a.createElement("td",null),a.a.createElement("td",null,a.a.createElement("div",{className:"changelog__change--prev"},e.previous)),a.a.createElement("td",null,a.a.createElement("div",{className:"changelog__change--new"},e.new)))},g=function(e){var t=e.data,r=[],n=a.a.createElement(m,{previous:gettext("No differences found"),new:null,id:1,key:1});if(Array.isArray(t.diff_list)&&0===t.diff_list.length||0===Object.keys(t.diff_list||{}).length)return r.push(n),r;if("user_programs_updated"===t.change_type){if(t.diff_list.base_country){var o=a.a.createElement(f,{name:t.diff_list.base_country.pretty_name,data:t.diff_list.base_country.prev}),i=a.a.createElement(f,{name:t.diff_list.base_country.pretty_name,data:t.diff_list.base_country.new});r.push(a.a.createElement(m,{previous:o,new:i,id:"base_country",key:"base_country"}))}Object.entries(t.diff_list.countries).forEach((function(e){var t=l(e,2),n=t[0],o=t[1],i="".concat(n,"_").concat(o),c=a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{name:gettext("Country"),data:o.prev.country}),a.a.createElement(f,{name:gettext("Role"),data:o.prev.role})),s=a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{name:gettext("Country"),data:o.new.country}),a.a.createElement(f,{name:gettext("Role"),data:o.new.role}));r.push(a.a.createElement(m,{previous:c,new:s,id:i,key:i}))})),Object.entries(t.diff_list.programs).forEach((function(e){var t=l(e,2),n=t[0],o=t[1],i="".concat(n,"_").concat(o),c=a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{name:gettext("Program"),data:o.prev.program}),a.a.createElement(f,{name:gettext("Country"),data:o.prev.country}),a.a.createElement(f,{name:gettext("Role"),data:o.prev.role})),s=a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{name:gettext("Program"),data:o.new.program}),a.a.createElement(f,{name:gettext("Country"),data:o.new.country}),a.a.createElement(f,{name:gettext("Role"),data:o.new.role}));r.push(a.a.createElement(m,{previous:c,new:s,id:i,key:i}))}))}else{var c=null,s=!1;if("Country disaggregation updated"===t.pretty_change_type){var u=t.diff_list.filter((function(e){return"disaggregation_type"===e.name}));u[0].prev===u[0].new&&(c=u[0].prev,s=!0)}t.diff_list.forEach((function(e,t){var n="".concat(t,"_").concat(e.pretty_name);if("disaggregation_type"!==e.name||!s){var o=a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{key:t,name:e.pretty_name,data:e.prev,id:t,extraTitleText:c})),i=a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{key:t,name:e.pretty_name,data:e.new,id:t,extraTitleText:c}));r.push(a.a.createElement(m,{previous:o,new:i,id:n,key:n}))}}))}return 0===r.length&&r.push(n),r},d=function(e){var t=e.data,r=e.is_expanded,n=e.toggle_expando_cb;return a.a.createElement("tbody",{className:"changelog__entry",key:t.id},a.a.createElement(p,{data:t,is_expanded:r,toggle_expando_cb:n}),r&&a.a.createElement(g,{data:t}))},y=Object(o.c)((function(e){var t=e.data,r=e.expanded_rows,n=e.toggle_expando_cb;return a.a.createElement("table",{className:"table table-sm bg-white table-bordered text-small changelog"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"text-nowrap"},gettext("Date")),a.a.createElement("th",{className:"text-nowrap"},gettext("Admin")),a.a.createElement("th",{className:"text-nowrap"},gettext("Change Type")),a.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("Previous Entry")),a.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("New Entry")))),t.map((function(e){var t=!0;return r&&(t=r.has(e.id)),a.a.createElement(d,{key:e.id,data:e,is_expanded:t,toggle_expando_cb:n})})))}));t.a=y},RCjz:function(e,t,r){"use strict";var n=r("q1tI"),a=r.n(n),o=r("I+5a"),i=r.n(o);r("okNM");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement(i.a,c({previousLabel:"‹",previousClassName:"page-item previous",previousLinkClassName:"page-link",nextLabel:"›",nextClassName:"page-item next",nextLinkClassName:"page-link",breakLabel:"...",disabledClassName:"disabled",breakClassName:"page-item disabled",breakLinkClassName:"page-link",pageClassName:"page-item",pageLinkClassName:"page-link",marginPagesDisplayed:2,pageRangeDisplayed:5,containerClassName:"pagination",activeClassName:"active"},e))}},TGVD:function(e,t,r){"use strict";var n=r("okNM"),a=r("q1tI"),o=r.n(a),i=r("TSYQ"),c=r.n(i);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u=function(e){var t=e.className,r=(e.size,s(e,["className","size"]));return o.a.createElement("td",l({className:["mgmt-table__col",t].join(" ")},r),r.children)},f=function(e){var t=e.className,r=e.size,n=s(e,["className","size"]);return o.a.createElement("th",l({className:["mgmt-table__col","mgmt-table__col__width-".concat(r),t].join(" ")},n),n.children)},p=function(e){var t=e.className,r=s(e,["className"]);return o.a.createElement("tr",l({className:["mgmt-table__row",t].join(" ")},r),r.children)},m=function(e){var t=e.className,r=s(e,["className"]);return o.a.createElement("tr",l({className:["mgmt-table__row table-header",t].join(" ")},r),r.children)},g=Object(n.c)((function(e){var t=e.className,r=e.expanded,a=e.Expando,i=s(e,["className","expanded","Expando"]);if(a){var u=Object(n.c)(a);return o.a.createElement("tbody",l({className:c()(["mgmt-table__body",t].join(" "),{"is-expanded":r})},i),o.a.createElement(p,null,i.children),r&&o.a.createElement(u,{Wrapper:d}))}return o.a.createElement("tbody",l({className:["mgmt-table__body",t].join(" ")},i),o.a.createElement(p,null,i.children))})),d=function(e){var t=e.className,r=s(e,["className"]);return o.a.createElement("tr",l({className:["mgmt-table__row--expanded",t].join(" ")},r),o.a.createElement("td",{colSpan:"5"},r.children))},y=Object(n.c)((function(e){var t=e.data,r=e.Row,a=e.keyField,i=(s(e,["data","Row","keyField"]),Object(n.c)(r));return t.map((function(e){return o.a.createElement(i,{key:e[a],data:e,Col:u,Row:g})}))})),h=Object(n.c)((function(e){var t=e.HeaderRow,r=e.className,a=s(e,["HeaderRow","className"]),i=Object(n.c)(t);return o.a.createElement("table",{className:["table bg-white",r].join(" ")},o.a.createElement("thead",null,o.a.createElement(i,{Col:f,Row:m})),o.a.createElement(y,a))}));t.a=h},"WtQ/":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return i}));function n(){$((function(){var e=0===window.performance.getEntriesByType("navigation")[0].transferSize,t="reload"===window.performance.getEntriesByType("navigation")[0].type;e&&!t&&window.location.reload()}))}var a=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t,r=e.toString(),n=null;switch(e.toString().includes(",")?(r=e.toString().split(",")[0],n=e.toString().split(",").length>1?e.toString().split(",")[1]:null):e.toString().includes(".")&&(r=e.toString().split(".")[0],n=e.toString().split(".").length>1?e.toString().split(".")[1]:null),n=n&&n.length>0?n:null,window.userLang){case"es":t=r.replace(/\B(?=(\d{3})+(?!\d))/g,"."),n&&(t+=",".concat(n));break;case"fr":t=r.replace(/\B(?=(\d{3})+(?!\d))/g,String.fromCharCode(160)),n&&(t+=",".concat(n));break;case"en":default:t=r.replace(/\B(?=(\d{3})+(?!\d))/g,","),n&&(t+=".".concat(n))}return t},o=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t=a(Math.round(1e4*e)/100);return null===t?null:"".concat(t,"%")},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return e.sort((function(e,r){return e[t].toUpperCase()>r[t].toUpperCase()?1:-1}))}},XoI5:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("vDqi"),a=r.n(n).a.create({withCredentials:!0,baseURL:"/api/",headers:{"X-CSRFToken":document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*\=\s*([^;]*).*$)|^.*$/,"$1")}})},Z2Y6:function(e,t,r){"use strict";var n=r("q1tI"),a=r.n(n),o=r("c7k8");r("Cs6D");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,i=s(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).cache=new o.c({fixedWidth:!0,defaultHeight:35}),t.filter_val="",t}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.props,r=(t.options,t.children),n=t.maxHeight,i=(t.getValue,t.selectProps),c=r.length||0;return i.inputValue!==this.filter_val&&(this.filter_val=i.inputValue,this.cache.clearAll()),a.a.createElement("div",{style:{display:"flex",height:"100vh",maxHeight:n+"px"}},a.a.createElement("div",{style:{flex:"1 1 auto"}},a.a.createElement(o.a,null,(function(t){var n=t.width,i=t.height;return a.a.createElement(o.e,{height:i,width:n,deferredMeasurementCache:e.cache,rowCount:c,rowHeight:e.cache.rowHeight,noRowsRenderer:function(){return a.a.createElement("div",null,"No selections available")},rowRenderer:function(t){var n=t.index,i=t.parent,c=t.key,l=t.style;return a.a.createElement(o.b,{key:c,cache:e.cache,parent:i,columnIndex:0,rowIndex:n},a.a.createElement("div",{style:l},r[n]))}})}))))}}])&&c(t.prototype,r),n&&c(t,n),u}(a.a.PureComponent),g=r("VCnP"),d=r.n(g),y=r("oary"),h=r.n(y),b=r("PAeb"),v=r("okNM");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P(e);if(t){var a=P(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){return a.a.createElement("div",{className:"count__label"},e.children,e.clearable&&a.a.createElement("div",{onClick:e.clearSelect},a.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))};function F(e){if(!1===e.data.selectable){e.children;var t=e.className,r=e.cx,n=e.getStyles,o=(e.Heading,e.setValue,e.data,e.label,e.getValue,e.theme),i=(e.selectProps.getOptionValue,{getStyles:n,cx:r,theme:o,indeterminate:!1,checked:!1});return a.a.createElement("div",{className:r(Object(b.css)(n("group",e)),{group:!0},t)},a.a.createElement("div",{className:r(Object(b.css)(n("groupHeading",k({},i))),{"group-heading":!0},t)},e.data.label),a.a.createElement("div",null,e.children))}return!0===e.data.divider?a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{style:{margin:"3px 0px 0px 0px"}}),a.a.createElement(h.a,e)):a.a.createElement(h.a,e)}var D=Object(v.c)(p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,r,n,o=j(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).clearSelect=function(e){e.stopPropagation(),t.props.onChange([])},t.makeLabel=function(e){var r=e.placeholderButtonLabel,n=e.value;if(!n)return a.a.createElement(C,{clearable:!1},r);if(Array.isArray(n)){var o=n.filter((function(e){return!e.noList}));return 0===o.length?a.a.createElement(C,{clearable:!1},r):1===o.length?a.a.createElement(C,{clearable:!0,clearSelect:t.clearSelect},o[0].label):a.a.createElement(C,{clearable:!0,clearSelect:t.clearSelect},"".concat(o.length," ",gettext("selected")))}return a.a.createElement(C,{clearable:!1},n.label)},t}return t=i,(r=[{key:"render",value:function(){return a.a.createElement(d.a,E({},this.props,{placeholder:gettext("Search"),placeholderButtonLabel:this.props.placeholder,getDropdownButtonLabel:this.makeLabel,components:{MenuList:m,Group:F}}))}}])&&O(t.prototype,r),n&&O(t,n),i}(a.a.Component))||p;t.a=D},tnXs:function(e,t,r){"use strict";var n=r("q1tI"),a=r.n(n);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,r,n,o=u(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=o.call(this,e)).updateDimensions=function(){t.state.folded||t.state.folding||t.setState((function(){return{resize:!0}}),(function(){t.contentWidth=t.contentsContainer.current.offsetWidth,t.setState({resize:!1})}))},t.state={folding:!1,folded:!1,resize:!1},t.contentsContainer=a.a.createRef(),t}return t=f,(r=[{key:"componentDidMount",value:function(){this.contentWidth=this.contentsContainer.current.offsetWidth,window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"toggleFolded",value:function(){this.state.folding?this.foldComplete():this.setState({folding:!0,folded:!this.state.folded})}},{key:"foldComplete",value:function(){this.setState((function(){return{folding:!1}}),this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=c(t,["className"]),o=this.state.folded?this.state.folding?"fa-angle-double-left":"fa-chevron-right":this.state.folding?"fa-angle-double-right":"fa-chevron-left",l=this.state.folded?"0px":this.state.resize?"auto":this.contentWidth+"px",s=this.state.folded||this.state.folding?"hidden":"visible";return a.a.createElement("div",i({className:"folding-sidebar "+(r||"")},n),a.a.createElement("div",{className:"folding-sidebar__contents",onTransitionEnd:function(){return e.foldComplete()},ref:this.contentsContainer,style:{width:l,overflow:s}},a.a.createElement(a.a.Fragment,null,this.props.children)),a.a.createElement("div",{className:"folding-sidebar__trigger",onClick:function(){return e.toggleFolded()}},a.a.createElement("i",{key:o},a.a.createElement("span",{className:"fa "+o}))))}}])&&l(t.prototype,r),n&&l(t,n),f}(a.a.Component);t.a=m},v38i:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"l",(function(){return c})),r.d(t,"i",(function(){return l})),r.d(t,"k",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"m",(function(){return f})),r.d(t,"j",(function(){return p})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return g})),r.d(t,"g",(function(){return y})),r.d(t,"h",(function(){return h}));var a={value:null,label:"---------"},o="—",i=o,c=1,l=2,s=[3,4,5,6,7],u=[1,2],f=Object.freeze({1:gettext("Life of Program (LoP) only"),2:gettext("Midline and endline"),3:gettext("Annual"),4:gettext("Semi-annual"),5:gettext("Tri-annual"),6:gettext("Quarterly"),7:gettext("Monthly")}),p=Object.freeze({3:gettext("Years"),4:gettext("Semi-annual periods"),5:gettext("Tri-annual periods"),6:gettext("Quarters"),7:gettext("Months")}),m=1,g=2;"undefined"!=typeof gettext&&gettext;var d,y=Object.freeze({noFilter:0,missingTarget:1,missingResults:2,missingEvidence:3,aboveTarget:5,belowTarget:6,onTarget:7,nonReporting:8}),h=null!==(d="reason_for_change_options",n="undefined"!=typeof JS_GLOBALS&&JS_GLOBALS.hasOwnProperty(d)?JS_GLOBALS[d]:null)&&void 0!==n?n:[]}},[["1faY",0,1]]]);
//# sourceMappingURL=tola_management_program-f60b0b0b24bc3e2185dd.js.map
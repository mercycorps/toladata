(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"4L+s":function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return m});var r=n("q1tI"),o=n.n(r),a=n("i8i4"),c=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=g(i);return t=o?(e=g(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(){u(a,o.a.Component);var e,t,n,r=p(a);function a(e){var t;return l(this,a),(t=r.call(this,e)).placement=e.placement||null,t.popoverRef=e.innerRef||o.a.createRef(),t.iconClass=e.iconClass||"far fa-question-circle",t.iconStyle=e.iconStyle||{},t.linkStyle={},e.linkHeight&&(t.linkStyle.height=e.linkHeight),t}return e=a,(t=[{key:"render",value:function(){return o.a.createElement("a",{tabIndex:"0",style:this.linkStyle,"data-toggle":"popover","data-trigger":"focus","data-html":"true","data-placement":this.placement,"data-content":this.props.content,className:this.props.className,ref:this.popoverRef},o.a.createElement("i",{"aria-label":this.props.ariaText,style:this.iconStyle,className:this.iconClass}))}}])&&i(e.prototype,t),n&&i(e,n),a}(),m=function(){u(i,o.a.Component);var a=p(i);function i(){var t;l(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=a.call.apply(a,[this].concat(n))).popoverName="base",t.componentDidMount=function(){t.bodyClickHandler=function(e){0==$("#".concat(t.popoverName,"_popover_content")).parent().find($(e.target)).length&&$(t.refs.target).popover("hide")};function e(){$("body").on("click",t.bodyClickHandler),$(t.refs.target).popover("update").on("hide.bs.popover",function(){$("body").off("click",t.bodyClickHandler)})}$(t.refs.target).popover({content:'<div id="'.concat(t.popoverName,'_popover_content"></div>'),html:!0,placement:"bottom"}).on("shown.bs.popover",function(){c.a.render(t.getPopoverContent(),document.querySelector("#".concat(t.popoverName,"_popover_content")),e)})},t.getPopoverContent=function(){throw new Error("not implemented")},t}return i}()},"4a4Y":function(e,t,n){"use strict";n.d(t,"a",function(){return r});function X(e){var t=(0<arguments.length&&void 0!==e?e:{}).custom_rfc_options,n=(void 0===t?null:t)||u.h;if(!n)return"";var r=document.createElement("section");r.classList.add("pnotify__reason-for-change");var a=document.createElement("div");a.classList.add("form-group");var i=document.createElement("label");i.appendChild(document.createTextNode(gettext("Reason for change"))),i.htmlFor="reasons_for_change_select",a.appendChild(i);var o=document.createElement("select");o.name="reasons_for_change",o.id="reasons_for_change_select",o.setAttribute("multiple",""),o.classList.add("form-control");for(var c=0;c<n.length;c++){var s,l=document.createElement("option");l.value=n[c].value,l.label=n[c].label,l.text=n[c].label,c==n.length-1&&((s=document.createElement("option")).setAttribute("data-role","divider"),o.appendChild(s)),o.appendChild(l)}return a.appendChild(o),r.appendChild(a),r}var u=n("v38i"),r=function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.header,r=void 0===n?null:n,a=t.show_icon,i=void 0===a||a,o=t.message_text,c=void 0===o?null:o,s=t.preamble,l=void 0===s?null:s,u=t.on_submit,d=void 0===u?function(){}:u,p=t.on_cancel,g=void 0===p?function(){}:p,f=t.rfc_required,m=void 0===f||f,y=t.rfc_options,b=void 0===y?null:y,h=t.rationale_required,v=void 0===h||h,_=t.include_rationale,E=void 0!==_&&_,O=t.validation_type,w=void 0===O?0:O,j=t.showCloser,x=void 0===j||j,k=t.confirm_text,S=void 0===k?gettext("Ok"):k,N=t.cancel_text,C=void 0===N?gettext("Cancel"):N,P=t.context,D=void 0===P?null:P,R=t.notice_type,A=void 0===R?"notice":R,F=(t.blocking,t.self_dismissing),L=void 0!==F&&F,z=t.dismiss_delay,I=void 0===z?8e3:z,T="";i&&(T='<i class="fas '.concat({error:"fa-exclamation-triangle",info:"fa-info-circle",success:"fa-check-circle",notice:"fa-exclamation-triangle"}[A],'"></i>'));var H=r||T?'<header class="pnotify__header">\n            <h4>\n                '.concat(T,"\n                ").concat(r||"","\n            </h4>\n        </header>"):"",U=l?'<section class="pnotify__preamble">\n            <p><b>'.concat(l,"</b></p>\n        </section>"):"",M=c?'<section class="pnotify__message">\n            <p>'.concat(c,"</p>\n        </section>"):"",B="";null!==b&&(B=X({custom_rfc_options:!0===b?null:b}).outerHTML);var q=0<B.length?"<label>".concat(gettext("Details"),"</label>"):"",W=E?'<section class="pnotify__rationale">\n            <div class="form-group">\n                '.concat(q,'\n                <textarea class="form-control" name="rationale" />\n            </div>\n        </section>'):"",V="\n        ".concat(H,"\n        ").concat(U,"\n        ").concat(M,"\n        ").concat(B,"\n        ").concat(W,"\n    "),J={text:S,primary:!0,addClass:"btn-sm btn-"+{error:"danger",info:"info",success:"success",notice:"primary"}[A],click:function(e){var t=!0,n=$(e.refs.elem).find('textarea[name="rationale"]');n.parent().find(".invalid-feedback").remove();var r=n.val()?n.val().trim():void 0,a=($(e.refs.elem).find('select[name="reasons_for_change"]').val()||[]).map(function(e){return parseInt(e)}),i=!1;switch(w){case 1:i=r||0<a.length&&-1==a.indexOf(1);break;case 0:default:i=(r||!E||!v)&&(0<a.length||!b||!m)}if(!i)return n.addClass("is-invalid"),n.parent().append('<div class="invalid-feedback">'+gettext("A reason is required.")+"</div>"),!1;n.removeClass("is-invalid"),d&&void 0===(t=d(r,a,w))&&(t=!0),t&&(document.getElementById("notification_blocking_div").style.display="none",e.close())}},Y={text:C,addClass:"btn-sm",click:function(e){close=g(),void 0===close&&(close=!0),close&&(document.getElementById("notification_blocking_div").style.display="none",e.close())}},Q=[];S&&Q.push(J),C&&Q.push(Y);var G=PNotify.alert({text:$('<div><form action="" method="post" class="form">'.concat(V,"</form></div>")).html(),textTrusted:!0,icon:!1,width:"350px",hide:L,delay:I,type:A,addClass:"program-page__rationale-form",stack:{overlayClose:!0,dir1:"right",dir2:"up",firstpos1:20,firstpos2:20,context:D},modules:{Buttons:{closer:x,closerHover:!1,sticker:!1},Confirm:{align:"flex-start",confirm:!0,buttons:Q}}});$(".pnotify__reason-for-change select").multiselect({numberDisplayed:1,nSelectedText:" ".concat(gettext("selected")),nonSelectedText:gettext("None selected")}),g&&G.on("click",function(e){var t;$(e.target).is(".ui-pnotify-closer *")&&(!(t=g())&&void 0!==t||(document.getElementById("notification_blocking_div").style.display="none",G.close()))})}},DDFe:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}t.a=function(e){var t=e.children,n=e.isLoading,r=e.className,a=s(e,["children","isLoading","className"]),i=n?"loading":"";return o.a.createElement("div",c({className:"loading-spinner__container "+i+" "+(r||"")},a),o.a.createElement("div",{className:"loading-spinner__overlay"},o.a.createElement("div",{className:"loading-spinner__spinner"})),t)}},KnAV:function(e,t,n){"use strict";var r=n("q1tI"),l=n.n(r),a=n("okNM"),i=n("IP2g"),s=(n("2vnA"),n("v38i"));function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){var t=e.name,n=e.data,r=e.extraTitleText,a=void 0===r?null:r,i=a?l.a.createElement("h4",{className:"disagg-type__title, text-small"},a):null;if("Disaggregation categories"===t&&"object"===d(n)&&null!==n){var o=Object.values(n).sort(function(e,t){return e.custom_sort-t.custom_sort});return l.a.createElement(l.a.Fragment,null,l.a.createElement("strong",null,t,": "),i,l.a.createElement("ul",{className:"no-list-style"},o.map(function(e,t){return l.a.createElement("li",{key:t},void 0!==e.label&&null!==e.label?e.label:"")})))}var c=null!=n&&"N/A"!==n?l.a.createElement("span",{className:"change__field__value"},["true","false"].includes(n.toString())?n.toString().replace("t","T").replace("f","F"):n.toString()):l.a.createElement("span",{className:"change__field__value empty-value"},s.c);return l.a.createElement("div",{className:"change__field"},l.a.createElement("strong",{className:"change__field__name"},t),": ",c)}function c(e){var t=e.data,n=e.is_expanded,r=e.toggle_expando_cb;return l.a.createElement("tr",{className:n?"changelog__entry__header is-expanded":"changelog__entry__header",onClick:function(){return r(t.id)}},l.a.createElement("td",{className:"text-nowrap text-action"},l.a.createElement(i.a,{icon:n?"caret-down":"caret-right"}),"Â ",l.a.createElement("strong",null,t.date)),l.a.createElement("td",{className:"text-nowrap"},t.admin_user),l.a.createElement("td",{className:"text-nowrap"},t.pretty_change_type),l.a.createElement("td",null),l.a.createElement("td",null))}function g(e){return l.a.createElement("tr",{key:e.id,className:"changelog__entry__row"},l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("div",{className:"changelog__change--prev"},e.previous)),l.a.createElement("td",null,l.a.createElement("div",{className:"changelog__change--new"},e.new)))}function f(e){var t,n,i,o,r,a=e.data,c=[],s=l.a.createElement(g,{previous:gettext("No differences found"),new:null,id:1,key:1});return Array.isArray(a.diff_list)&&0===a.diff_list.length||0===Object.keys(a.diff_list||{}).length?c.push(s):("user_programs_updated"===a.change_type?(a.diff_list.base_country&&(t=l.a.createElement(p,{name:a.diff_list.base_country.pretty_name,data:a.diff_list.base_country.prev}),n=l.a.createElement(p,{name:a.diff_list.base_country.pretty_name,data:a.diff_list.base_country.new}),c.push(l.a.createElement(g,{previous:t,new:n,id:"base_country",key:"base_country"}))),Object.entries(a.diff_list.countries).forEach(function(e){var t=u(e,2),n=t[0],r=t[1],a="".concat(n,"_").concat(r),i=l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{name:gettext("Country"),data:r.prev.country}),l.a.createElement(p,{name:gettext("Role"),data:r.prev.role})),o=l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{name:gettext("Country"),data:r.new.country}),l.a.createElement(p,{name:gettext("Role"),data:r.new.role}));c.push(l.a.createElement(g,{previous:i,new:o,id:a,key:a}))}),Object.entries(a.diff_list.programs).forEach(function(e){var t=u(e,2),n=t[0],r=t[1],a="".concat(n,"_").concat(r),i=l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{name:gettext("Program"),data:r.prev.program}),l.a.createElement(p,{name:gettext("Country"),data:r.prev.country}),l.a.createElement(p,{name:gettext("Role"),data:r.prev.role})),o=l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{name:gettext("Program"),data:r.new.program}),l.a.createElement(p,{name:gettext("Country"),data:r.new.country}),l.a.createElement(p,{name:gettext("Role"),data:r.new.role}));c.push(l.a.createElement(g,{previous:i,new:o,id:a,key:a}))})):(i=null,o=!1,"Country disaggregation updated"!==a.pretty_change_type||(r=a.diff_list.filter(function(e){return"disaggregation_type"===e.name}))[0].prev===r[0].new&&(i=r[0].prev,o=!0),a.diff_list.forEach(function(e,t){var n,r,a="".concat(t,"_").concat(e.pretty_name);"disaggregation_type"===e.name&&o||(n=l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{key:t,name:e.pretty_name,data:e.prev,id:t,extraTitleText:i})),r=l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{key:t,name:e.pretty_name,data:e.new,id:t,extraTitleText:i})),c.push(l.a.createElement(g,{previous:n,new:r,id:a,key:a})))})),0===c.length&&c.push(s)),c}function m(e){var t=e.data,n=e.is_expanded,r=e.toggle_expando_cb;return l.a.createElement("tbody",{className:"changelog__entry",key:t.id},l.a.createElement(c,{data:t,is_expanded:n,toggle_expando_cb:r}),n&&l.a.createElement(f,{data:t}))}var y=Object(a.c)(function(e){var t=e.data,n=e.expanded_rows,r=e.toggle_expando_cb;return l.a.createElement("table",{className:"table table-sm bg-white table-bordered text-small changelog"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-nowrap"},gettext("Date")),l.a.createElement("th",{className:"text-nowrap"},gettext("Admin")),l.a.createElement("th",{className:"text-nowrap"},gettext("Change Type")),l.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("Previous Entry")),l.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("New Entry")))),t.map(function(e){var t=!0;return n&&(t=n.has(e.id)),l.a.createElement(m,{key:e.id,data:e,is_expanded:t,toggle_expando_cb:r})}))});t.a=y},NlW9:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c,s,l,u,d,p,g,f,m,y,b,h,v,_,E,O,w,j,x,k,S,N,C,P,D,R,A,F,L=n("q1tI"),z=n.n(L),I=n("i8i4"),T=n.n(I),H=n("2vnA"),U=n("4a4Y");function M(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach(function(e){Y(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(n,r,e,t,a){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(n,r,e)||e},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(n,r,i),i=null),i}var K,Z={id:"new",name:"",description:"",status:""},ee=(a=X((r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Q(this,"organizations",a,this),Q(this,"users",i,this),Q(this,"sectors",o,this),Q(this,"filters",c,this),Q(this,"appliedFilters",s,this),Q(this,"is_superuser",l,this),Q(this,"allCountries",u,this),Q(this,"countries",d,this),Q(this,"country_count",p,this),Q(this,"new_country",g,this),Q(this,"fetching_main_listing",f,this),Q(this,"current_page",m,this),Q(this,"total_pages",y,this),Q(this,"bulk_targets",b,this),Q(this,"bulk_targets_all",h,this),Q(this,"editing_target",v,this),Q(this,"editing_errors",_,this),Q(this,"fetching_editing_data",E,this),Q(this,"editing_objectives_data",O,this),Q(this,"editing_objectives_errors",w,this),Q(this,"editing_disaggregations_data",j,this),Q(this,"editing_disaggregations_errors",x,this),Q(this,"fetching_editing_history",k,this),Q(this,"editing_history",S,this),Q(this,"saving",N,this),Q(this,"bulk_targets",C,this),Q(this,"applying_bulk_updates",P,this),Q(this,"bulk_targets_all",D,this),Q(this,"changelog_expanded_rows",R,this),Q(this,"active_editor_pane",A,this),this.active_pane_is_dirty=!1,Q(this,"assignDisaggregationLabelErrors",F,this),this.api=e,Object.assign(this,t),this.appliedFilters=J({},this.filters),this.fetchCountries()}var e,t,r;return e=n,(t=[{key:"marshalFilters",value:function(e){return Object.entries(e).reduce(function(e,t){var n=B(t,2),r=n[0],a=n[1];return Array.isArray(a)?e[r]=a.map(function(e){return e.value}):a&&(e[r]=a.value),e},{})}},{key:"getCountryPrograms",value:function(t){return this.allPrograms.filter(function(e){return e.country.includes(t)})}},{key:"fetchCountries",value:function(){var t=this;this.dirtyConfirm()&&(this.fetching_main_listing=!0,this.api.fetchCountries(this.current_page+1,this.marshalFilters(this.appliedFilters)).then(function(e){Object(H.p)(function(){t.active_editor_pane="profile",t.active_pane_is_dirty=!1,t.fetching_main_listing=!1,t.countries=e.results,t.country_count=e.total_results,t.total_pages=e.total_pages,t.next_page=e.next_page,t.previous_page=e.previous_page})}))}},{key:"applyFilters",value:function(){this.appliedFilters=J({},this.filters),this.current_page=0,this.fetchCountries()}},{key:"changePage",value:function(e){e.selected!=this.current_page&&(this.current_page=e.selected,this.bulk_targets=new Map,this.bulk_targets_all=!1,this.fetchCountries())}},{key:"changeFilter",value:function(e,t){this.filters=Object.assign(this.filters,Y({},e,t)),"countries"===e&&this.applyFilters()}},{key:"clearFilters",value:function(){var e={countries:this.filters.countries||[],organizations:[],sectors:[],programStatus:null,programs:[]};this.filters=Object.assign(this.filters,e)}},{key:"toggleEditingTarget",value:function(a){var i=this;this.dirtyConfirm()&&("new"===this.editing_target&&(this.countries.shift(),this.editing_errors={}),this.active_editor_pane="profile",this.active_pane_is_dirty=!1,this.editing_disaggregations_errors={},this.editing_target===a?(this.editing_target=!1,this.editing_errors={}):(this.editing_target=a,this.fetching_editing_data=!0,this.fetching_editing_history=!0,Promise.all([this.api.fetchCountryObjectives(a),this.api.fetchCountryDisaggregations(a)]).then(function(e){var t=B(e,2),n=t[0],r=t[1];Object(H.p)(function(){i.fetching_editing_data=!1,i.fetching_editing_history=!0,i.editing_objectives_data=n.data,i.editing_disaggregations_data=r.data,i.updateHistory(a)})})))}},{key:"updateLocalList",value:function(n){this.countries=this.countries.reduce(function(e,t){return t.id==n.id?e.push(n):e.push(t),e},[])}},{key:"updateHistory",value:function(e){var t=this;"new"===e?this.editing_history=[]:this.api.fetchCountryHistory(e).then(function(e){t.editing_history=e.data,t.fetching_editing_history=!1}).catch(function(e){t.fetching_editing_history=!1})}},{key:"onSaveSuccessHandler",value:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).retroProgramCount,n=gettext("Successfully saved");t&&(n=interpolate(ngettext("Disaggregation saved and automatically selected for all indicators in %s program.","Disaggregation saved and automatically selected for all indicators in %s programs.",t),[t])),PNotify.success({text:n,delay:5e3})}},{key:"onSaveErrorHandler",value:function(e){PNotify.error({text:e||gettext("Saving failed"),delay:5e3})}},{key:"onDeleteSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully deleted"),delay:5e3})}},{key:"onArchiveSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully archived"),delay:5e3})}},{key:"onUnarchiveSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully unarchived"),delay:5e3})}},{key:"onDuplicatedDisaggLabelMessage",value:function(e){PNotify.error({text:e||gettext("Saving failed: Disaggregation categories should be unique within a disaggregation."),delay:5e3})}},{key:"onDuplicatedDisaggTypeMessage",value:function(e){PNotify.error({text:e||gettext("Saving failed: disaggregation names should be unique within a country."),delay:5e3})}},{key:"dirtyConfirm",value:function(){return!this.active_pane_is_dirty||this.active_pane_is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"onProfilePaneChange",value:function(e){this.dirtyConfirm()&&(this.active_editor_pane=e,this.active_pane_is_dirty=!1)}},{key:"setActiveFormIsDirty",value:function(e){this.active_pane_is_dirty=e}},{key:"addCountry",value:function(){this.dirtyConfirm()&&("new"==this.editing_target&&this.countries.shift(),this.active_editor_pane="profile",this.active_pane_is_dirty=!1,this.countries.unshift({id:"new",country:"",description:"",code:"",organizations:[]}),this.editing_target="new")}},{key:"saveNewCountry",value:function(e){var t=this;e.id=null,this.saving=!0,this.api.createCountry(e).then(function(e){Object(H.p)(function(){t.saving=!1,t.editing_errors={},t.editing_target=e.data.id,t.active_pane_is_dirty=!1,t.countries.shift(),t.countries.unshift(e.data),t.allCountries.unshift(e.data),t.onSaveSuccessHandler(),t.updateHistory(e.data.id)})}).catch(function(e){Object(H.p)(function(){t.saving=!1,t.editing_errors=e.response.data,t.onSaveErrorHandler(e.response.data.detail)})})}},{key:"updateCountry",value:function(t,e){var n=this;this.saving=!0,this.api.updateCountry(t,e).then(function(e){return Object(H.p)(function(){n.saving=!1,n.editing_errors={},n.active_pane_is_dirty=!1,n.updateLocalList(e.data),n.onSaveSuccessHandler(),n.updateHistory(t)})}).catch(function(e){Object(H.p)(function(){n.saving=!1,n.editing_errors=e.response.data,n.onSaveErrorHandler(e.response.data.detail)})})}},{key:"addObjective",value:function(){this.editing_objectives_data.find(function(e){return"new"==e.id})||(this.editing_objectives_data=[].concat(M(this.editing_objectives_data),[Z]))}},{key:"updateObjective",value:function(e,t){var n=this;this.editing_objectives_errors={},this.api.updateObjective(e,t).then(function(e){Object(H.p)(function(){n.onSaveSuccessHandler();var t=e.data;n.active_pane_is_dirty=!1,n.editing_objectives_data=n.editing_objectives_data.map(function(e){return e.id==t.id?t:e})})}).catch(function(e){Object(H.p)(function(){n.saving=!1,n.editing_objectives_errors=e.response.data,n.onSaveErrorHandler(e.response.data.detail)})})}},{key:"createObjective",value:function(e){var n=this;this.editing_objectives_errors={},this.api.createObjective(e).then(function(t){Object(H.p)(function(){n.onSaveSuccessHandler(),n.active_pane_is_dirty=!1;var e=t.data;n.editing_objectives_data=[].concat(M(n.editing_objectives_data.filter(function(e){return"new"!=e.id})),[e])})}).catch(function(e){Object(H.p)(function(){n.saving=!1,n.editing_objectives_errors=e.response.data,n.onSaveErrorHandler(e.response.data.detail)})})}},{key:"deleteObjective",value:function(t){var n=this;"new"!=t?this.api.deleteObjective(t).then(function(e){Object(H.p)(function(){n.editing_objectives_data=n.editing_objectives_data.filter(function(e){return e.id!=t}),n.onDeleteSuccessHandler()})}).catch(function(e){Object(H.p)(function(){n.onSaveErrorHandler(e.response.data.detail)})}):this.editing_objectives_data=this.editing_objectives_data.filter(function(e){return"new"!=e.id})}},{key:"clearObjectiveEditingErrors",value:function(){this.editing_objectives_errors={}}},{key:"clearDisaggregationEditingErrors",value:function(){this.editing_disaggregations_errors={}}},{key:"addDisaggregation",value:function(){this.editing_disaggregations_data.find(function(e){return"new"==e.id})||(this.editing_disaggregations_data=[].concat(M(this.editing_disaggregations_data),[{id:"new",disaggregation_type:"",selected_by_default:!1,is_archived:!1,labels:[{id:"new",label:"",createdId:"new-0"}]}]))}},{key:"deleteDisaggregation",value:function(t,n){var r=this;Object(U.a)({header:gettext("Warning"),show_icon:!0,preamble:gettext("This action cannot be undone."),message_text:gettext("Are you sure you want to delete this disaggregation?"),include_rationale:!1,rationale_required:!1,showCloser:!0,notice_type:"error",on_submit:function(){if("new"==t)return r.editing_disaggregations_data=r.editing_disaggregations_data.filter(function(e){return"new"!=e.id}),r.active_pane_is_dirty=!1,void(n&&n());r.api.deleteDisaggregation(t).then(function(e){Object(H.p)(function(){r.editing_disaggregations_data=r.editing_disaggregations_data.filter(function(e){return e.id!=t}),r.active_pane_is_dirty=!1,r.onDeleteSuccessHandler(),r.updateHistory(r.editing_target),n&&n()})})},on_cancel:function(){},blocking:!0})}},{key:"archiveDisaggregation",value:function(t){var n=this;Object(U.a)({header:gettext("Warning"),show_icon:!0,preamble:gettext("New programs will be unable to use this disaggregation. (Programs already using the disaggregation will be unaffected.)"),message_text:gettext("Are you sure you want to continue?"),include_rationale:!1,rationale_required:!1,notice_type:"notice",showCloser:!0,on_submit:function(){n.api.deleteDisaggregation(t).then(function(e){Object(H.p)(function(){n.editing_disaggregations_data.filter(function(e){return e.id==t}).forEach(function(e){e.is_archived=!0}),n.active_pane_is_dirty=!1,n.onArchiveSuccessHandler(),n.updateHistory(n.editing_target)})})},on_cancel:function(){},blocking:!0})}},{key:"unarchiveDisaggregation",value:function(t){var n=this,e=this.countries.find(function(e){return e.id==n.editing_target}),r=e?e.country:"this country";Object(U.a)({header:gettext("Warning"),show_icon:!0,preamble:interpolate(gettext("All programs in %s will be able to use this disaggregation."),[r]),message_text:gettext("Are you sure you want to continue?"),notice_type:"notice",showCloser:!0,on_submit:function(){n.api.partialUpdateDisaggregation(t,{is_archived:!1}).then(function(e){Object(H.p)(function(){n.editing_disaggregations_data.filter(function(e){return e.id==t}).forEach(function(e){e.is_archived=!1}),n.active_pane_is_dirty=!1,n.onUnarchiveSuccessHandler(),n.updateHistory(n.editing_target)})})},on_cancel:function(){},blocking:!0})}},{key:"updateDisaggregation",value:function(e,t){var n=this;this.assignDisaggregationErrors(this.editing_disaggregations_data,t,e);var r=this.editing_disaggregations_errors.hasOwnProperty("labels")&&0<this.editing_disaggregations_errors.labels.length&&this.editing_disaggregations_errors.labels.some(function(e){return e.hasOwnProperty("label")});this.editing_disaggregations_errors.disaggregation_type||r||(delete t.is_archived,this.api.updateDisaggregation(e,t).then(function(e){Object(H.p)(function(){n.onSaveSuccessHandler();var t=e.data;n.active_pane_is_dirty=!1,n.editing_disaggregations_data=n.editing_disaggregations_data.map(function(e){return e.id==t.id?t:e}),n.updateHistory(n.editing_target)})}).catch(function(e){n.saving=!1,n.editing_disaggregations_errors=e.response.data,n.onSaveErrorHandler()}))}},{key:"createDisaggregation",value:function(e){var n=this;this.assignDisaggregationErrors(this.editing_disaggregations_data,e,"new");var t=this.editing_disaggregations_errors.hasOwnProperty("labels")&&0<this.editing_disaggregations_errors.labels.length&&this.editing_disaggregations_errors.labels.some(function(e){return e.hasOwnProperty("label")});if(this.editing_disaggregations_errors.disaggregation_type||t)return this.saving=!1,Promise.reject("Validation failed");var r=e.hasOwnProperty("retroPrograms")?e.retroPrograms.length:0;return this.api.createDisaggregation(e).then(function(t){return n.updateHistory(t.data.country),Object(H.p)(function(){n.onSaveSuccessHandler({retroProgramCount:r});var e=t.data;return n.editing_history=history.data,n.active_pane_is_dirty=!1,n.editing_disaggregations_data=[].concat(M(n.editing_disaggregations_data.filter(function(e){return"new"!=e.id})),[e]),e})}).catch(function(e){return Object(H.p)(function(){n.saving=!1,n.editing_disaggregations_errors=e.response.data,n.onSaveErrorHandler()}),Promise.reject("API handling error")})}},{key:"toggleChangeLogRowExpando",value:function(e){this.changelog_expanded_rows.has(e)?this.changelog_expanded_rows.delete(e):this.changelog_expanded_rows.add(e)}},{key:"assignDisaggregationErrors",value:function(e,t,n){var r;e.filter(function(e){return e.id!==n}).map(function(e){return e.disaggregation_type}).includes(t.disaggregation_type)?(r=this.allCountries.filter(function(e){return parseInt(e.id)===parseInt(t.country)})[0]||"",this.editing_disaggregations_errors.disaggregation_type=[interpolate(gettext('There is already a disaggregation type called "%(newDisagg)s" in %(country)s. Please choose a unique name.'),{newDisagg:t.disaggregation_type,country:r.country},!0)]):this.editing_disaggregations_errors={},this.assignDisaggregationLabelErrors(t)}},{key:"findDuplicateLabelIndexes",value:function(e){var r=e.map(function(e){return e.toLowerCase()}),a=new Set;return r.forEach(function(e,t){var n=r.indexOf(e,t+1);0<n&&a.add(t).add(n)}),Array.from(a)}}])&&G(e.prototype,t),r&&G(e,r),n}()).prototype,"organizations",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=X(r.prototype,"users",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=X(r.prototype,"sectors",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=X(r.prototype,"filters",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{countries:[],organizations:[],sectors:[],programStatus:null,programs:[]}}}),s=X(r.prototype,"appliedFilters",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=X(r.prototype,"is_superuser",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=X(r.prototype,"allCountries",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=X(r.prototype,"countries",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=X(r.prototype,"country_count",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=X(r.prototype,"new_country",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=X(r.prototype,"fetching_main_listing",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=X(r.prototype,"current_page",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=X(r.prototype,"total_pages",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=X(r.prototype,"bulk_targets",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),h=X(r.prototype,"bulk_targets_all",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=X(r.prototype,"editing_target",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=X(r.prototype,"editing_errors",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=X(r.prototype,"fetching_editing_data",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=X(r.prototype,"editing_objectives_data",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=X(r.prototype,"editing_objectives_errors",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),j=X(r.prototype,"editing_disaggregations_data",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=X(r.prototype,"editing_disaggregations_errors",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),k=X(r.prototype,"fetching_editing_history",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=X(r.prototype,"editing_history",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=X(r.prototype,"saving",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=X(r.prototype,"bulk_targets",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),P=X(r.prototype,"applying_bulk_updates",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=X(r.prototype,"bulk_targets_all",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=X(r.prototype,"changelog_expanded_rows",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),X(r.prototype,"fetchCountries",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"fetchCountries"),r.prototype),X(r.prototype,"applyFilters",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"applyFilters"),r.prototype),X(r.prototype,"changePage",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"changePage"),r.prototype),X(r.prototype,"changeFilter",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"changeFilter"),r.prototype),X(r.prototype,"clearFilters",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"clearFilters"),r.prototype),X(r.prototype,"toggleEditingTarget",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"toggleEditingTarget"),r.prototype),A=X(r.prototype,"active_editor_pane",[H.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"profile"}}),X(r.prototype,"onProfilePaneChange",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"onProfilePaneChange"),r.prototype),X(r.prototype,"addCountry",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"addCountry"),r.prototype),X(r.prototype,"saveNewCountry",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"saveNewCountry"),r.prototype),X(r.prototype,"updateCountry",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"updateCountry"),r.prototype),X(r.prototype,"addObjective",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"addObjective"),r.prototype),X(r.prototype,"updateObjective",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"updateObjective"),r.prototype),X(r.prototype,"createObjective",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"createObjective"),r.prototype),X(r.prototype,"deleteObjective",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"deleteObjective"),r.prototype),X(r.prototype,"clearObjectiveEditingErrors",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"clearObjectiveEditingErrors"),r.prototype),X(r.prototype,"clearDisaggregationEditingErrors",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"clearDisaggregationEditingErrors"),r.prototype),X(r.prototype,"addDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"addDisaggregation"),r.prototype),X(r.prototype,"deleteDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"deleteDisaggregation"),r.prototype),X(r.prototype,"archiveDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"archiveDisaggregation"),r.prototype),X(r.prototype,"unarchiveDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"unarchiveDisaggregation"),r.prototype),X(r.prototype,"updateDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"updateDisaggregation"),r.prototype),X(r.prototype,"createDisaggregation",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"createDisaggregation"),r.prototype),X(r.prototype,"toggleChangeLogRowExpando",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"toggleChangeLogRowExpando"),r.prototype),X(r.prototype,"assignDisaggregationErrors",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"assignDisaggregationErrors"),r.prototype),F=X(r.prototype,"assignDisaggregationLabelErrors",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){var n=t.findDuplicateLabelIndexes(e.labels.map(function(e){return e.label})),r=Array(e.labels.length).fill().map(function(e){return{}});e.labels.forEach(function(e,t){e.label&&0!==e.label.length?n.includes(t)&&(r[t].label=[gettext("Categories must have unique names.")]):r[t].label=[gettext("Categories must not be blank.")]}),t.editing_disaggregations_errors.labels=r}}}),r),te=n("okNM"),ne=n("Z2Y6"),re=n("TGVD"),ae=n("RCjz"),ie=n("TSYQ"),oe=n.n(ie);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=de(i);return t=o?(e=de(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==ce(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe,ge=Object(te.c)(K=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(a,z.a.Component);var e,t,n,r=ue(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}return e=a,(t=[{key:"updateActivePage",value:function(e){this.props.new||this.props.notifyPaneChange(e)}},{key:"render",value:function(){var t=this,e=this.props,n=e.ProfileSection,r=e.StrategicObjectiveSection,a=e.DisaggregationSection,i=e.HistorySection,o=e.active_pane;return z.a.createElement("div",{className:"tab-set--vertical"},z.a.createElement("ul",{className:"nav nav-tabs"},z.a.createElement("li",{className:"nav-item"},z.a.createElement("a",{href:"#",className:oe()("nav-link",{active:"profile"==o}),onClick:function(e){e.preventDefault(),t.updateActivePage("profile")}},gettext("Profile"))),z.a.createElement("li",{className:"nav-item"},z.a.createElement("a",{href:"#",className:oe()("nav-link",{active:"objectives"==o,disabled:this.props.new}),onClick:function(e){e.preventDefault(),t.updateActivePage("objectives")}},gettext("Strategic Objectives"))),z.a.createElement("li",{className:"nav-item"},z.a.createElement("a",{href:"#",className:oe()("nav-link",{active:"disaggregations"==o,disabled:this.props.new}),onClick:function(e){e.preventDefault(),t.updateActivePage("disaggregations")}},gettext("Country Disaggregations"))),z.a.createElement("li",{className:"nav-item"},z.a.createElement("a",{href:"#",className:oe()("nav-link",{active:"history"==o,disabled:this.props.new}),onClick:function(e){e.preventDefault(),t.updateActivePage("history")}},gettext("History")))),z.a.createElement("div",{className:"tab-content"},"profile"==o&&z.a.createElement(n,null),"objectives"==o&&z.a.createElement(r,null),"disaggregations"==o&&z.a.createElement(a,null),"history"==o&&z.a.createElement(i,null)))}}])&&se(e.prototype,t),n&&se(e,n),a}())||K;function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=he(i);return t=o?(e=he(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==fe(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve,_e,Ee,Oe,we=Object(te.c)(function(e){var t=e.errorMessages;return t?z.a.createElement("div",{className:"invalid-feedback"},t.map(function(e,t){return z.a.createElement("span",{key:t},e)})):null}),je=Object(te.c)(pe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(a,z.a.Component);var e,t,n,r=be(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=r.call(this,e);var n=e.country_data;return t.state={original_data:Object.assign({},n),managed_data:Object.assign({},n)},t}return e=a,(t=[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_data)!=JSON.stringify(this.state.original_data))}},{key:"save",value:function(){var e=this.props.country_data.id,t=this.state.managed_data;this.props.onUpdate(e,t)}},{key:"saveNew",value:function(){var e=this.state.managed_data;this.props.onCreate(e)}},{key:"updateFormField",value:function(e,t){var n,r,a,i=this;this.setState({managed_data:Object.assign(this.state.managed_data,(a=t,(r=e)in(n={})?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n))},function(){return i.hasUnsavedDataAction()})}},{key:"resetForm",value:function(){var e=this;this.setState({managed_data:Object.assign({},this.state.original_data)},function(){return e.hasUnsavedDataAction()})}},{key:"formErrors",value:function(e){return this.props.errors[e]}},{key:"render",value:function(){var t=this,n=this.state.managed_data;this.props.organizationOptions.find(function(e){return e.value==n.organization});return z.a.createElement("div",{className:"tab-pane--react"},z.a.createElement("form",{className:"form"},z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"country-name-input"},gettext("Country name"),z.a.createElement("span",{className:"required"},"*")),z.a.createElement("input",{type:"text",value:n.country,onChange:function(e){return t.updateFormField("country",e.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("country")}),id:"country-name-input",required:!0}),z.a.createElement(we,{errorMessages:this.formErrors("country")})),z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"country-description-input"},gettext("Description")),z.a.createElement("textarea",{value:n.description,onChange:function(e){return t.updateFormField("description",e.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("description")}),id:"country-description-input"}),z.a.createElement(we,{errorMessages:this.formErrors("description")})),z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"country-code-input"},gettext("Country Code")),z.a.createElement("input",{value:n.code,onChange:function(e){return t.updateFormField("code",e.target.value)},className:oe()("form-control",{"is-invalid":this.formErrors("code")}),id:"country-code-input"}),z.a.createElement(we,{errorMessages:this.formErrors("code")})),this.props.new&&z.a.createElement("div",{className:"form-group btn-row"},z.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(e){return t.saveNew(e)}},gettext("Save Changes")),z.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.resetForm()}},gettext("Reset"))),!this.props.new&&z.a.createElement("div",{className:"form-group btn-row"},z.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(e){return t.save(e)}},gettext("Save Changes")),z.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.resetForm()}},gettext("Reset")))))}}])&&me(e.prototype,t),n&&me(e,n),a}())||pe,xe=n("ngQI"),ke=n("IP2g"),Se=n("4L+s");function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(n),!0).forEach(function(e){ze(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),e}function Me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=$e(i);return t=o?(e=$e(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==Le(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(n){return n.checkBoxOptions.map(function(t){var e;return z.a.createElement("label",{className:"mb-1",key:t.id},z.a.createElement("input",{type:"checkbox",className:"align-text-top",autoComplete:"false",name:t.name,value:t.name,checked:null!==(e=t.checked)&&void 0!==e&&e,onChange:function(e){return n.onUpdate(t.id,e.target.checked)}}),z.a.createElement("span",{className:"ml-2"},t.name))})}var Ve,Je,Ye=Object(te.c)(function(e){var t=e.errorMessages;return t?z.a.createElement("div",{className:"invalid-feedback"},t.map(function(e,t){return z.a.createElement("span",{key:t},e)})):null}),Qe=Object(te.c)(ve=function(){Me(r,z.a.Component);var n=qe(r);function r(e){var t;return Te(this,r),(t=n.call(this,e)).componentDidMount=function(){t.disabledRef.current&&$(t.disabledRef.current).popover({html:!0})},t.disabledRef=z.a.createRef(),t}return Ue(r,[{key:"render",value:function(){var e,t=this.props,n=t.index,r=t.category,a=t.listLength,i=Ie(t,["index","category","listLength"]),o=i.errors&&i.errors.labels&&i.errors.labels.length>n&&i.errors.labels[n].hasOwnProperty("label")&&i.errors.labels[n].label.length,c=z.a.createElement("a",{tabIndex:"0",onClick:function(){return i.deleteLabel(n)},className:oe()("btn btn-link btn-danger text-nowrap",{disabled:r.in_use})},z.a.createElement("i",{className:"fas fa-trash"}),gettext("Remove"));return i.disabled||r.in_use?c=z.a.createElement(Se.b,(ze(e={key:1,content:gettext("This category cannot be edited or removed because it was used to disaggregate a result."),placement:"bottom",className:"btn btn-link",iconClass:"fa fa-lock text-muted"},"className","btn btn-link"),ze(e,"innerRef",this.disabledRef),ze(e,"ariaText",gettext("Explanation for absence of delete button")),e)):1===a&&(c=null),z.a.createElement(z.a.Fragment,null,z.a.createElement("div",{className:"form-group col-md-7"},z.a.createElement("input",{value:r.label,onChange:function(e){return i.updateLabel(n,{label:e.target.value})},className:oe()("form-control",{"is-invalid":o}),disabled:r.in_use||i.disabled}),i.errors.labels&&z.a.createElement(Ye,{errorMessages:i.errors.labels.length>n?i.errors.labels[n].label:null})),z.a.createElement("div",{className:"form-group col-md-2"},z.a.createElement("select",{value:r.customsort,onChange:function(e){return i.updateLabelOrder(n,e.target.value-1)},className:"form-control",disabled:i.disabled},Array.from(Array(a).keys()).map(function(e){return z.a.createElement("option",{value:e+1,key:e},e+1)}))),z.a.createElement("div",{className:"form-group"},c))}}]),r}())||ve,Ge=Object(te.c)(function(e){var t=e.id,a=e.categories,i=Ie(e,["id","categories"]);return z.a.createElement(xe.a,{onDragEnd:function(e){var t=e.source,n=void 0===t?null:t,r=e.destination,a=void 0===r?null:r;null!==n&&null!==a&&i.updateLabelOrder(n.index,a.index)}},z.a.createElement(xe.c,{droppableId:"disaggregation-category-list-".concat(t),renderClone:function(e,t,n){return z.a.createElement("div",Fe({className:"form-group mb-0 disaggregation-label-group",ref:e.innerRef},e.draggableProps),z.a.createElement("span",Fe({className:"draggable-arrow"},e.dragHandleProps),z.a.createElement("i",{className:"fas fa-arrows-alt fa-lg"})),z.a.createElement(Qe,Fe({index:n.source.index,category:a[n.source.index],listLength:a.length},i)))}},function(e,t){return z.a.createElement("div",Fe({ref:e.innerRef},e.droppableProps),a.map(function(n,r){return z.a.createElement(xe.b,{draggableId:"new"==n.id?n.createdId:String(n.id),index:r,isDragDisabled:i.disabled,key:"new"==n.id?n.createdId:n.id},function(e,t){return z.a.createElement("div",Fe({className:"form-group mb-0 disaggregation-label-group",ref:e.innerRef},e.draggableProps),z.a.createElement("span",Fe({className:"draggable-arrow"},e.dragHandleProps),z.a.createElement("i",{className:"fas fa-arrows-alt fa-lg"})),z.a.createElement(Qe,Fe({index:r,category:n,listLength:a.length},i)))})}),e.placeholder)}))}),Xe=Object(te.c)(_e=function(){Me(r,z.a.Component);var n=qe(r);function r(e){var t;return Te(this,r),(t=n.call(this,e)).retroactiveAssignmentPopup=z.a.createRef(),t}return Ue(r,[{key:"componentDidMount",value:function(){this.retroactiveAssignmentPopup.current&&$(this.retroactiveAssignmentPopup.current).popover({html:!0})}},{key:"render",value:function(){var e=Object.values(this.props.programs).sort(function(e,t){return e.name<t.name?-1:1}),t=null;this.props.programsExpanded&&(t=z.a.createElement("div",{id:"disagg-admin__programs",className:"ml-2 mt-2 d-flex flex-column disaggregation-programs"},z.a.createElement(We,{checkBoxOptions:e,onUpdate:this.props.onRetroUpdate})));var n=gettext('<p>Select a program if you plan to disaggregate all or most of its indicators by these categories.</p><p><span class="text-danger"><strong>This bulk assignment cannot be undone.</strong></span> But you can always manually remove the disaggregation from individual indicators.</p>');return z.a.createElement("div",{className:"mt-2 ml-4 retro-programs"},z.a.createElement("a",{onClick:this.props.toggleProgramViz,className:oe()("accordion-row__btn","btn","btn-link","disaggregation--programs__header",{disabled:this.props.disabled}),tabIndex:"0"},z.a.createElement(ke.a,{icon:this.props.programsExpanded?"caret-down":"caret-right"}),z.a.createElement("span",{className:"mr-1"},gettext("Assign new disaggregation to all indicators in a program"))),z.a.createElement(Se.b,{key:1,content:n,placement:"right",innerRef:this.retroactiveAssignmentPopup,ariaText:gettext("More information on assigning disaggregations to existing indicators")}),t)}}]),r}())||_e,Ke=Object(te.c)(Ee=function(){Me(a,z.a.Component);var r=qe(a);function a(e){var n;Te(this,a),(n=r.call(this,e)).componentDidUpdate=function(){var t;n.state.labels&&(t=n.props.disaggregation.labels.reduce(function(e,t){return e[t.label]=t.id,e},{}),new Set(Object.keys(t)).size===n.state.labels.length&&n.state.labels.forEach(function(e){"new"===e.id&&Object.keys(t).includes(e.label)&&(e.id=t[e.label])})),n.selectedByDefaultPopup.current&&$(n.selectedByDefaultPopup.current).popover({html:!0})};var t=n.props.disaggregation;return n.state=Ae(Ae({},t),{},{labels:n.orderLabels(t.labels),programsExpanded:!1}),n.programsForRetro=Object(H.n)(e.programs.reduce(function(e,t){return e[t.id]={id:t.id,name:t.name,checked:!1},e},{})),n.labelsCreated=0,n.selectedByDefaultPopup=z.a.createRef(),n}return Ue(a,[{key:"orderLabels",value:function(e){return e.slice().map(function(e,t){return Ae(Ae({},e),{},{customsort:t+1})})}},{key:"hasUnsavedDataAction",value:function(){var e=this.props.disaggregation.labels.map(function(e){return Ae({},e)}),t=JSON.stringify(this.state)!==JSON.stringify(Ae(Ae({},this.props.disaggregation),{},{labels:Ce(e)})),n=Object.values(this.programsForRetro).some(function(e){return e.checked});this.props.onIsDirtyChange(t||n)}},{key:"componentDidMount",value:function(){$('[data-toggle="popover"]').popover()}},{key:"resetForm",value:function(){var e=this;this.props.clearErrors(),this.setState(Ae(Ae({},this.props.disaggregation),{},{labels:this.orderLabels(this.props.disaggregation.labels)}),function(){return e.hasUnsavedDataAction()})}},{key:"formErrors",value:function(e){return this.props.errors[e]}},{key:"updateDisaggregationTypeField",value:function(e){var t=this;this.setState({disaggregation_type:e},function(){return t.hasUnsavedDataAction()})}},{key:"updateSelectedByDefault",value:function(e){var t=this;!0!==e&&(this.clearCheckedPrograms(),this.togglePrograms()),this.setState({selected_by_default:1==e},function(){return t.hasUnsavedDataAction()})}},{key:"updateRetroPrograms",value:function(e,t){var n=this;Object(H.p)(function(){n.programsForRetro[e].checked=t}),this.hasUnsavedDataAction()}},{key:"togglePrograms",value:function(){this.setState({programsExpanded:!this.state.programsExpanded})}},{key:"clearCheckedPrograms",value:function(){for(var n=0,r=Object.entries(this.programsForRetro);n<r.length;n++)!function(){var e=Ne(r[n],2),t=(e[0],e[1]);Object(H.p)(function(){return t.checked=!1})}()}},{key:"updateLabel",value:function(e,t){var n=this,r=this.state.labels;r[e]=Ae(Ae({},r[e]),t),this.setState({labels:this.orderLabels(r)},function(){return n.hasUnsavedDataAction()})}},{key:"updateLabelOrder",value:function(e,t){var n=this,r=this.state.labels,a=[].concat(Ce(r.slice(0,e)),Ce(r.slice(e+1))),i=this.orderLabels([].concat(Ce(a.slice(0,t)),[r[e]],Ce(a.slice(t))));this.setState({labels:i},function(){return n.hasUnsavedDataAction()}),this.props.assignLabelErrors({labels:i})}},{key:"appendLabel",value:function(){var e=this;this.labelsCreated+=1;var t={id:"new",label:"",createdId:"new-".concat(this.labelsCreated)};this.setState({labels:this.orderLabels([].concat(Ce(this.state.labels),[t]))},function(){$(".disaggregation-label-group").last().find("input").first().focus(),e.hasUnsavedDataAction()})}},{key:"deleteLabel",value:function(e){var t=this,n=this.orderLabels([].concat(Ce(this.state.labels.slice(0,e)),Ce(this.state.labels.slice(e+1))));this.setState({labels:n},function(){return t.hasUnsavedDataAction()}),this.props.assignLabelErrors({labels:n})}},{key:"save",value:function(){var e=Ae({},this.state);delete e.programsExpanded;var t=Object.values(this.programsForRetro).filter(function(e){return e.checked});0<t.length&&(e.retroPrograms=t.map(function(e){return e.id})),this.props.saveDisaggregation(e)}},{key:"render",value:function(){var t=this,e=this.props,n=e.disaggregation,r=e.expanded,a=e.expandAction,i=e.deleteAction,o=e.archiveAction,c=e.unarchiveAction,s=e.errors,l=this.state,u="new"===l.id?z.a.createElement(Xe,{programs:this.programsForRetro,disabled:!0!==this.state.selected_by_default,toggleProgramViz:this.togglePrograms.bind(this),programsExpanded:this.state.programsExpanded,onRetroUpdate:this.updateRetroPrograms.bind(this)}):null;return z.a.createElement("div",{className:"accordion-row"},z.a.createElement("div",{className:"accordion-row__content"},z.a.createElement("a",{onClick:function(){a(t.resetForm.bind(t))},className:"btn accordion-row__btn btn-link",tabIndex:"0"},z.a.createElement(ke.a,{icon:r?"caret-down":"caret-right"}),"new"===n.id?"New disaggregation":n.disaggregation_type),n.is_archived&&z.a.createElement("span",{className:"text-muted font-weight-bold ml-2"},"(Archived)"),r&&z.a.createElement("form",{className:"form card card-body bg-white"},z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{className:"label--required",htmlFor:"disaggregation-type-input"},gettext("Disaggregation")),z.a.createElement("input",{id:"disaggregation-type-input",className:oe()("form-control",{"is-invalid":this.formErrors("disaggregation_type")}),value:l.disaggregation_type,onChange:function(e){return t.updateDisaggregationTypeField(e.target.value)},type:"text",required:!0,disabled:n.is_archived}),z.a.createElement(Ye,{errorMessages:this.formErrors("disaggregation_type")}),z.a.createElement("div",{className:"form-check",style:{marginTop:"8px"}},z.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:l.selected_by_default,onChange:function(e){t.updateSelectedByDefault(e.target.checked)},id:"selected-by-default-checkbox",disabled:n.is_archived}),z.a.createElement("label",{className:"form-check-label mr-2",htmlFor:"selected-by-default-checkbox"},gettext("Selected by default")),z.a.createElement(Se.b,{key:1,content:"<p>".concat(interpolate(gettext("When adding a new program indicator, this disaggregation will be selected by default for every program in %s. The disaggregation can be manually removed from an indicator on the indicator setup form."),[gettext(this.props.countryName)]),"</p>"),placement:"right",innerRef:this.selectedByDefaultPopup,ariaText:gettext('More information on "selected by default"')})),u),z.a.createElement("div",{className:"form-group",style:{marginTop:"8px"}},z.a.createElement("div",{className:"row"},z.a.createElement("div",{className:"col-md-7"},z.a.createElement("h4",null,gettext("Categories"))),z.a.createElement("div",{style:{marginLeft:"38px"}},z.a.createElement("label",null,gettext("Order")))),z.a.createElement(Ge,{id:n.id,categories:this.state.labels,disabled:n.is_archived,updateLabelOrder:this.updateLabelOrder.bind(this),updateLabel:this.updateLabel.bind(this),deleteLabel:this.deleteLabel.bind(this),errors:s}),!n.is_archived&&z.a.createElement("div",{style:{marginTop:"-15px",marginLeft:"-5px"}},z.a.createElement("a",{tabIndex:"0",onClick:function(){return t.appendLabel()},className:"btn btn-link btn-add"},z.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add a category")))),z.a.createElement("div",{className:"disaggregation-form-buttons"},z.a.createElement("div",{className:"form-row btn-row"},z.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.save()},disabled:n.is_archived,type:"button"},gettext("Save Changes")),z.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.resetForm()},disabled:n.is_archived},gettext("Reset"))),z.a.createElement("div",{className:"right-buttons"},n.is_archived?z.a.createElement("a",{tabIndex:"0",onClick:c,className:"btn btn-link"},z.a.createElement("i",{className:"fas fa-archive"}),gettext("Unarchive disaggregation")):"new"!=n.id&&n.has_indicators?z.a.createElement("a",{tabIndex:"0",onClick:o,className:"btn btn-link"},z.a.createElement("i",{className:"fas fa-archive"}),gettext("Archive disaggregation")):z.a.createElement("a",{tabIndex:"0",onClick:i,className:"btn btn-link btn-danger"},z.a.createElement("i",{className:"fas fa-trash"}),gettext("Delete disaggregation")))))))}}]),a}())||Ee,Ze=Object(te.c)(Oe=function(){Me(r,z.a.Component);var n=qe(r);function r(e){var t;return Te(this,r),(t=n.call(this,e)).state={expanded_id:null,is_dirty:!1,formReset:null,origSelectedByDefault:!1},t}return Ue(r,[{key:"handleDirtyUpdate",value:function(e){this.setState({is_dirty:e}),this.props.onIsDirtyChange(e)}},{key:"dirtyConfirm",value:function(){return!this.state.is_dirty||this.state.is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"toggleExpand",value:function(t,e){var n,r,a;this.props.clearErrors(),this.dirtyConfirm()&&(n=this.state.expanded_id,t==n?(this.state.is_dirty&&e&&e(),this.setState({expanded_id:null,formReset:null,origSelectedByDefault:null})):(this.state.formReset&&this.state.is_dirty&&this.state.formReset(),a=0<(r=this.props.disaggregations.filter(function(e){return e.id===t})).length?r[0].selected_by_default:null,this.setState({expanded_id:t,formReset:e,origSelectedByDefault:a})),"new"===n&&this.onDelete(n),this.handleDirtyUpdate(!1))}},{key:"addDisaggregation",value:function(){this.dirtyConfirm()&&(this.props.addDisaggregation(),this.setState({expanded_id:"new",origSelectedByDefault:!1},function(){$("#disaggregation-type-input").focus()}))}},{key:"onDelete",value:function(e){var t=this;this.props.onDelete(e,function(){t.setState({is_dirty:!1,expanded_id:null,formReset:null})}),this.props.clearErrors()}},{key:"onSaveChangesPress",value:function(e){var t,n=this;this.state.origSelectedByDefault!==e.selected_by_default?(t="",t=e.selected_by_default&&e.hasOwnProperty("retroPrograms")?interpolate(ngettext("This disaggregation will be automatically selected for all new indicators in %s and for existing indicators in %s program.","This disaggregation will be automatically selected for all new indicators in %s and for existing indicators in %s programs.",e.retroPrograms.length),[gettext(this.props.countryName),e.retroPrograms.length]):e.selected_by_default?interpolate(gettext("This disaggregation will be automatically selected for all new indicators in %s. Existing indicators will be unaffected."),[gettext(this.props.countryName)]):interpolate(gettext("This disaggregation will no longer be automatically selected for all new indicators in %s. Existing indicators will be unaffected."),[this.props.countryName]),Object(U.a)({header:gettext("Warning"),show_icon:!0,preamble:t,message_text:gettext("Are you sure you want to continue?"),notice_type:"notice",showCloser:!0,on_submit:function(){return n.saveDisaggregation(e)},on_cancel:function(){}})):this.saveDisaggregation(e)}},{key:"saveDisaggregation",value:function(t){var n=this,e=Object.assign(t,{country:this.props.country_id});"new"===t.id?this.props.onCreate(e).then(function(e){n.setState({expanded_id:e.id,formReset:null,origSelectedByDefault:t.selected_by_default})},function(){}):(this.props.onUpdate(t.id,e),this.setState({origSelectedByDefault:t.selected_by_default})),this.setState({is_dirty:!1})}},{key:"render",value:function(){var r=this,e=this.props.disaggregations,t=this.state.expanded_id;return z.a.createElement("div",{className:"tab-pane--react"},z.a.createElement("div",{className:"d-flex justify-content-between"},z.a.createElement("h3",null,gettext("Country Disaggregations")),z.a.createElement("div",null,!e.find(function(e){return"new"==e.id})&&z.a.createElement("a",{tabIndex:"0",className:"btn btn-link btn-add",onClick:function(){return r.addDisaggregation()}},z.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add country disaggregation")))),e.map(function(n){return z.a.createElement(Ke,{key:n.id,disaggregation:n,programs:r.props.programs,expanded:n.id==t,assignLabelErrors:r.props.assignLabelErrors,expandAction:function(e){return r.toggleExpand(n.id,e)},updateLabel:function(e,t){return r.updateLabel(n.id,e,t)},deleteAction:r.onDelete.bind(r,n.id),archiveAction:function(){return r.props.onArchive(n.id)},unarchiveAction:function(){return r.props.onUnarchive(n.id)},saveDisaggregation:function(e){return r.onSaveChangesPress(e)},errors:r.props.errors,clearErrors:r.props.clearErrors,onIsDirtyChange:function(e){return r.handleDirtyUpdate(e)},countryName:r.props.countryName})}))}}]),r}())||Oe,et=n("Cs6D");function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach(function(e){at(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),e}function st(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=dt(i);return t=o?(e=dt(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==tt(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pt,gt=[{value:"proposed",label:gettext("Proposed")},{value:"active",label:gettext("Active")},{value:"acheived",label:gettext("Achieved")}],ft=Object(te.c)(function(e){var t=e.errorMessages;return t?z.a.createElement("div",{className:"invalid-feedback"},t.map(function(e,t){return z.a.createElement("span",{key:t},e)})):null}),mt=Object(te.c)(Ve=function(){st(a,z.a.Component);var r=ut(a);function a(e){var t;it(this,a),t=r.call(this,e);var n=e.objective;return t.state={managed_data:rt({},n)},t}return ct(a,[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_data)!=JSON.stringify(this.props.objective))}},{key:"updateFormField",value:function(e,t){var n=this,r=this.state.managed_data,a=Object.assign(r,at({},e,t));this.setState({managed_data:a},function(){return n.hasUnsavedDataAction()})}},{key:"formErrors",value:function(e){return this.props.errors[e]}},{key:"resetForm",value:function(){var e=this;this.props.clearErrors();var t=this.props.objective;this.setState({managed_data:rt({},t)},function(){return e.hasUnsavedDataAction()})}},{key:"render",value:function(){var t=this,e=this.props,n=e.objective,r=e.expanded,a=e.expandAction,i=e.deleteAction,o=e.saveObjective,c=e.createObjective,s=this.state.managed_data,l=s.status,u=l?gt.find(function(e){return e.value==l}):{};return z.a.createElement("div",{className:"accordion-row"},z.a.createElement("div",{className:"accordion-row__content"},z.a.createElement("a",{onClick:a,className:"btn accordion-row__btn btn-link",tabIndex:"0"},z.a.createElement(ke.a,{icon:r?"caret-down":"caret-right"}),"new"==n.id?gettext("New Strategic Objective"):n.name),r&&z.a.createElement("form",{className:"form card card-body bg-white"},z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{className:"label--required",htmlFor:"objective-name-input"},gettext("Short name")),z.a.createElement("input",{id:"objective-name-input",className:oe()("form-control",{"is-invalid":this.formErrors("name")}),value:s.name,onChange:function(e){return t.updateFormField("name",e.target.value)},type:"text",required:!0}),z.a.createElement(ft,{errorMessages:this.formErrors("name")})),z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"objective-description-input"},gettext("Description")),z.a.createElement("textarea",{id:"objective-description-input",className:oe()("form-control",{"is-invalid":this.formErrors("description")}),value:s.description,onChange:function(e){return t.updateFormField("description",e.target.value)},type:"text",required:!0}),z.a.createElement(ft,{errorMessages:this.formErrors("description")})),z.a.createElement("div",{className:"form-group"},z.a.createElement("label",{htmlFor:"objective-status-input"},gettext("Status")),z.a.createElement(et.a,{value:u,options:gt,onChange:function(e){return t.updateFormField("status",e.value)},className:oe()("react-select",{"is-invalid":this.formErrors("status")}),id:"objective-status-input"}),z.a.createElement(ft,{errorMessages:this.formErrors("status")})),z.a.createElement("div",{className:"objective-form-buttons"},"new"==n.id&&z.a.createElement("div",{className:"form-group btn-row"},z.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return c(s)}},gettext("Save Changes"))),"new"!=n.id&&z.a.createElement("div",{className:"form-group btn-row"},z.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return o(s)}},gettext("Save Changes")),z.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.resetForm()}},gettext("Reset"))),z.a.createElement("div",{className:"right-buttons"},z.a.createElement("a",{tabIndex:"0",onClick:i,className:"btn btn-link btn-danger"},z.a.createElement("i",{className:"fas fa-trash"}),gettext("Delete")))))))}}]),a}())||Ve,yt=Object(te.c)(Je=function(){st(r,z.a.Component);var n=ut(r);function r(e){var t;return it(this,r),(t=n.call(this,e)).state={expanded_id:null,is_dirty:!1},t}return ct(r,[{key:"handleDirtyUpdate",value:function(e){this.setState({is_dirty:e}),this.props.onIsDirtyChange(e)}},{key:"dirtyConfirm",value:function(){return!this.state.is_dirty||this.state.is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"toggleExpand",value:function(e){var t;this.props.clearErrors(),this.dirtyConfirm()&&(e==(t=this.state.expanded_id)?this.setState({expanded_id:null}):this.setState({expanded_id:e}),"new"==t&&this.props.onDelete(t),this.handleDirtyUpdate(!1))}},{key:"addObjective",value:function(){this.dirtyConfirm()&&(this.props.clearErrors(),this.props.addObjective(),this.setState({expanded_id:"new"}),this.handleDirtyUpdate(!1))}},{key:"deleteObjectiveAction",value:function(e){("new"==e||confirm(gettext("Delete Strategic Objective?")))&&this.props.onDelete(e)}},{key:"updateObjective",value:function(e,t){this.props.onUpdate(e,t),this.setState({is_dirty:!1})}},{key:"createObjective",value:function(e){var t=Object.assign(e,{country:this.props.country_id});this.props.onCreate(t),this.setState({is_dirty:!1})}},{key:"render",value:function(){var n=this,e=this.state,r=e.expanded_id,t=(e.new_objective,this.props.objectives);return z.a.createElement("div",{className:"tab-pane--react"},z.a.createElement("h3",null,gettext("Strategic Objectives")),t.map(function(t){return z.a.createElement(mt,{key:t.id,objective:t,expanded:t.id==r,expandAction:function(){return n.toggleExpand(t.id)},deleteAction:function(){return n.deleteObjectiveAction(t.id)},saveObjective:function(e){return n.updateObjective(t.id,e)},createObjective:function(e){return n.createObjective(e)},errors:n.props.errors,clearErrors:n.props.clearErrors,onIsDirtyChange:function(e){return n.handleDirtyUpdate(e)}})}),z.a.createElement("div",null,z.a.createElement("a",{tabIndex:"0",onClick:function(){return n.addObjective()},className:"btn btn-link btn-add"},z.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add strategic objective"))))}}]),r}())||Je,bt=n("DDFe"),ht=n("tnXs"),vt=n("KnAV");function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=jt(i);return t=o?(e=jt(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==_t(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xt=Object(te.c)(pt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(a,z.a.Component);var e,t,n,r=wt(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r.apply(this,arguments)}return e=a,(t=[{key:"render",value:function(){var e=this.props,t=e.history,n=e.store,r=n.changelog_expanded_rows,a=n.editing_target?n.countries.filter(function(e){return e.id===n.editing_target})[0].country+": ":"";return z.a.createElement("div",{className:"tab-pane--react admin-edit-pane"},z.a.createElement("h2",{className:"no-bold"},a,gettext("History")),z.a.createElement(vt.a,{data:t,expanded_rows:r,toggle_expando_cb:function(e){return n.toggleChangeLogRowExpando(e)}}))}}])&&Et(e.prototype,t),n&&Et(e,n),a}())||pt,kt=n("WtQ/");function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ct=Object(te.c)(function(e){var t=e.store,n=e.filterOptions;return z.a.createElement("div",{className:"form-group react-multiselect-checkbox"},z.a.createElement("label",{htmlFor:"countries_filter"},gettext("Find a Country")),z.a.createElement(ne.a,{value:t.filters.countries,options:n,onChange:function(e){return t.changeFilter("countries",e)},placeholder:gettext("None Selected"),id:"countries_filter"}))}),Pt=Object(te.c)(function(e){var t=e.store,n=e.filterOptions;return z.a.createElement("div",{className:"form-group react-multiselect-checkbox"},z.a.createElement("label",{htmlFor:"organizations_filter"},gettext("Organizations")),z.a.createElement(ne.a,{value:t.filters.organizations,options:n,onChange:function(e){return t.changeFilter("organizations",e)},placeholder:gettext("None Selected"),id:"organizations_filter"}))}),Dt=Object(te.c)(function(e){var t=e.store,n=e.filterOptions;return z.a.createElement("div",{className:"form-group react-multiselect-checkbox"},z.a.createElement("label",{htmlFor:"programs-filter"},gettext("Programs")),z.a.createElement(ne.a,{value:t.filters.programs,options:n,onChange:function(e){return t.changeFilter("programs",e)},placeholder:gettext("None Selected"),id:"programs-filter"}))}),Rt=Object(te.c)(function(e){var a=e.store,t=Object(kt.d)(a.allCountries.map(function(e){return{value:e.id,label:e.country}})),i=Object(kt.d)(Object.entries(a.organizations).map(function(e){var t=St(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}})),n=Object(kt.d)(Object.entries(a.allPrograms).map(function(e){var t=St(e,2),n=(t[0],t[1]);return{value:n.id,label:n.name}}));return z.a.createElement("div",{id:"country-management-index-view",className:"row"},z.a.createElement(ht.a,null,z.a.createElement("div",{className:"filter-section"},z.a.createElement(Pt,{store:a,filterOptions:i}),z.a.createElement(Dt,{store:a,filterOptions:n})),z.a.createElement("div",{className:"filter-section filter-buttons"},z.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a.applyFilters()}},gettext("Apply")),z.a.createElement("button",{className:"btn btn-reset",onClick:function(){return a.clearFilters()}},gettext("Reset")))),z.a.createElement("div",{className:"col admin-list"},z.a.createElement("header",{className:"page-title"},z.a.createElement("h1",null,gettext("Admin:")," ",z.a.createElement("small",null,gettext("Countries")))),z.a.createElement("div",{className:"admin-list__controls"},z.a.createElement("div",{className:"controls__top-filter"},z.a.createElement(Ct,{store:a,filterOptions:t})),a.is_superuser&&z.a.createElement("div",{className:"controls__buttons"},z.a.createElement("a",{href:"#",tabIndex:"0",className:"btn btn-link btn-add",onClick:function(){return a.addCountry()}},z.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add Country")))),z.a.createElement(bt.a,{isLoading:a.fetching_main_listing||a.applying_bulk_updates},z.a.createElement("div",{className:"admin-list__table"},z.a.createElement(re.a,{newData:a.new_country,data:a.countries,keyField:"id",HeaderRow:function(e){var t=e.Col,n=e.Row;return z.a.createElement(n,null,z.a.createElement(t,{size:"1"}),z.a.createElement(t,{size:"60"},gettext("Country")),z.a.createElement(t,null,gettext("Organizations")),z.a.createElement(t,null,gettext("Programs")),z.a.createElement(t,null,gettext("Users")))},Row:function(e){var t=e.Col,n=e.Row,r=e.data;return z.a.createElement(n,{expanded:r.id==a.editing_target,Expando:Object(te.c)(function(e){var t=e.Wrapper;return z.a.createElement(t,null,z.a.createElement(ge,{notifyPaneChange:function(e){return a.onProfilePaneChange(e)},active_pane:a.active_editor_pane,new:"new"==r.id,ProfileSection:Object(te.c)(function(){return z.a.createElement(bt.a,{isLoading:a.fetching_editing_data||a.saving||a.fetching_editing_history},z.a.createElement(je,{new:"new"==r.id,country_data:r,organizationOptions:i,onUpdate:function(e,t){return a.updateCountry(e,t)},onCreate:function(e){return a.saveNewCountry(e)},errors:a.editing_errors,onIsDirtyChange:function(e){return a.setActiveFormIsDirty(e)}}))}),StrategicObjectiveSection:Object(te.c)(function(){return z.a.createElement(bt.a,{isLoading:a.fetching_editing_data||a.saving||a.fetching_editing_history},z.a.createElement(yt,{country_id:r.id,objectives:a.editing_objectives_data,addObjective:function(){return a.addObjective()},onUpdate:function(e,t){return a.updateObjective(e,t)},onCreate:function(e){return a.createObjective(e)},onDelete:function(e){return a.deleteObjective(e)},errors:a.editing_objectives_errors,clearErrors:function(){return a.clearObjectiveEditingErrors()},onIsDirtyChange:function(e){return a.setActiveFormIsDirty(e)}}))}),DisaggregationSection:Object(te.c)(function(){return z.a.createElement(bt.a,{isLoading:a.fetching_editing_data||a.saving||a.fetching_editing_history},z.a.createElement(Ze,{country_id:r.id,countryName:r.country,programs:a.getCountryPrograms(r.id),disaggregations:a.editing_disaggregations_data,addDisaggregation:function(){return a.addDisaggregation()},assignLabelErrors:a.assignDisaggregationLabelErrors,onDelete:a.deleteDisaggregation.bind(a),onArchive:function(e){return a.archiveDisaggregation(e)},onUnarchive:function(e){return a.unarchiveDisaggregation(e)},onUpdate:function(e,t){return a.updateDisaggregation(e,t)},onCreate:function(e){return a.createDisaggregation(e)},errors:a.editing_disaggregations_errors,clearErrors:function(){return a.clearDisaggregationEditingErrors()},onIsDirtyChange:function(e){return a.setActiveFormIsDirty(e)}}))}),HistorySection:Object(te.c)(function(){return z.a.createElement(bt.a,{isLoading:a.fetching_editing_data||a.saving||a.fetching_editing_history},z.a.createElement(xt,{store:a,history:a.editing_history}))}),fetchObjectives:function(e){return a.fetchObjectives(e)}}))})},z.a.createElement(t,{size:"0.2"}),z.a.createElement(t,{size:"2",className:"td--stretch"},z.a.createElement("div",{className:"expando-toggle icon__clickable",onClick:function(){return a.toggleEditingTarget(r.id)}},z.a.createElement("div",{className:"expando-toggle__icon"},z.a.createElement(ke.a,{icon:a.editing_target==r.id?"caret-down":"caret-right"})),z.a.createElement("div",{className:"expando-toggle__label"},z.a.createElement("i",{className:"fas fa-globe"}),"Â ",r.country||"---"))),z.a.createElement(t,{className:"text-nowrap"},r.organizations_count?z.a.createElement("a",{href:"/tola_management/organization/?countries[]=".concat(r.id)},z.a.createElement("i",{className:"fas fa-building"}),"Â ",interpolate(ngettext("%s organization","%s organizations",r.organizations_count),[r.organizations_count])):z.a.createElement("span",null,z.a.createElement("i",{className:"fas fa-building"}),"Â ",gettext("0 organizations"))),z.a.createElement(t,{className:"text-nowrap"},r.programs_count?z.a.createElement("a",{href:"/tola_management/program/?countries[]=".concat(r.id)},z.a.createElement("i",{className:"fas fa-cubes"}),"Â ",interpolate(ngettext("%s program","%s programs",r.programs_count),[r.programs_count])):z.a.createElement("span",null,z.a.createElement("i",{className:"fas fa-cubes"}),"Â ",gettext("0 programs"))),z.a.createElement(t,{className:"text-nowrap"},r.users_count?z.a.createElement("a",{href:"/tola_management/user/?countries[]=".concat(r.id)},z.a.createElement("i",{className:"fas fa-users"}),"Â ",interpolate(ngettext("%s user","%s users",r.users_count),[r.users_count])):z.a.createElement("span",null,z.a.createElement("i",{className:"fas fa-users"}),"Â ",gettext("0 users"))))}}))),z.a.createElement("div",{className:"admin-list__metadata"},z.a.createElement("div",{className:"metadata__count text-muted text-small"},a.country_count?"".concat(a.country_count," ").concat(gettext("countries")):"---"),z.a.createElement("div",{className:"metadata__controls"},a.total_pages&&z.a.createElement(ae.a,{pageCount:a.total_pages,initialPage:a.current_page,onPageChange:function(e){return a.changePage(e)}})))))}),At=n("XoI5");function Ft(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Lt(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(i),!0).forEach(function(e){var t,n,r;t=a,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Ft(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}var zt=new ee({fetchCountries:function(e,t){return At.a.get("/tola_management/country/",{params:Lt({page:e},t)}).then(function(e){var t=e.data;return{results:t.results,total_results:t.count,total_pages:t.page_count,next_page:t.next,prev_page:t.previous}})},fetchCountryObjectives:function(e){return At.a.get("/tola_management/countryobjective/",{params:{country:e}})},fetchCountryHistory:function(e){return At.a.get("/tola_management/country/".concat(e,"/history/"))},fetchCountryDisaggregations:function(e){return At.a.get("/tola_management/countrydisaggregation/",{params:{country:e}})},createCountry:function(e){return At.a.post("/tola_management/country/",e)},updateCountry:function(e,t){return At.a.put("/tola_management/country/".concat(e,"/"),t)},createObjective:function(e){return At.a.post("/tola_management/countryobjective/",e)},updateObjective:function(e,t){return At.a.put("/tola_management/countryobjective/".concat(e,"/"),t)},deleteObjective:function(e){return At.a.delete("/tola_management/countryobjective/".concat(e))},createDisaggregation:function(e){return At.a.post("/tola_management/countrydisaggregation/",e)},updateDisaggregation:function(e,t){return At.a.put("/tola_management/countrydisaggregation/".concat(e,"/"),t)},partialUpdateDisaggregation:function(e,t){return At.a.patch("/tola_management/countrydisaggregation/".concat(e,"/"),t)},deleteDisaggregation:function(e){return At.a.delete("/tola_management/countrydisaggregation/".concat(e))}},{allCountries:jsContext.countries,organizations:jsContext.organizations,allPrograms:jsContext.programs,is_superuser:jsContext.is_superuser});T.a.render(z.a.createElement(Rt,{store:zt}),document.querySelector("#app_root"))},RCjz:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("I+5a"),o=n.n(i);n("okNM");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement(o.a,c({previousLabel:"â¹",previousClassName:"page-item previous",previousLinkClassName:"page-link",nextLabel:"âº",nextClassName:"page-item next",nextLinkClassName:"page-link",breakLabel:"...",disabledClassName:"disabled",breakClassName:"page-item disabled",breakLinkClassName:"page-link",pageClassName:"page-item",pageLinkClassName:"page-link",marginPagesDisplayed:2,pageRangeDisplayed:5,containerClassName:"pagination",activeClassName:"active"},e))}},TGVD:function(e,t,n){"use strict";var o=n("okNM"),r=n("q1tI"),c=n.n(r),a=n("TSYQ"),s=n.n(a);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function i(e){var t=e.className,n=(e.size,u(e,["className","size"]));return c.a.createElement("td",l({className:["mgmt-table__col",t].join(" ")},n),n.children)}function d(e){var t=e.className,n=e.size,r=u(e,["className","size"]);return c.a.createElement("th",l({className:["mgmt-table__col","mgmt-table__col__width-".concat(n),t].join(" ")},r),r.children)}function p(e){var t=e.className,n=u(e,["className"]);return c.a.createElement("tr",l({className:["mgmt-table__row",t].join(" ")},n),n.children)}function g(e){var t=e.className,n=u(e,["className"]);return c.a.createElement("tr",l({className:["mgmt-table__row table-header",t].join(" ")},n),n.children)}var f=Object(o.c)(function(e){var t=e.className,n=e.expanded,r=e.Expando,a=u(e,["className","expanded","Expando"]);if(r){var i=Object(o.c)(r);return c.a.createElement("tbody",l({className:s()(["mgmt-table__body",t].join(" "),{"is-expanded":n})},a),c.a.createElement(p,null,a.children),n&&c.a.createElement(i,{Wrapper:m}))}return c.a.createElement("tbody",l({className:["mgmt-table__body",t].join(" ")},a),c.a.createElement(p,null,a.children))}),m=function(e){var t=e.className,n=u(e,["className"]);return c.a.createElement("tr",l({className:["mgmt-table__row--expanded",t].join(" ")},n),c.a.createElement("td",{colSpan:"5"},n.children))},y=Object(o.c)(function(e){var t=e.data,n=e.Row,r=e.keyField,a=(u(e,["data","Row","keyField"]),Object(o.c)(n));return t.map(function(e){return c.a.createElement(a,{key:e[r],data:e,Col:i,Row:f})})}),b=Object(o.c)(function(e){var t=e.HeaderRow,n=e.className,r=u(e,["HeaderRow","className"]),a=Object(o.c)(t);return c.a.createElement("table",{className:["table bg-white",n].join(" ")},c.a.createElement("thead",null,c.a.createElement(a,{Col:d,Row:g})),c.a.createElement(y,r))});t.a=b},"WtQ/":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return o});function r(){$(function(){var e=0===window.performance.getEntriesByType("navigation")[0].transferSize,t="reload"===window.performance.getEntriesByType("navigation")[0].type;e&&!t&&window.location.reload()})}var a=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t,n=e.toString(),r=null;switch(e.toString().includes(",")?(n=e.toString().split(",")[0],r=1<e.toString().split(",").length?e.toString().split(",")[1]:null):e.toString().includes(".")&&(n=e.toString().split(".")[0],r=1<e.toString().split(".").length?e.toString().split(".")[1]:null),r=r&&0<r.length?r:null,window.userLang){case"es":t=n.replace(/\B(?=(\d{3})+(?!\d))/g,"."),r&&(t+=",".concat(r));break;case"fr":t=n.replace(/\B(?=(\d{3})+(?!\d))/g,String.fromCharCode(160)),r&&(t+=",".concat(r));break;case"en":default:t=n.replace(/\B(?=(\d{3})+(?!\d))/g,","),r&&(t+=".".concat(r))}return t},i=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t=a(Math.round(1e4*e)/100);return null===t?null:"".concat(t,"%")},o=function(e,t){var n=1<arguments.length&&void 0!==t?t:"label";return e.sort(function(e,t){return e[n].toUpperCase()>t[n].toUpperCase()?1:-1})}},XoI5:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("vDqi"),a=n.n(r).a.create({withCredentials:!0,baseURL:"/api/",headers:{"X-CSRFToken":document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*\=\s*([^;]*).*$)|^.*$/,"$1")}})},Z2Y6:function(e,t,n){"use strict";var r=n("q1tI"),c=n.n(r),s=n("c7k8");n("Cs6D");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=d(i);return t=o?(e=d(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==l(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a,p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(a,c.a.PureComponent);var e,t,n,r=u(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this,e)).cache=new s.c({fixedWidth:!0,defaultHeight:35}),t.filter_val="",t}return e=a,(t=[{key:"render",value:function(){var i=this,e=this.props,o=(e.options,e.children),t=e.maxHeight,n=(e.getValue,e.selectProps),r=o.length||0;return n.inputValue!==this.filter_val&&(this.filter_val=n.inputValue,this.cache.clearAll()),c.a.createElement("div",{style:{display:"flex",height:"100vh",maxHeight:t+"px"}},c.a.createElement("div",{style:{flex:"1 1 auto"}},c.a.createElement(s.a,null,function(e){var t=e.width,n=e.height;return c.a.createElement(s.e,{height:n,width:t,deferredMeasurementCache:i.cache,rowCount:r,rowHeight:i.cache.rowHeight,noRowsRenderer:function(){return c.a.createElement("div",null,"No selections available")},rowRenderer:function(e){var t=e.index,n=e.parent,r=e.key,a=e.style;return c.a.createElement(s.b,{key:r,cache:i.cache,parent:n,columnIndex:0,rowIndex:t},c.a.createElement("div",{style:a},o[t]))}})})))}}])&&i(e.prototype,t),n&&i(e,n),a}(),g=n("VCnP"),f=n.n(g),m=n("oary"),y=n.n(m),b=n("PAeb"),h=n("okNM");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=j(i);return t=o?(e=j(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==v(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function k(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach(function(e){var t,n,r;t=a,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}var S=function(e){return c.a.createElement("div",{className:"count__label"},e.children,e.clearable&&c.a.createElement("div",{onClick:e.clearSelect},c.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))};function N(e){if(!1!==e.data.selectable)return!0===e.data.divider?c.a.createElement(c.a.Fragment,null,c.a.createElement("hr",{style:{margin:"3px 0px 0px 0px"}}),c.a.createElement(y.a,e)):c.a.createElement(y.a,e);e.children;var t=e.className,n=e.cx,r=e.getStyles,a=(e.Heading,e.setValue,e.data,e.label,e.getValue,e.theme),i=(e.selectProps.getOptionValue,{getStyles:r,cx:n,theme:a,indeterminate:!1,checked:!1});return c.a.createElement("div",{className:n(Object(b.css)(r("group",e)),{group:!0},t)},c.a.createElement("div",{className:n(Object(b.css)(r("groupHeading",k({},i))),{"group-heading":!0},t)},e.data.label),c.a.createElement("div",null,e.children))}var C=Object(h.c)(a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,c.a.Component);var e,t,n,r=w(i);function i(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(a=r.call(this,e)).clearSelect=function(e){e.stopPropagation(),a.props.onChange([])},a.makeLabel=function(e){var t=e.placeholderButtonLabel,n=e.value;if(!n)return c.a.createElement(S,{clearable:!1},t);if(Array.isArray(n)){var r=n.filter(function(e){return!e.noList});return 0===r.length?c.a.createElement(S,{clearable:!1},t):1===r.length?c.a.createElement(S,{clearable:!0,clearSelect:a.clearSelect},r[0].label):c.a.createElement(S,{clearable:!0,clearSelect:a.clearSelect},"".concat(r.length," ",gettext("selected")))}return c.a.createElement(S,{clearable:!1},n.label)},a}return e=i,(t=[{key:"render",value:function(){return c.a.createElement(f.a,_({},this.props,{placeholder:gettext("Search"),placeholderButtonLabel:this.props.placeholder,getDropdownButtonLabel:this.makeLabel,components:{MenuList:p,Group:N}}))}}])&&E(e.prototype,t),n&&E(e,n),i}())||a;t.a=C},tnXs:function(e,t,n){"use strict";var r=n("q1tI"),c=n.n(r);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,a=p(i);return t=o?(e=p(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),n=this,!(r=t)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(a,c.a.Component);var e,t,n,r=d(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this,e)).updateDimensions=function(){t.state.folded||t.state.folding||t.setState(function(){return{resize:!0}},function(){t.contentWidth=t.contentsContainer.current.offsetWidth,t.setState({resize:!1})})},t.state={folding:!1,folded:!1,resize:!1},t.contentsContainer=c.a.createRef(),t}return e=a,(t=[{key:"componentDidMount",value:function(){this.contentWidth=this.contentsContainer.current.offsetWidth,window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"toggleFolded",value:function(){this.state.folding?this.foldComplete():this.setState({folding:!0,folded:!this.state.folded})}},{key:"foldComplete",value:function(){this.setState(function(){return{folding:!1}},this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=u(t,["className"]),a=this.state.folded?this.state.folding?"fa-angle-double-left":"fa-chevron-right":this.state.folding?"fa-angle-double-right":"fa-chevron-left",i=this.state.folded?"0px":this.state.resize?"auto":this.contentWidth+"px",o=this.state.folded||this.state.folding?"hidden":"visible";return c.a.createElement("div",l({className:"folding-sidebar "+(n||"")},r),c.a.createElement("div",{className:"folding-sidebar__contents",onTransitionEnd:function(){return e.foldComplete()},ref:this.contentsContainer,style:{width:i,overflow:o}},c.a.createElement(c.a.Fragment,null,this.props.children)),c.a.createElement("div",{className:"folding-sidebar__trigger",onClick:function(){return e.toggleFolded()}},c.a.createElement("i",{key:a},c.a.createElement("span",{className:"fa "+a}))))}}])&&i(e.prototype,t),n&&i(e,n),a}();t.a=a},v38i:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"l",function(){return c}),n.d(t,"i",function(){return s}),n.d(t,"k",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"m",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return b});var a={value:null,label:"---------"},i="â",o=i,c=1,s=2,l=[3,4,5,6,7],u=[1,2],d=Object.freeze({1:gettext("Life of Program (LoP) only"),2:gettext("Midline and endline"),3:gettext("Annual"),4:gettext("Semi-annual"),5:gettext("Tri-annual"),6:gettext("Quarterly"),7:gettext("Monthly")}),p=Object.freeze({3:gettext("Years"),4:gettext("Semi-annual periods"),5:gettext("Tri-annual periods"),6:gettext("Quarters"),7:gettext("Months")}),g=1,f=2;var m,y=Object.freeze({noFilter:0,missingTarget:1,missingResults:2,missingEvidence:3,aboveTarget:5,belowTarget:6,onTarget:7,nonReporting:8}),b=null!==(m="reason_for_change_options",r="undefined"!=typeof JS_GLOBALS&&JS_GLOBALS.hasOwnProperty(m)?JS_GLOBALS[m]:null)&&void 0!==r?r:[]}},[["NlW9",0,1]]]);
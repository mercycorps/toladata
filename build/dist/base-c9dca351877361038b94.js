(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"4a4Y":function(e,t,n){"use strict";n.d(t,"a",function(){return o});function W(e){var t=(0<arguments.length&&void 0!==e?e:{}).custom_rfc_options,n=(void 0===t?null:t)||d.h;if(!n)return"";var o=document.createElement("section");o.classList.add("pnotify__reason-for-change");var i=document.createElement("div");i.classList.add("form-group");var a=document.createElement("label");a.appendChild(document.createTextNode(gettext("Reason for change"))),a.htmlFor="reasons_for_change_select",i.appendChild(a);var r=document.createElement("select");r.name="reasons_for_change",r.id="reasons_for_change_select",r.setAttribute("multiple",""),r.classList.add("form-control");for(var s=0;s<n.length;s++){var c,l=document.createElement("option");l.value=n[s].value,l.label=n[s].label,l.text=n[s].label,s==n.length-1&&((c=document.createElement("option")).setAttribute("data-role","divider"),r.appendChild(c)),r.appendChild(l)}return i.appendChild(r),o.appendChild(i),o}var d=n("v38i"),o=function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.header,o=void 0===n?null:n,i=t.show_icon,a=void 0===i||i,r=t.message_text,s=void 0===r?null:r,c=t.preamble,l=void 0===c?null:c,d=t.on_submit,u=void 0===d?function(){}:d,v=t.on_cancel,f=void 0===v?function(){}:v,g=t.rfc_required,p=void 0===g||g,m=t.rfc_options,h=void 0===m?null:m,x=t.rationale_required,_=void 0===x||x,w=t.include_rationale,y=void 0!==w&&w,b=t.validation_type,k=void 0===b?0:b,S=t.showCloser,C=void 0===S||S,E=t.confirm_text,T=void 0===E?gettext("Ok"):E,D=t.cancel_text,N=void 0===D?gettext("Cancel"):D,O=t.context,F=void 0===O?null:O,j=t.notice_type,I=void 0===j?"notice":j,L=(t.blocking,t.self_dismissing),B=void 0!==L&&L,A=t.dismiss_delay,R=void 0===A?8e3:A,P="";a&&(P='<i class="fas '.concat({error:"fa-exclamation-triangle",info:"fa-info-circle",success:"fa-check-circle",notice:"fa-exclamation-triangle"}[I],'"></i>'));var H=o||P?'<header class="pnotify__header">\n            <h4>\n                '.concat(P,"\n                ").concat(o||"","\n            </h4>\n        </header>"):"",M=l?'<section class="pnotify__preamble">\n            <p><b>'.concat(l,"</b></p>\n        </section>"):"",Y=s?'<section class="pnotify__message">\n            <p>'.concat(s,"</p>\n        </section>"):"",U="";null!==h&&(U=W({custom_rfc_options:!0===h?null:h}).outerHTML);var V=0<U.length?"<label>".concat(gettext("Details"),"</label>"):"",q=y?'<section class="pnotify__rationale">\n            <div class="form-group">\n                '.concat(V,'\n                <textarea class="form-control" name="rationale" />\n            </div>\n        </section>'):"",z="\n        ".concat(H,"\n        ").concat(M,"\n        ").concat(Y,"\n        ").concat(U,"\n        ").concat(q,"\n    "),G={text:T,primary:!0,addClass:"btn-sm btn-"+{error:"danger",info:"info",success:"success",notice:"primary"}[I],click:function(e){var t=!0,n=$(e.refs.elem).find('textarea[name="rationale"]');n.parent().find(".invalid-feedback").remove();var o=n.val()?n.val().trim():void 0,i=($(e.refs.elem).find('select[name="reasons_for_change"]').val()||[]).map(function(e){return parseInt(e)}),a=!1;switch(k){case 1:a=o||0<i.length&&-1==i.indexOf(1);break;case 0:default:a=(o||!y||!_)&&(0<i.length||!h||!p)}if(!a)return n.addClass("is-invalid"),n.parent().append('<div class="invalid-feedback">'+gettext("A reason is required.")+"</div>"),!1;n.removeClass("is-invalid"),u&&void 0===(t=u(o,i,k))&&(t=!0),t&&(document.getElementById("notification_blocking_div").style.display="none",e.close())}},J={text:N,addClass:"btn-sm",click:function(e){close=f(),void 0===close&&(close=!0),close&&(document.getElementById("notification_blocking_div").style.display="none",e.close())}},Q=[];T&&Q.push(G),N&&Q.push(J);var K=PNotify.alert({text:$('<div><form action="" method="post" class="form">'.concat(z,"</form></div>")).html(),textTrusted:!0,icon:!1,width:"350px",hide:B,delay:R,type:I,addClass:"program-page__rationale-form",stack:{overlayClose:!0,dir1:"right",dir2:"up",firstpos1:20,firstpos2:20,context:F},modules:{Buttons:{closer:C,closerHover:!1,sticker:!1},Confirm:{align:"flex-start",confirm:!0,buttons:Q}}});$(".pnotify__reason-for-change select").multiselect({numberDisplayed:1,nSelectedText:" ".concat(gettext("selected")),nonSelectedText:gettext("None selected")}),f&&K.on("click",function(e){var t;$(e.target).is(".ui-pnotify-closer *")&&(!(t=f())&&void 0!==t||(document.getElementById("notification_blocking_div").style.display="none",K.close()))})}},"WtQ/":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return r});function o(){$(function(){var e=0===window.performance.getEntriesByType("navigation")[0].transferSize,t="reload"===window.performance.getEntriesByType("navigation")[0].type;e&&!t&&window.location.reload()})}var i=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t,n=e.toString(),o=null;switch(e.toString().includes(",")?(n=e.toString().split(",")[0],o=1<e.toString().split(",").length?e.toString().split(",")[1]:null):e.toString().includes(".")&&(n=e.toString().split(".")[0],o=1<e.toString().split(".").length?e.toString().split(".")[1]:null),o=o&&0<o.length?o:null,window.userLang){case"es":t=n.replace(/\B(?=(\d{3})+(?!\d))/g,"."),o&&(t+=",".concat(o));break;case"fr":t=n.replace(/\B(?=(\d{3})+(?!\d))/g,String.fromCharCode(160)),o&&(t+=",".concat(o));break;case"en":default:t=n.replace(/\B(?=(\d{3})+(?!\d))/g,","),o&&(t+=".".concat(o))}return t},a=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t=i(Math.round(1e4*e)/100);return null===t?null:"".concat(t,"%")},r=function(e,t){var n=1<arguments.length&&void 0!==t?t:"label";return e.sort(function(e,t){return e[n].toUpperCase()>t[n].toUpperCase()?1:-1})}},YqHn:function(e,t,n){"use strict";n.r(t);n("55Il"),n("Rkej");var o=n("4a4Y"),i=n("WtQ/");function a(e){null!=e.getResponseHeader("Login-Screen")&&e.getResponseHeader("Login-Screen").length&&(window.location=js_context.loginUrl)}function r(e,t){return(e+="").length>=t?e:new Array(t-e.length+1).join(0)+e}function s(e){var t=new Date(e);if("Invalid Date"==t)return!1;var n=(new Date).getFullYear();return!(t.getFullYear()>n+100||t.getFullYear()<1980)}$.ajaxSetup({crossDomain:!1,beforeSend:function(e,t){/^(GET|HEAD|OPTIONS|TRACE)$/.test(t.type)||e.setRequestHeader("X-CSRFToken",function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var i=jQuery.trim(n[o]);if(i.substring(0,e.length+1)==e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}("csrftoken"))},success:function(e,t,n){a(n)},error:function(e){a(e)}}),$(document).ajaxStart(function(){$("#ajaxloading").show()}).ajaxStop(function(){$("#ajaxloading").hide()}).ajaxError(function(e,t,n,o){var i;!0===n.suppressErrors||(4===t.readyState?(i="".concat(t.status,": ").concat(t.statusText),403===t.status?d(js_context.strings.permissionError,js_context.strings.permissionErrorDescription):d(js_context.strings.serverError,i)):0===t.readyState?d(js_context.strings.networkError,js_context.strings.networkErrorTryAgain):d(js_context.strings.unknownNetworkError,t.statusText))}),Date.prototype.toISODate||(Date.prototype.toISODate=function(){return this.getFullYear()+"-"+("0"+(this.getMonth()+1)).slice(-2)+"-"+("0"+this.getDate()).slice(-2)}),window.isDate=s,window.formatDate=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(null==t||null==t||0==t.length||"undefined"==t||"null"==t)return"";try{var e=new Date(t),o=e.getTimezoneOffset();return 0<e.getHours()&&e.setMinutes(e.getMinutes()+o),e.getFullYear()+"-"+r(e.getMonth()+1,2)+"-"+r(0==n?e.getDate():n,2)}catch(e){try{var i=t.split("-");return i[0]+"-"+r(parseInt(i[1]),2)+"-"+r(0==n?i[2]:n,2)}catch(e){return t==t}}},window.localDateFromISOStr=function(e){var t=e.split("-").map(function(e){return parseInt(e)});return new Date(t[0],t[1]-1,t[2])},window.localdate=function(){var e=new Date;return e.setHours(0,0,0,0),e};var c="numeric",l={year:c,month:"short",day:c};function d(e,t){PNotify.alert({text:t,title:e,hide:!1,type:"error"})}window.mediumDateFormatStr=function(e){var t=window.userLang;return new Intl.DateTimeFormat(t,l).format(e)},$(function(){var e=document.location.hash;e&&$('.nav-tabs a[href="'+e+'"]').tab("show"),$('a[data-toggle="tab"]').on("show.bs.tab",function(e){window.location.hash=e.target.hash}),$('[data-toggle="popover"]').popover({html:!0}),$('[data-toggle="popover"]').on("click",function(e){e.preventDefault()}),$("#covid-banner-alert").on("close.bs.alert",function(){!function(e,t){var n=1<arguments.length&&void 0!==t?t:null,o={url:"/update_user_session/",type:"PUT",contentType:"application/json",data:JSON.stringify(e),processData:!1},i=$.ajax(o);n&&i.done(n)}({show_covid_banner:!1})})}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(document).ready(function(){$(".datepicker").datepicker({dateFormat:"yy-mm-dd"})}),window.createAlert=function(e,t,n,o){null==o&&(o="#messages"),$(o).append($("<div class='alert alert-"+e+" dynamic-alert alert-dismissable' style='margin-top:0;'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><p>"+t+"</p></div>")),1==n&&$(".dynamic-alert").delay(5e3).fadeOut("slow",function(){$(this).remove()})},$(function(){PNotify.defaults.styling="bootstrap4",PNotify.defaults.icons="fontawesome5",PNotify.modules.Buttons.defaults.closerHover=!1,PNotify.modules.Buttons.defaults.sticker=!1}),window.notifyError=d,window.autoDismissingNotification=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=void 0===t?"":t,o=e.type,i=void 0===o?"success":o,a=e.title,r=void 0===a?gettext("Success"):a,s=e.hide,c=void 0===s||s,l=e.textTrusted,d=void 0!==l&&l;return PNotify.alert({title:r,text:n,type:i,hide:c,textTrusted:d,width:"350px",minHeight:"150px",delay:3e3,stack:{dir1:"right",dir2:"up",firstpos1:0,firstpos2:0},modules:{Buttons:{closer:!0,closerHover:!1,sticker:!1}}})},$(document).ready(function(){$(document).on("hidden.bs.modal",".modal",function(){$(".modal:visible").length?$(document.body).addClass("modal-open"):$(document.body).removeClass("modal-open")})}),window.newPopup=function(e,t){return window.open(e,t,"height=768,width=1366,left=1200,top=10,titlebar=no,toolbar=no,menubar=no,location=no,directories=no,status=no")};var w=gettext("Your changes will be recorded in a change log. For future reference, please share your reason for these changes."),g=gettext("Your changes will be recorded in a change log. For future reference, please share your reason for these changes."),_=gettext("This action cannot be undone");window.DEFAULT_DESTRUCTIVE_MESSAGE=w,window.DEFAULT_NONDESTRUCTIVE_MESSAGE=g,window.DEFAULT_NO_RATIONALE_TEXT=_;window.target_with_results_text=function(e){return interpolate(ngettext("Removing this target means that %s result will no longer have targets associated with it.","Removing this target means that %s results will no longer have targets associated with them.",e),[e])};function y(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.on_submit,i=void 0===n?function(){}:n,o=t.on_cancel,a=void 0===o?function(){}:o,r=t.confirm_text,s=void 0===r?gettext("Ok"):r,c=t.cancel_text,l=void 0===c?gettext("Cancel"):c,d=t.type,u=void 0===d?"notice":d,v=t.inner,f=void 0===v?"":v,g=t.context,p=void 0===g?null:g,m=t.rationale_required,h=void 0===m||m,x=t.showCloser,_=void 0!==x&&x,w=PNotify.alert({text:$('<div><form action="" method="post" class="form">'.concat(f,"</form></div>")).html(),textTrusted:!0,icon:!1,width:"350px",hide:!1,type:u,addClass:"program-page__rationale-form",stack:{overlayClose:!0,dir1:"right",dir2:"up",firstpos1:20,firstpos2:20,context:p},modules:{Buttons:{closer:_,closerHover:!1,sticker:!1},Confirm:{confirm:!0,buttons:[{text:s,primary:!0,addClass:"error"==u?"btn-danger":"",click:function(e){var t=!0,n=$(e.refs.elem).find('textarea[name="rationale"]'),o=n.val();if(n.parent().find(".invalid-feedback").remove(),!o&&h)return n.addClass("is-invalid"),n.parent().append('<div class="invalid-feedback">'+gettext("A reason is required.")+"</div>"),!1;n.removeClass("is-invalid"),i&&void 0===(t=i(o))&&(t=!0),t&&(document.getElementById("notification_blocking_div").style.display="none",e.close())}},{text:l,click:function(e){close=a(),void 0===close&&(close=!0),close&&(document.getElementById("notification_blocking_div").style.display="none",e.close())}}]}}});a&&w.on("click",function(e){var t;$(e.target).is(".ui-pnotify-closer *")&&(!(t=a())&&void 0!==t||(document.getElementById("notification_blocking_div").style.display="none",w.close()))})}window.create_destructive_changeset_notice=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.message_text,n=void 0===t?w:t,o=e.on_submit,i=void 0===o?function(){}:o,a=e.on_cancel,r=void 0===a?function(){}:a,s=e.confirm_text,c=void 0===s?gettext("Ok"):s,l=e.cancel_text,d=void 0===l?gettext("Cancel"):l,u=e.context,v=void 0===u?null:u,f=e.no_preamble,g=void 0!==f&&f,p=e.showCloser,m=void 0!==p&&p,h=e.preamble,n=n||w,x=(x=void 0!==h&&h)||(g?"":"<span class='text-danger'>".concat(gettext("This action cannot be undone."),"</span>")),_='\n        <div class="row">\n            <div class="col">\n                <h2 class="text-danger">'.concat(gettext("Warning"),'</h2>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                ').concat(x,"\n                ").concat(n,'\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                <div class="form-group">\n                    <textarea class="form-control" name="rationale"></textarea>\n                </div>\n            </div>\n        </div>\n    ');return y({message_text:n,on_submit:i,on_cancel:r,confirm_text:c,cancel_text:d,type:"error",inner:_,context:v,showCloser:m})},window.create_nondestructive_changeset_notice=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.message_text,n=void 0===t?g:t,o=e.on_submit,i=void 0===o?function(){}:o,a=e.on_cancel,r=void 0===a?function(){}:a,s=e.confirm_text,c=void 0===s?gettext("Ok"):s,l=e.cancel_text,d=void 0===l?gettext("Cancel"):l,u=e.context,v=void 0===u?null:u,n=n||g,f='\n        <div class="row">\n            <div class="col">\n                <h2>'.concat(gettext("Reason for change"),'</h2>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                ').concat(n,'\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                <div class="form-group">\n                    <textarea class="form-control" name="rationale"></textarea>\n                </div>\n            </div>\n        </div>\n    ');return y({message_text:n,on_submit:i,on_cancel:r,confirm_text:c,cancel_text:d,type:"notice",inner:f,context:v})},window.create_no_rationale_changeset_notice=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.message_text,n=void 0===t?_:t,o=e.on_submit,i=void 0===o?function(){}:o,a=e.on_cancel,r=void 0===a?function(){}:a,s=e.confirm_text,c=void 0===s?gettext("Ok"):s,l=e.cancel_text,d=void 0===l?gettext("Cancel"):l,u=e.context,v=void 0===u?null:u,f=e.type,g=void 0===f?"error":f,p=e.preamble,m=void 0!==p&&p,h=e.blocking;void 0!==h&&h&&(document.getElementById("notification_blocking_div").style.display="block"),n=n||_,m=m||gettext("This action cannot be undone.");var x='\n        <div class="row">\n            <div class="col">\n                <h2 class="pnotify--header"><i class="fas fa-exclamation-triangle"></i>'.concat(gettext("Warning"),'</h2>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                <span class=\'text-danger\'>\n                    ').concat(m,'\n                </span>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                <span>\n                    ').concat(n,"\n                </span>\n            </div>\n        </div>\n    ");return y({message_text:n,on_submit:i,on_cancel:r,confirm_text:c,cancel_text:d,type:g,inner:x,context:v,rationale_required:!1,showCloser:!0})},window.create_unified_changeset_notice=o.a;window.success_notice=function(e){var t={message_text:"Update successful.",preamble:"",animation:"fade",type:"success"};Object.assign(t,e),function(e){var t={textTrusted:!0,icon:!1,width:"350px",hide:!0,delay:2e3,type:"alert"};Object.assign(t,e);var n="fa-exclamation-triangle";"success"==t.type&&(n="fa-check-circle");var o='\n        <div class="row">\n            <div class="col">\n                <h2 class="pnotify--header"><i class="fas '.concat(n,'"></i>').concat(gettext("Success!"),'</h2>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                <span class=\'text-success\'>\n                    ').concat(t.preamble,'\n                </span>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                <span>\n                    ').concat(t.message_text,"\n                </span>\n            </div>\n        </div>\n    ");t.text=$('<div><form action="" method="post" class="form container">'.concat(o,"</form></div>")).html(),PNotify.alert(t)}(t)},window.scrollToBottom=function(e){var t=e.prop("scrollHeight");e.animate({scrollTop:t},"slow")};var u=[8,9,13,27,35,36,37,39,46],v="es",f="fr";window.getValidatedNumericInput=function(e){var t=$(e),a=[f,v].includes(userLang)?188:190;return t.keydown(function(e){var t,n,o,i;u.includes(e.keyCode)||!0===e.ctrlKey||!0===e.metaKey||(t="".concat($(e.target).val()),n=Math.max(t.indexOf("."),t.indexOf(",")),i=(o=t.slice(e.target.selectionStart,e.target.selectionEnd))&&0<o.length&&0<(o.match(/[,.]/)||[]).length,!(0<(t.match(/[,.]/)||[]).length&&2<t.length-n&&e.target.selectionStart>n&&(!o||o.length<1))&&(48<=e.keyCode&&e.keyCode<=57&&!e.shiftKey||96<=e.keyCode&&e.keyCode<=105&&!e.shiftKey||e.keyCode==a&&((t.match(/[,.]/)||[]).length<1||i)&&!e.shiftKey)||e.preventDefault())}),t.each(function(){$(this).updateDisplayVal()}),t.on("blur",function(e){$(e.target).updateDisplayVal()}),t},jQuery.fn.extend({numericVal:function(){if(this.is("input"))return isNaN(parseFloat(this.val().replace(",",".")))?null:parseFloat(this.val().replace(",","."));if(this.is("div")){var e=this.html();return e=(e=e.replace("%","")).replace(",","."),e=parseFloat(e),isNaN(e)?null:e}},updateDisplayVal:function(){this.displayVal(this.val())},toDisplayVal:function(e){return e="".concat(e).replace(",","."),isNaN(parseFloat(e))?"":(e="".concat(parseFloat(e).toFixed(2)),e=(e=[f,v].includes(userLang)?e.replace(".",","):e.replace(",",".")).replace(new RegExp("([,.][1-9])?[,.]?0+$"),"$1"))},displayVal:function(e,t){e=this.toDisplayVal(e),this.is("input")&&this.val(e),(this.is("div")||this.is("span"))&&this.html("".concat(e))}}),window.localizeNumber=i.a,window.localizePercent=i.b,window.delocalizeRadix=function(e){var t=e.replace(",",".");return isNaN(t)?e:t},window.normalizeNumber=function(e){return isNaN(parseFloat(e))||s(e)?e:parseFloat(e).toString()}},v38i:function(e,t,n){"use strict";var o;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"l",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"m",function(){return u}),n.d(t,"j",function(){return v}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return g}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return h});var i={value:null,label:"---------"},a="—",r=a,s=1,c=2,l=[3,4,5,6,7],d=[1,2],u=Object.freeze({1:gettext("Life of Program (LoP) only"),2:gettext("Midline and endline"),3:gettext("Annual"),4:gettext("Semi-annual"),5:gettext("Tri-annual"),6:gettext("Quarterly"),7:gettext("Monthly")}),v=Object.freeze({3:gettext("Years"),4:gettext("Semi-annual periods"),5:gettext("Tri-annual periods"),6:gettext("Quarters"),7:gettext("Months")}),f=1,g=2;var p,m=Object.freeze({noFilter:0,missingTarget:1,missingResults:2,missingEvidence:3,aboveTarget:5,belowTarget:6,onTarget:7,nonReporting:8}),h=null!==(p="reason_for_change_options",o="undefined"!=typeof JS_GLOBALS&&JS_GLOBALS.hasOwnProperty(p)?JS_GLOBALS[p]:null)&&void 0!==o?o:[]}},[["YqHn",0,1]]]);
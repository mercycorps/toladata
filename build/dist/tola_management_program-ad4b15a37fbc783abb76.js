(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"1faY":function(e,t,r){"use strict";r.r(t);var n,a,o,i,c,l,s,u,p,f,m,g,d,h,y,b,v,_,E,O,w,x,j,k,P,S=r("q1tI"),N=r.n(S),C=r("i8i4"),F=r.n(C),D=r("2vnA"),A=r("WtQ/");function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach(function(e){L(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(r,n,e,t,a){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(r,n,o),o=null),o}var B,U=(a=H((n=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),M(this,"countries",a,this),M(this,"allCountries",o,this),M(this,"organizations",i,this),M(this,"users",c,this),M(this,"sectors",l,this),M(this,"filters",s,this),M(this,"appliedFilters",u,this),M(this,"programFilterPrograms",p,this),M(this,"programs",f,this),M(this,"program_count",m,this),M(this,"new_program",g,this),M(this,"fetching_main_listing",d,this),M(this,"current_page",h,this),M(this,"total_pages",y,this),M(this,"bulk_targets",b,this),M(this,"bulk_targets_all",v,this),M(this,"editing_target",_,this),M(this,"editing_errors",E,this),M(this,"fetching_editing_history",O,this),M(this,"editing_history",w,this),M(this,"saving",x,this),M(this,"applying_bulk_updates",j,this),M(this,"active_editor_pane",k,this),M(this,"changelog_expanded_rows",P,this),this.active_pane_is_dirty=!1,this.api=e,Object.assign(this,t),this.appliedFilters=I({},this.filters),this.fetchPrograms()}var e,t,n;return e=r,(t=[{key:"marshalFilters",value:function(e){return Object.entries(e).reduce(function(e,t){var r=R(t,2),n=r[0],a=r[1];return Array.isArray(a)?e[n]=a.map(function(e){return e.value}):a&&(e[n]=a.value),e},{})}},{key:"dirtyConfirm",value:function(){return!this.active_pane_is_dirty||this.active_pane_is_dirty&&confirm(gettext("You have unsaved changes. Are you sure you want to discard them?"))}},{key:"onProfilePaneChange",value:function(e){this.dirtyConfirm()&&(this.active_editor_pane=e,this.active_pane_is_dirty=!1)}},{key:"setActiveFormIsDirty",value:function(e){this.active_pane_is_dirty=e}},{key:"setActivePaneSaveAction",value:function(e){this.active_pane_save=e}},{key:"fetchPrograms",value:function(){var t=this;this.dirtyConfirm()&&(this.fetching_main_listing=!0,this.api.fetchPrograms(this.current_page+1,this.marshalFilters(this.appliedFilters)).then(function(e){Object(D.p)(function(){t.fetching_main_listing=!1,t.programs=Object(A.d)(e.results,"name"),t.program_count=e.total_results,t.total_pages=e.total_pages,t.next_page=e.next_page,t.previous_page=e.previous_page,t.active_editor_pane="profile",t.active_pane_is_dirty=!1})}),this.api.fetchProgramsForFilter(this.marshalFilters(this.appliedFilters)).then(function(e){Object(D.p)(function(){t.programFilterPrograms=e.data})}))}},{key:"applyFilters",value:function(){this.appliedFilters=I({},this.filters),this.current_page=0,this.fetchPrograms()}},{key:"changePage",value:function(e){e.selected!=this.current_page&&(this.current_page=e.selected,this.bulk_targets=new Map,this.bulk_targets_all=!1,this.fetchPrograms())}},{key:"changeFilter",value:function(e,t){this.filters=Object.assign(this.filters,L({},e,t)),"programs"==e&&this.applyFilters()}},{key:"clearFilters",value:function(){var e={countries:[],organizations:[],sectors:[],programStatus:null,programs:this.filters.programs||[],users:[]};this.filters=Object.assign(this.filters,e)}},{key:"toggleEditingTarget",value:function(e){var t=this;this.dirtyConfirm()&&("new"==this.editing_target&&(this.programs.shift(),this.editing_errors={}),this.active_editor_pane="profile",this.editing_target==e?(this.editing_target=!1,this.editing_errors={}):(this.editing_target=e,this.fetching_editing_history=!0,this.api.fetchProgramHistory(e).then(function(e){Object(D.p)(function(){t.fetching_editing_history=!1,t.editing_history=e.data})})))}},{key:"updateLocalPrograms",value:function(r){this.programs=this.programs.reduce(function(e,t){return t.id==r.id?e.push(r):e.push(t),e},[])}},{key:"onSaveSuccessHandler",value:function(){PNotify.success({text:gettext("Successfully saved"),delay:5e3})}},{key:"onSaveErrorHandler",value:function(){PNotify.error({text:gettext("Saving failed"),delay:5e3})}},{key:"onGAITDatesSyncSuccess",value:function(){PNotify.success({text:gettext("Successfully synced GAIT program start and end dates"),delay:5e3})}},{key:"onGAITDatesSyncFailure",value:function(e,t){var r=this;PNotify.notice({text:gettext("Failed to sync GAIT program start and end dates: ")+e,hide:!1,modules:{Confirm:{confirm:!0,buttons:[{text:gettext("Retry"),primary:!0,click:function(e){r.syncGAITDates(t),e.close()}},{text:gettext("Ignore"),click:function(e){e.close()}}]}}})}},{key:"createProgram",value:function(){this.dirtyConfirm()&&("new"==this.editing_target&&this.programs.shift(),this.active_editor_pane="profile",this.active_pane_is_dirty=!1,this.programs.unshift({id:"new",name:"",gaitid:"",fundcode:"",funding_status:"Funded",description:"",country:[],sector:[]}),this.editing_target="new")}},{key:"validateGaitId",value:function(e){var t=this;if(e.gaitid){var r=e.id||0;return new Promise(function(a,o){t.api.validateGaitId(e.gaitid,r).then(function(e){var t,r,n;!1===e.data.unique?(t=gettext("The GAIT ID for this program is shared with at least one other program."),r=gettext("View programs with this ID in GAIT."),n="".concat(t,' <a href="').concat(e.data.gait_link,'" target="_blank">').concat(r,"</a>"),window.create_unified_changeset_notice({header:gettext("Warning"),show_icon:!0,rationale_required:!1,include_rationale:!1,message_text:gettext("Are you sure you want to continue?"),notice_type:"error",on_submit:a,on_cancel:o,preamble:n})):a()}).catch(function(e){return o(e)})})}return new Promise(function(e,t){return e()})}},{key:"syncGAITDates",value:function(r){var n=this;return this.api.syncGAITDates(r).then(function(e){var t=e.data.gait_error;t?n.onGAITDatesSyncFailure(t,r):n.onGAITDatesSyncSuccess()}).catch(function(e){return n.onGAITDatesSyncFailure(gettext("There was a network or server connection error."),r),Promise.reject("Request error to sync GAIT dates")})}},{key:"saveNewProgram",value:function(e){var a=this;e.id=null,this.saving=!0,this.validateGaitId(e).then(function(){return a.api.createProgram(e).catch(function(e){return e.response&&Object(D.p)(function(){a.editing_errors=e.response.data}),Promise.reject("program creation failed")})}).then(function(e){return Promise.all([e,a.api.fetchProgramHistory(e.data.id)])}).then(function(e){var t=R(e,2),r=t[0],n=t[1];return Object(D.p)(function(){a.editing_errors={},a.editing_target=r.data.id,a.editing_target_data=r.data,a.editing_history=n.data,a.programs.shift(),a.programs.unshift(r.data),a.programFilterPrograms.unshift(r.data),a.active_pane_is_dirty=!1,a.onSaveSuccessHandler()}),r}).then(function(e){return e.data.gaitid?a.syncGAITDates(e.data.id):Promise.reject("No GAIT id on program")}).finally(function(){Object(D.p)(function(){a.saving=!1})}).catch(function(e){})}},{key:"updateProgram",value:function(e,r){var n=this;this.saving=!0,this.api.updateProgram(e,r).then(function(t){return n.api.fetchProgramHistory(e).then(function(e){return Object(D.p)(function(){n.saving=!1,n.editing_errors={},n.active_pane_is_dirty=!1,n.editing_target_data=r,n.updateLocalPrograms(t.data),n.editing_history=e.data,n.onSaveSuccessHandler()})})}).catch(function(e){Object(D.p)(function(){n.saving=!1,n.editing_errors=e.response.data,n.onSaveErrorHandler()})})}},{key:"toggleBulkTarget",value:function(e){this.bulk_targets.set(e,!this.bulk_targets.get(e))}},{key:"toggleBulkTargetsAll",value:function(){var t=this;this.bulk_targets_all=!this.bulk_targets_all,this.bulk_targets=new Map(this.programs.map(function(e){return[e.id,t.bulk_targets_all]}))}},{key:"postBulkUpdateLocalPrograms",value:function(e){var n=new Map(e.map(function(e){return[e.id,e]}));this.programs=this.programs.reduce(function(e,t){var r=n.get(t.id);return r?e.push(Object.assign(t,r)):e.push(t),e},[])}},{key:"bulkUpdateProgramStatus",value:function(e){var r=this,t=Array.from(this.bulk_targets.entries()).filter(function(e){var t=R(e,2);t[0];return t[1]}).map(function(e){var t=R(e,2),r=t[0];t[1];return r});t.length&&e&&(this.applying_bulk_updates=!0,this.api.updateProgramFundingStatusBulk(t,e).then(function(e){var t=e.data;Object(D.p)(function(){r.postBulkUpdateLocalPrograms(t),r.applying_bulk_updates=!1,r.onSaveSuccessHandler()})}).catch(function(e){Object(D.p)(function(){r.applying_bulk_updates=!1,r.onSaveErrorHandler()})}))}},{key:"toggleChangeLogRowExpando",value:function(e){this.changelog_expanded_rows.has(e)?this.changelog_expanded_rows.delete(e):this.changelog_expanded_rows.add(e)}}])&&G(e.prototype,t),n&&G(e,n),r}()).prototype,"countries",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=H(n.prototype,"allCountries",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=H(n.prototype,"organizations",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=H(n.prototype,"users",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=H(n.prototype,"sectors",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=H(n.prototype,"filters",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{countries:[],organizations:[],sectors:[],programStatus:null,programs:[],users:[]}}}),u=H(n.prototype,"appliedFilters",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=H(n.prototype,"programFilterPrograms",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=H(n.prototype,"programs",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=H(n.prototype,"program_count",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=H(n.prototype,"new_program",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=H(n.prototype,"fetching_main_listing",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=H(n.prototype,"current_page",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=H(n.prototype,"total_pages",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=H(n.prototype,"bulk_targets",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),v=H(n.prototype,"bulk_targets_all",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=H(n.prototype,"editing_target",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=H(n.prototype,"editing_errors",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),O=H(n.prototype,"fetching_editing_history",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=H(n.prototype,"editing_history",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=H(n.prototype,"saving",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=H(n.prototype,"applying_bulk_updates",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=H(n.prototype,"active_editor_pane",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"profile"}}),P=H(n.prototype,"changelog_expanded_rows",[D.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),H(n.prototype,"onProfilePaneChange",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"onProfilePaneChange"),n.prototype),H(n.prototype,"fetchPrograms",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"fetchPrograms"),n.prototype),H(n.prototype,"applyFilters",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"applyFilters"),n.prototype),H(n.prototype,"changePage",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"changePage"),n.prototype),H(n.prototype,"changeFilter",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"changeFilter"),n.prototype),H(n.prototype,"clearFilters",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"clearFilters"),n.prototype),H(n.prototype,"toggleEditingTarget",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleEditingTarget"),n.prototype),H(n.prototype,"createProgram",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"createProgram"),n.prototype),H(n.prototype,"saveNewProgram",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"saveNewProgram"),n.prototype),H(n.prototype,"updateProgram",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"updateProgram"),n.prototype),H(n.prototype,"toggleBulkTarget",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleBulkTarget"),n.prototype),H(n.prototype,"toggleBulkTargetsAll",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleBulkTargetsAll"),n.prototype),H(n.prototype,"bulkUpdateProgramStatus",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"bulkUpdateProgramStatus"),n.prototype),H(n.prototype,"toggleChangeLogRowExpando",[D.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleChangeLogRowExpando"),n.prototype),n),q=r("okNM"),V=r("Cs6D"),W=r("Z2Y6"),J=r("TGVD"),Y=r("RCjz");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(o){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,a=Z(o);return t=i?(e=Z(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),r=this,!(n=t)||"object"!==$(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee,te=Object(q.c)(B=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,N.a.Component);var e,t,r,n=K(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n.apply(this,arguments)}return e=a,(t=[{key:"updateActivePage",value:function(e){this.props.new||this.props.notifyPaneChange(e)}},{key:"render",value:function(){var t=this,e=this.props,r=e.ProfileSection,n=e.SettingsSection,a=e.HistorySection,o=e.active_pane,i="profile"==o?"active":"",c="settings"==o?"active":"",l="status_and_history"==o?"active":"",s=this.props.new?"disabled":"";return N.a.createElement("div",{className:"user-editor tab-set--vertical"},N.a.createElement("ul",{className:"nav nav-tabs"},N.a.createElement("li",{className:"nav-item"},N.a.createElement("a",{href:"#",className:"nav-link ".concat(i),onClick:function(e){e.preventDefault(),t.updateActivePage("profile")}},gettext("Profile"))),N.a.createElement("li",{className:"nav-item"},N.a.createElement("a",{href:"#",className:"nav-link ".concat(c," ").concat(s),onClick:function(e){e.preventDefault(),t.updateActivePage("settings")}},gettext("Settings"))),N.a.createElement("li",{className:"nav-item"},N.a.createElement("a",{href:"#",className:"nav-link ".concat(l," ").concat(s),onClick:function(e){e.preventDefault(),t.updateActivePage("status_and_history")}},gettext("Status and History")))),N.a.createElement("div",{className:"tab-content"},"profile"==o&&N.a.createElement(r,null),"settings"==o&&N.a.createElement(n,null),"status_and_history"==o&&N.a.createElement(a,null)))}}])&&Q(e.prototype,t),r&&Q(e,r),a}())||B,re=r("TSYQ"),ne=r.n(re);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(o){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,a=le(o);return t=i?(e=le(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),r=this,!(n=t)||"object"!==ae(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se,ue=Object(q.c)(function(e){var t=e.errorMessages;return t?N.a.createElement("div",{className:"invalid-feedback"},t.map(function(e,t){return N.a.createElement("span",{key:t},e)})):null}),pe=Object(q.c)(ee=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(a,N.a.Component);var e,t,r,n=ce(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=n.call(this,e);var r=e.program_data;return t.state={original_data:Object.assign({},r),managed_data:Object.assign({},r)},t}return e=a,(t=[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_data)!=JSON.stringify(this.state.original_data))}},{key:"save",value:function(){var e=this.props.program_data.id,t=this.state.managed_data;this.props.onUpdate(e,t)}},{key:"saveNew",value:function(e){e.preventDefault();var t=this.state.managed_data;this.props.onCreate(t)}},{key:"updateFormField",value:function(e,t){var r,n,a,o=this;this.setState({managed_data:Object.assign(this.state.managed_data,(a=t,(n=e)in(r={})?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r))},function(){return o.hasUnsavedDataAction()})}},{key:"resetForm",value:function(){var e=this;this.setState({managed_data:Object.assign({},this.state.original_data)},function(){return e.hasUnsavedDataAction()})}},{key:"formErrors",value:function(e){return this.props.errors[e]}},{key:"render",value:function(){var r=this,e=this.state.managed_data,t=e.country.map(function(t){return r.props.countryOptions.find(function(e){return e.value==t})}),n=e.sector.map(function(t){return r.props.sectorOptions.find(function(e){return e.value==t})});return N.a.createElement("div",{className:"tab-pane--react"},N.a.createElement("h2",{className:"no-bold"},this.props.program_data.name?this.props.program_data.name+": ":"",gettext("Profile")),N.a.createElement("form",{className:"form"},N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{className:"label--required",htmlFor:"program-name-input"},gettext("Program name")),N.a.createElement("input",{type:"text",value:e.name,onChange:function(e){return r.updateFormField("name",e.target.value)},className:ne()("form-control",{"is-invalid":this.formErrors("name")}),id:"program-name-input",required:!0}),N.a.createElement(ue,{errorMessages:this.formErrors("name")})),N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"program-gait-input"},gettext("GAIT ID")),N.a.createElement("input",{type:"tel",value:e.gaitid,onChange:function(e){return r.updateFormField("gaitid",e.target.value)},className:ne()("form-control",{"is-invalid":this.formErrors("gaitid")}),id:"program-gait-input",disabled:!this.props.new}),N.a.createElement(ue,{errorMessages:this.formErrors("gaitid")})),N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"program-fund-code-input"},gettext("Fund Code")),N.a.createElement("input",{type:"tel",value:e.fundCode,onChange:function(e){return r.updateFormField("fundCode",e.target.value)},className:ne()("form-control",{"is-invalid":this.formErrors("fundCode")}),id:"program-fund-code-input",disabled:!this.props.new}),N.a.createElement(ue,{errorMessages:this.formErrors("fundCode")})),N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"program-description-input"},gettext("Description")),N.a.createElement("textarea",{value:e.description||"",onChange:function(e){return r.updateFormField("description",e.target.value)},className:ne()("form-control",{"is-invalid":this.formErrors("description")}),id:"program-description-input"}),N.a.createElement(ue,{errorMessages:this.formErrors("description")})),N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"program-county-input",className:"label--required"},gettext("Countries")),N.a.createElement(W.a,{value:t,options:this.props.countryOptions,onChange:function(e){return r.updateFormField("country",e.map(function(e){return e.value}))},className:ne()("react-select",{"is-invalid":this.formErrors("country")}),id:"program-country-input"}),N.a.createElement(ue,{errorMessages:this.formErrors("country")})),N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"program-sectors-input"},gettext("Sectors")),N.a.createElement(W.a,{value:n,options:this.props.sectorOptions,onChange:function(e){return r.updateFormField("sector",e.map(function(e){return e.value}))},className:ne()("react-select",{"is-invalid":this.formErrors("sector")}),id:"program-sectors-input"}),N.a.createElement(ue,{errorMessages:this.formErrors("sector")})),this.props.new&&N.a.createElement("div",{className:"form-group btn-row"},N.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(e){return r.saveNew(e)}},gettext("Save Changes")),N.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return r.resetForm()}},gettext("Reset"))),!this.props.new&&N.a.createElement("div",{className:"form-group btn-row"},N.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(e){return r.save(e)}},gettext("Save Changes")),N.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return r.resetForm()}},gettext("Reset")))))}}])&&oe(e.prototype,t),r&&oe(e,r),a}())||ee;function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ge(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?me(Object(o),!0).forEach(function(e){var t,r,n;t=a,n=o[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):me(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(o){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,a=be(o);return t=i?(e=be(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),r=this,!(n=t)||"object"!==fe(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve,_e=Object(q.c)(se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(i,N.a.Component);var e,t,r,o=ye(i);function i(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e)).autonumberChange=function(e){"2"==e.target.value?r.setState({autonumber:!1}):r.setState({autonumber:!0})},r.groupingChange=function(e){e.target.checked?r.setState({grouping:2}):r.setState({grouping:1})},r.save=function(e){e.preventDefault();var t=ge({},r.props.program_data);!1!==r.state.grouping&&(t._using_results_framework=r.state.grouping),null!==r.state.autonumber&&(t.auto_number_indicators=r.state.autonumber),r.props.onSave(r.props.program_data.id,t)};var t=void 0!==e.program_data._using_results_framework&&e.program_data._using_results_framework,n=1===t?null:e.program_data.auto_number_indicators;r.state={autonumber:n,grouping:t};var a={autonumber:n,grouping:t};return r.resetForm=function(){r.setState(a)},r.formDirty=function(){return r.state.autonumber!=a.autonumber||r.state.grouping!=a.grouping},r}return e=i,(t=[{key:"render",value:function(){var t=this;return N.a.createElement("div",{className:"tab-pane--react"},N.a.createElement("h2",{className:"no-bold"},this.props.program_data.name?this.props.program_data.name+": ":"",gettext("Settings")),N.a.createElement("div",{className:"d-flex flex-column w-75 pr-5"},N.a.createElement("form",{className:"form"},!1!==this.state.grouping&&N.a.createElement(N.a.Fragment,null,N.a.createElement("h4",null,gettext("Indicator grouping")),N.a.createElement("div",{className:"form-check mb-3"},N.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"grouping",id:"grouping",checked:2==this.state.grouping,onChange:this.groupingChange}),N.a.createElement("label",{className:"form-check-label",htmlFor:"grouping"},N.a.createElement("strong",null,gettext("Group indicators according to the results framework"),":"),N.a.createElement("span",null,"  ",gettext("After you have set a results framework for this program and assigned indicators to it, select this option to retire the original indicator levels and view indicators grouped by results framework levels instead.  This setting affects the program page, indicator plan, and IPTT reports."))))),null!==this.state.autonumber&&N.a.createElement(N.a.Fragment,null,N.a.createElement("h4",null,gettext("Indicator numbering")),N.a.createElement("div",{className:"form-check mb-3"},N.a.createElement("input",{className:"form-check-input",type:"radio",value:"1",name:"autonumber",id:"autonumber_on",checked:this.state.autonumber,onChange:this.autonumberChange}),N.a.createElement("label",{className:"form-check-label",htmlFor:"autonumber_on"},N.a.createElement("strong",null,gettext("Auto-number indicators (recommended)"),":"),"  ",gettext("Indicator numbers are automatically determined by their results framework assignments."))),N.a.createElement("div",{className:"form-check mb-5"},N.a.createElement("input",{className:"form-check-input",type:"radio",value:"2",name:"autonumber",id:"autonumber_off",checked:!this.state.autonumber,onChange:this.autonumberChange}),N.a.createElement("label",{className:"form-check-label",htmlFor:"autonumber_off"},N.a.createElement("strong",null,gettext("Manually number indicators"),":"),"  ",gettext("If your donor requires a special numbering convention, you can enter a custom number for each indicator."),N.a.createElement("strong",{className:"text-danger"},"  ",gettext("Manually entered numbers do not affect the order in which indicators are listed; they are purely for display purposes."))))),N.a.createElement("div",{className:"form-group btn-row"},N.a.createElement("button",{disabled:!this.formDirty(),className:"btn btn-primary",type:"button",onClick:function(e){return t.save(e)}},gettext("Save Changes")),N.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.resetForm()}},gettext("Reset"))))))}}])&&de(e.prototype,t),r&&de(e,r),i}())||se,Ee=(r("c7k8"),r("H4hL"),r("KnAV"));function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(o){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,a=ke(o);return t=i?(e=ke(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),r=this,!(n=t)||"object"!==Oe(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=[{value:"Funded",label:gettext("Active")},{value:"Completed",label:gettext("Inactive")}],Se=Object(q.c)(ve=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(a,N.a.Component);var e,t,r,n=je(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=n.call(this,e);var r=e.program_data;return t.state={managed_status:Object.assign({},r),original_status:Object.assign({},r)},t}return e=a,(t=[{key:"hasUnsavedDataAction",value:function(){this.props.onIsDirtyChange(JSON.stringify(this.state.managed_status)!=JSON.stringify(this.state.original_status))}},{key:"onStatusChange",value:function(e){var t=this,r=e.value;this.setState({managed_status:Object.assign(this.state.managed_status,{funding_status:r})},function(){return t.hasUnsavedDataAction()})}},{key:"onSave",value:function(){this.props.onSave(this.state.original_status.id,this.state.managed_status)}},{key:"onReset",value:function(){var e=this;this.setState({managed_status:this.state.original_status},function(){return e.hasUnsavedDataAction()})}},{key:"render",value:function(){var t=this,e=this.props,r=e.history,n=e.store,a=n.changelog_expanded_rows,o=Pe.find(function(e){return e.value==t.state.managed_status.funding_status});return N.a.createElement("div",{className:"tab-pane--react admin-edit-pane"},N.a.createElement("h2",{className:"no-bold"},this.props.program_data.name?this.props.program_data.name+": ":"",gettext("Status and History")),N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"status-input",className:"label--required",required:!0},gettext("Status")),N.a.createElement(V.a,{isSearchable:!1,options:Pe,value:o,onChange:function(e){return t.onStatusChange(e)}})),N.a.createElement("div",{className:"row"},N.a.createElement("div",{className:"col"},N.a.createElement("div",{className:"form-group btn-row"},N.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return t.onSave()}},gettext("Save Changes")),N.a.createElement("button",{className:"btn btn-reset",type:"button",onClick:function(){return t.onReset()}},gettext("Reset"))))),N.a.createElement(Ee.a,{data:r,expanded_rows:a,toggle_expando_cb:function(e){return n.toggleChangeLogRowExpando(e)}}))}}])&&we(e.prototype,t),r&&we(e,r),a}())||ve,Ne=r("DDFe"),Ce=r("tnXs"),Fe=r("IP2g");function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(o){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,a=Me(o);return t=i?(e=Me(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),r=this,!(n=t)||"object"!==Te(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=Object(q.c)(function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"users_filter"},gettext("Users")),N.a.createElement(W.a,{value:t.filters.users,options:r,onChange:function(e){return t.changeFilter("users",e)},placeholder:gettext("None Selected"),id:"users_filter"}))}),He=Object(q.c)(function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"countries_filter"},gettext("Countries")),N.a.createElement(W.a,{value:t.filters.countries,options:r,onChange:function(e){return t.changeFilter("countries",e)},placeholder:gettext("None Selected"),id:"countries_filter"}))}),Be=Object(q.c)(function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"organizations_filter"},gettext("Organizations")),N.a.createElement(W.a,{value:t.filters.organizations,options:r,onChange:function(e){return t.changeFilter("organizations",e)},placeholder:gettext("None Selected"),id:"organizations_filter"}))}),Ue=Object(q.c)(function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"sector-filter"},gettext("Sectors")),N.a.createElement(W.a,{value:t.filters.sectors,options:r,onChange:function(e){return t.changeFilter("sectors",e)},placeholder:gettext("None Selected"),id:"sector-filter"}))}),qe=Object(q.c)(function(e){var t=e.store,r=[{value:"Active",label:gettext("Active")},{value:"Inactive",label:gettext("Inactive")}];return N.a.createElement("div",{className:"form-group"},N.a.createElement("label",{htmlFor:"program-status-filter"},gettext("Status")),N.a.createElement(V.a,{isMulti:!1,value:t.filters.programStatus,options:r,onChange:function(e){return t.changeFilter("programStatus",e)},placeholder:gettext("None Selected"),id:"program-status-filter"}))}),Ve=Object(q.c)(function(e){var t=e.store,r=e.filterOptions;return N.a.createElement("div",{className:"form-group react-multiselect-checkbox"},N.a.createElement("label",{htmlFor:"programs-filter"},gettext("Find a Program")),N.a.createElement(W.a,{value:t.filters.programs,options:r,onChange:function(e){return t.changeFilter("programs",e)},placeholder:gettext("None Selected"),id:"programs-filter"}))}),We=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(a,N.a.Component);var e,t,r,n=Le(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=n.call(this,e)).active_child=N.a.createRef(),t.state={current_action:null,current_vals:[]},t}return e=a,(t=[{key:"onActionChanged",value:function(e){this.setState({current_action:e.value})}},{key:"onChange",value:function(e){this.setState({current_vals:e})}},{key:"onApply",value:function(){var e=this.props.secondaryOptions[this.state.current_action];e&&e.onApply(this.state.current_vals)}},{key:"render",value:function(){var t=this,e=this.props.secondaryOptions[this.state.current_action],r=e&&e.component;return N.a.createElement("div",{className:"controls__bulk-actions"},N.a.createElement("div",{className:"bulk__select"},N.a.createElement(V.a,{placeholder:gettext("Bulk Actions"),value:this.props.primaryOptions.find(function(e){return e.value==t.state.current_action}),options:this.props.primaryOptions,onChange:function(e){return t.onActionChanged(e)}})),e&&N.a.createElement("div",{className:"bulk__select"},N.a.createElement(r,{placeholder:gettext("Select..."),value:this.state.current_vals,onChange:function(e){return t.onChange(e)}})),!e&&N.a.createElement("div",{className:"bulk__select"},N.a.createElement(V.a,{placeholder:"---",noOptionsMessage:function(){return gettext("No options")}})),N.a.createElement("button",{className:"btn btn-secondary",disabled:!this.state.current_action,onClick:function(){return t.onApply()}},gettext("Apply")))}}])&&ze(e.prototype,t),r&&ze(e,r),a}(),Je=Object(q.c)(function(e){var o=e.store,i=Object(A.d)(Object.entries(o.allCountries).map(function(e){var t=Ae(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}})),t=Object(A.d)(Object.entries(o.countries).map(function(e){var t=Ae(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}})),r=Object(A.d)(Object.entries(o.organizations).map(function(e){var t=Ae(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}})),c=Object(A.d)(o.sectors.map(function(e){return{value:e.id,label:e.name}})),n=Object(A.d)(Object.entries(o.programFilterPrograms).map(function(e){var t=Ae(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}})),a=Object(A.d)(Object.entries(o.users).map(function(e){var t=Ae(e,2),r=(t[0],t[1]);return{value:r.id,label:r.name}})),l=[{value:"Funded",label:gettext("Active")},{value:"Completed",label:gettext("Inactive")}],s={primary_options:[{label:gettext("Set program status"),value:"set_program_status"}],secondary_options:{set_program_status:{component:function(e){return N.a.createElement(V.a,De({options:l},e))},onApply:function(e){return o.bulkUpdateProgramStatus(e.value)}}}};return N.a.createElement("div",{id:"program-management-index-view",className:"row"},N.a.createElement(Ce.a,null,N.a.createElement("div",{className:"filter-section"},N.a.createElement(He,{store:o,filterOptions:t}),N.a.createElement(Ge,{store:o,filterOptions:a}),N.a.createElement(Be,{store:o,filterOptions:r}),N.a.createElement(Ue,{store:o,filterOptions:c}),N.a.createElement(qe,{store:o})),N.a.createElement("div",{className:"filter-section filter-buttons"},N.a.createElement("button",{className:"btn btn-primary",onClick:function(){return o.applyFilters()}},gettext("Apply")),N.a.createElement("button",{className:"btn btn-reset",onClick:function(){return o.clearFilters()}},gettext("Reset")))),N.a.createElement("div",{className:"col admin-list"},N.a.createElement("header",{className:"page-title"},N.a.createElement("h1",null,gettext("Admin:")," ",N.a.createElement("small",null,gettext("Programs")))),N.a.createElement("div",{className:"admin-list__controls"},N.a.createElement(We,{primaryOptions:s.primary_options,secondaryOptions:s.secondary_options}),N.a.createElement("div",{className:"controls__buttons"},N.a.createElement("a",{href:"#",className:"btn btn-link btn-add",tabIndex:"0",onClick:function(){return o.createProgram()}},N.a.createElement("i",{className:"fas fa-plus-circle"}),gettext("Add Program")))),N.a.createElement("div",{className:"admin-list__top-filter"},N.a.createElement(Ve,{store:o,filterOptions:n})),N.a.createElement(Ne.a,{isLoading:o.fetching_main_listing||o.applying_bulk_updates},N.a.createElement("div",{className:"admin-list__table"},N.a.createElement(J.a,{newData:o.new_program,data:o.programs,keyField:"id",HeaderRow:function(e){var t=e.Col,r=e.Row;return N.a.createElement(r,null,N.a.createElement(t,{size:"0.5"},N.a.createElement("input",{type:"checkbox",checked:o.bulk_targets_all,onChange:function(){return o.toggleBulkTargetsAll()}})),N.a.createElement(t,{size:"2",className:"td--stretch"},gettext("Program")),N.a.createElement(t,null,gettext("Organizations")),N.a.createElement(t,null,gettext("Users")),N.a.createElement(t,null,gettext("Status")))},Row:function(e){var t,r=e.Col,n=e.Row,a=e.data;return N.a.createElement(n,{expanded:a.id==o.editing_target,Expando:Object(q.c)(function(e){var t=e.Wrapper;return N.a.createElement(t,null,N.a.createElement(te,{new:"new"==a.id,active_pane:o.active_editor_pane,notifyPaneChange:function(e){return o.onProfilePaneChange(e)},ProfileSection:Object(q.c)(function(){return N.a.createElement(Ne.a,{isLoading:o.saving},N.a.createElement(pe,{onIsDirtyChange:function(e){return o.setActiveFormIsDirty(e)},new:"new"==a.id,program_data:a,onUpdate:function(e,t){return o.updateProgram(e,t)},onCreate:function(e){return o.saveNewProgram(e)},sectorOptions:c,countryOptions:i,errors:o.editing_errors}))}),SettingsSection:Object(q.c)(function(){return N.a.createElement(Ne.a,{isLoading:o.saving},N.a.createElement(_e,{program_data:a,store:o,onSave:function(e,t){return o.updateProgram(e,t)}}))}),HistorySection:Object(q.c)(function(){return N.a.createElement(Ne.a,{isLoading:o.saving},N.a.createElement(Se,{store:o,onIsDirtyChange:function(e){return o.setActiveFormIsDirty(e)},program_data:a,fetching_history:o.fetching_editing_history,history:o.editing_history,saving:o.saving,onSave:function(e,t){return o.updateProgram(e,t)}}))})}))})},N.a.createElement(r,{size:"0.5"},N.a.createElement("input",{type:"checkbox",disabled:"new"==a.id,checked:o.bulk_targets.get(a.id)||!1,onChange:function(){return o.toggleBulkTarget(a.id)}})),N.a.createElement(r,{size:"2",className:"td--stretch"},"new"==a.id&&N.a.createElement("div",{className:"expando-toggle icon__disabled"},N.a.createElement("div",{className:"expando-toggle__icon"},N.a.createElement(Fe.a,{icon:o.editing_target==a.id?"caret-down":"caret-right"})),N.a.createElement("div",{className:"expando-toggle__label"},N.a.createElement("i",{className:"fas fa-cube"})," ",a.name||gettext("New Program"))),"new"!=a.id&&N.a.createElement("div",{className:"expando-toggle icon__clickable",onClick:function(){return o.toggleEditingTarget(a.id)}},N.a.createElement("div",{className:"expando-toggle__icon"},N.a.createElement(Fe.a,{icon:o.editing_target==a.id?"caret-down":"caret-right"})),N.a.createElement("div",{className:"expando-toggle__label"},N.a.createElement("i",{className:"fas fa-cube"})," ",a.name||gettext("New Program")))),N.a.createElement(r,null,(t=a).organizations?N.a.createElement("a",{href:"/tola_management/organization/?programs[]=".concat(t.id)},N.a.createElement("i",{className:"fas fa-building"})," ",t.onlyOrganizationId?o.organizations[t.onlyOrganizationId].name:"".concat(t.organizations," organizations")):"---"),N.a.createElement(r,{className:"text-nowrap"},a.program_users?N.a.createElement("a",{href:"/tola_management/user/?programs[]=".concat(a.id)},N.a.createElement("i",{className:"fas fa-users"}),"  ",interpolate(ngettext("%s user","%s users",a.program_users),[a.program_users])):N.a.createElement("span",null,N.a.createElement("i",{className:"fas fa-users"})," ",gettext("0 users"))),N.a.createElement(r,null,"funded"===a.funding_status.toLowerCase()?gettext("Active"):gettext("Inactive")))}}))),N.a.createElement("div",{className:"admin-list__metadata"},N.a.createElement("div",{className:"metadata__count text-small text-muted"},o.program_count?"".concat(o.program_count," ").concat(gettext("programs")):"---"),N.a.createElement("div",{className:"metadata__controls"},o.total_pages&&N.a.createElement(Y.a,{pageCount:o.total_pages,initialPage:o.current_page,onPageChange:function(e){return o.changePage(e)}})))))}),Ye=r("XoI5");function $e(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Qe(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(o),!0).forEach(function(e){var t,r,n;t=a,n=o[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):$e(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}var Xe={fetchPrograms:function(e,t){return Ye.a.get("/tola_management/program/",{params:Qe({page:e},t)}).then(function(e){var t=e.data;return{results:t.results,total_results:t.count,total_pages:t.page_count,next_page:t.next,prev_page:t.previous}})},fetchProgramsForFilter:function(e){return Ye.a.get("/tola_management/program/program_filter_options",{params:Qe({},e)})},fetchProgramHistory:function(e){return Ye.a.get("/tola_management/program/".concat(e,"/history/"))},createProgram:function(e){return Ye.a.post("/tola_management/program/",e)},updateProgram:function(e,t){return Ye.a.put("/tola_management/program/".concat(e,"/"),t)},updateProgramFundingStatusBulk:function(e,t){return Ye.a.post("/tola_management/program/bulk_update_status/",{ids:e,funding_status:t})},validateGaitId:function(e,t){return Ye.a.get("/tola_management/program/".concat(t,"/gait/").concat(e,"/"))},syncGAITDates:function(e){return Ye.a.put("/tola_management/program/".concat(e,"/sync_gait_dates/"))}},Ke=jsContext,Ze=Ke.country_filter,et=Ke.organization_filter,tt=Ke.users_filter,rt=Ke.allCountries,nt=Ke.countries,at=Ke.organizations,ot=Ke.users,it=Ke.programFilterPrograms,ct=Ke.sectors,lt={countries:Ze.map(function(e){return nt[e]}).map(function(e){return{label:e.name,value:e.id}}),organizations:et.map(function(e){return at[e]}).map(function(e){return{label:e.name,value:e.id}}),users:tt.map(function(e){return ot[e]}).map(function(e){return{label:e.name,value:e.id}})},st=new U(Xe,{countries:nt,allCountries:rt,organizations:at,programFilterPrograms:it,sectors:ct,filters:lt,users:ot});F.a.render(N.a.createElement(Je,{store:st}),document.querySelector("#app_root"))},DDFe:function(e,t,r){"use strict";var n=r("q1tI"),i=r.n(n);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}t.a=function(e){var t=e.children,r=e.isLoading,n=e.className,a=l(e,["children","isLoading","className"]),o=r?"loading":"";return i.a.createElement("div",c({className:"loading-spinner__container "+o+" "+(n||"")},a),i.a.createElement("div",{className:"loading-spinner__overlay"},i.a.createElement("div",{className:"loading-spinner__spinner"})),t)}},H4hL:function(e,t,r){"use strict";r("q1tI")},KnAV:function(e,t,r){"use strict";var n=r("q1tI"),s=r.n(n),a=r("okNM"),o=r("IP2g"),l=(r("2vnA"),r("v38i"));function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){var t=e.name,r=e.data,n=e.extraTitleText,a=void 0===n?null:n,o=a?s.a.createElement("h4",{className:"disagg-type__title, text-small"},a):null;if("Disaggregation categories"===t&&"object"===p(r)&&null!==r){var i=Object.values(r).sort(function(e,t){return e.custom_sort-t.custom_sort});return s.a.createElement(s.a.Fragment,null,s.a.createElement("strong",null,t,": "),o,s.a.createElement("ul",{className:"no-list-style"},i.map(function(e,t){return s.a.createElement("li",{key:t},void 0!==e.label&&null!==e.label?e.label:"")})))}var c=null!=r&&"N/A"!==r?s.a.createElement("span",{className:"change__field__value"},["true","false"].includes(r.toString())?r.toString().replace("t","T").replace("f","F"):r.toString()):s.a.createElement("span",{className:"change__field__value empty-value"},l.c);return s.a.createElement("div",{className:"change__field"},s.a.createElement("strong",{className:"change__field__name"},t),": ",c)}function c(e){var t=e.data,r=e.is_expanded,n=e.toggle_expando_cb;return s.a.createElement("tr",{className:r?"changelog__entry__header is-expanded":"changelog__entry__header",onClick:function(){return n(t.id)}},s.a.createElement("td",{className:"text-nowrap text-action"},s.a.createElement(o.a,{icon:r?"caret-down":"caret-right"})," ",s.a.createElement("strong",null,t.date)),s.a.createElement("td",{className:"text-nowrap"},t.admin_user),s.a.createElement("td",{className:"text-nowrap"},t.pretty_change_type),s.a.createElement("td",null),s.a.createElement("td",null))}function m(e){return s.a.createElement("tr",{key:e.id,className:"changelog__entry__row"},s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,s.a.createElement("div",{className:"changelog__change--prev"},e.previous)),s.a.createElement("td",null,s.a.createElement("div",{className:"changelog__change--new"},e.new)))}function g(e){var t,r,o,i,n,a=e.data,c=[],l=s.a.createElement(m,{previous:gettext("No differences found"),new:null,id:1,key:1});return Array.isArray(a.diff_list)&&0===a.diff_list.length||0===Object.keys(a.diff_list||{}).length?c.push(l):("user_programs_updated"===a.change_type?(a.diff_list.base_country&&(t=s.a.createElement(f,{name:a.diff_list.base_country.pretty_name,data:a.diff_list.base_country.prev}),r=s.a.createElement(f,{name:a.diff_list.base_country.pretty_name,data:a.diff_list.base_country.new}),c.push(s.a.createElement(m,{previous:t,new:r,id:"base_country",key:"base_country"}))),Object.entries(a.diff_list.countries).forEach(function(e){var t=u(e,2),r=t[0],n=t[1],a="".concat(r,"_").concat(n),o=s.a.createElement(s.a.Fragment,null,s.a.createElement(f,{name:gettext("Country"),data:n.prev.country}),s.a.createElement(f,{name:gettext("Role"),data:n.prev.role})),i=s.a.createElement(s.a.Fragment,null,s.a.createElement(f,{name:gettext("Country"),data:n.new.country}),s.a.createElement(f,{name:gettext("Role"),data:n.new.role}));c.push(s.a.createElement(m,{previous:o,new:i,id:a,key:a}))}),Object.entries(a.diff_list.programs).forEach(function(e){var t=u(e,2),r=t[0],n=t[1],a="".concat(r,"_").concat(n),o=s.a.createElement(s.a.Fragment,null,s.a.createElement(f,{name:gettext("Program"),data:n.prev.program}),s.a.createElement(f,{name:gettext("Country"),data:n.prev.country}),s.a.createElement(f,{name:gettext("Role"),data:n.prev.role})),i=s.a.createElement(s.a.Fragment,null,s.a.createElement(f,{name:gettext("Program"),data:n.new.program}),s.a.createElement(f,{name:gettext("Country"),data:n.new.country}),s.a.createElement(f,{name:gettext("Role"),data:n.new.role}));c.push(s.a.createElement(m,{previous:o,new:i,id:a,key:a}))})):(o=null,i=!1,"Country disaggregation updated"!==a.pretty_change_type||(n=a.diff_list.filter(function(e){return"disaggregation_type"===e.name}))[0].prev===n[0].new&&(o=n[0].prev,i=!0),a.diff_list.forEach(function(e,t){var r,n,a="".concat(t,"_").concat(e.pretty_name);"disaggregation_type"===e.name&&i||(r=s.a.createElement(s.a.Fragment,null,s.a.createElement(f,{key:t,name:e.pretty_name,data:e.prev,id:t,extraTitleText:o})),n=s.a.createElement(s.a.Fragment,null,s.a.createElement(f,{key:t,name:e.pretty_name,data:e.new,id:t,extraTitleText:o})),c.push(s.a.createElement(m,{previous:r,new:n,id:a,key:a})))})),0===c.length&&c.push(l)),c}function d(e){var t=e.data,r=e.is_expanded,n=e.toggle_expando_cb;return s.a.createElement("tbody",{className:"changelog__entry",key:t.id},s.a.createElement(c,{data:t,is_expanded:r,toggle_expando_cb:n}),r&&s.a.createElement(g,{data:t}))}var h=Object(a.c)(function(e){var t=e.data,r=e.expanded_rows,n=e.toggle_expando_cb;return s.a.createElement("table",{className:"table table-sm bg-white table-bordered text-small changelog"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-nowrap"},gettext("Date")),s.a.createElement("th",{className:"text-nowrap"},gettext("Admin")),s.a.createElement("th",{className:"text-nowrap"},gettext("Change Type")),s.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("Previous Entry")),s.a.createElement("th",{className:"text-nowrap td--half-stretch"},gettext("New Entry")))),t.map(function(e){var t=!0;return r&&(t=r.has(e.id)),s.a.createElement(d,{key:e.id,data:e,is_expanded:t,toggle_expando_cb:n})}))});t.a=h},RCjz:function(e,t,r){"use strict";var n=r("q1tI"),a=r.n(n),o=r("I+5a"),i=r.n(o);r("okNM");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){return a.a.createElement(i.a,c({previousLabel:"‹",previousClassName:"page-item previous",previousLinkClassName:"page-link",nextLabel:"›",nextClassName:"page-item next",nextLinkClassName:"page-link",breakLabel:"...",disabledClassName:"disabled",breakClassName:"page-item disabled",breakLinkClassName:"page-link",pageClassName:"page-item",pageLinkClassName:"page-link",marginPagesDisplayed:2,pageRangeDisplayed:5,containerClassName:"pagination",activeClassName:"active"},e))}},TGVD:function(e,t,r){"use strict";var i=r("okNM"),n=r("q1tI"),c=r.n(n),a=r("TSYQ"),l=r.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function o(e){var t=e.className,r=(e.size,u(e,["className","size"]));return c.a.createElement("td",s({className:["mgmt-table__col",t].join(" ")},r),r.children)}function p(e){var t=e.className,r=e.size,n=u(e,["className","size"]);return c.a.createElement("th",s({className:["mgmt-table__col","mgmt-table__col__width-".concat(r),t].join(" ")},n),n.children)}function f(e){var t=e.className,r=u(e,["className"]);return c.a.createElement("tr",s({className:["mgmt-table__row",t].join(" ")},r),r.children)}function m(e){var t=e.className,r=u(e,["className"]);return c.a.createElement("tr",s({className:["mgmt-table__row table-header",t].join(" ")},r),r.children)}var g=Object(i.c)(function(e){var t=e.className,r=e.expanded,n=e.Expando,a=u(e,["className","expanded","Expando"]);if(n){var o=Object(i.c)(n);return c.a.createElement("tbody",s({className:l()(["mgmt-table__body",t].join(" "),{"is-expanded":r})},a),c.a.createElement(f,null,a.children),r&&c.a.createElement(o,{Wrapper:d}))}return c.a.createElement("tbody",s({className:["mgmt-table__body",t].join(" ")},a),c.a.createElement(f,null,a.children))}),d=function(e){var t=e.className,r=u(e,["className"]);return c.a.createElement("tr",s({className:["mgmt-table__row--expanded",t].join(" ")},r),c.a.createElement("td",{colSpan:"5"},r.children))},h=Object(i.c)(function(e){var t=e.data,r=e.Row,n=e.keyField,a=(u(e,["data","Row","keyField"]),Object(i.c)(r));return t.map(function(e){return c.a.createElement(a,{key:e[n],data:e,Col:o,Row:g})})}),y=Object(i.c)(function(e){var t=e.HeaderRow,r=e.className,n=u(e,["HeaderRow","className"]),a=Object(i.c)(t);return c.a.createElement("table",{className:["table bg-white",r].join(" ")},c.a.createElement("thead",null,c.a.createElement(a,{Col:p,Row:m})),c.a.createElement(h,n))});t.a=y},"WtQ/":function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"d",function(){return i});function n(){$(function(){var e=0===window.performance.getEntriesByType("navigation")[0].transferSize,t="reload"===window.performance.getEntriesByType("navigation")[0].type;e&&!t&&window.location.reload()})}var a=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t,r=e.toString(),n=null;switch(e.toString().includes(",")?(r=e.toString().split(",")[0],n=1<e.toString().split(",").length?e.toString().split(",")[1]:null):e.toString().includes(".")&&(r=e.toString().split(".")[0],n=1<e.toString().split(".").length?e.toString().split(".")[1]:null),n=n&&0<n.length?n:null,window.userLang){case"es":t=r.replace(/\B(?=(\d{3})+(?!\d))/g,"."),n&&(t+=",".concat(n));break;case"fr":t=r.replace(/\B(?=(\d{3})+(?!\d))/g,String.fromCharCode(160)),n&&(t+=",".concat(n));break;case"en":default:t=r.replace(/\B(?=(\d{3})+(?!\d))/g,","),n&&(t+=".".concat(n))}return t},o=function(e){if(null==e||isNaN(parseFloat(e)))return null;var t=a(Math.round(1e4*e)/100);return null===t?null:"".concat(t,"%")},i=function(e,t){var r=1<arguments.length&&void 0!==t?t:"label";return e.sort(function(e,t){return e[r].toUpperCase()>t[r].toUpperCase()?1:-1})}},XoI5:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("vDqi"),a=r.n(n).a.create({withCredentials:!0,baseURL:"/api/",headers:{"X-CSRFToken":document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*\=\s*([^;]*).*$)|^.*$/,"$1")}})},Z2Y6:function(e,t,r){"use strict";var n=r("q1tI"),c=r.n(n),l=r("c7k8");r("Cs6D");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(o){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,a=p(o);return t=i?(e=p(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),r=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a,f=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(a,c.a.PureComponent);var e,t,r,n=u(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=n.call(this,e)).cache=new l.c({fixedWidth:!0,defaultHeight:35}),t.filter_val="",t}return e=a,(t=[{key:"render",value:function(){var o=this,e=this.props,i=(e.options,e.children),t=e.maxHeight,r=(e.getValue,e.selectProps),n=i.length||0;return r.inputValue!==this.filter_val&&(this.filter_val=r.inputValue,this.cache.clearAll()),c.a.createElement("div",{style:{display:"flex",height:"100vh",maxHeight:t+"px"}},c.a.createElement("div",{style:{flex:"1 1 auto"}},c.a.createElement(l.a,null,function(e){var t=e.width,r=e.height;return c.a.createElement(l.e,{height:r,width:t,deferredMeasurementCache:o.cache,rowCount:n,rowHeight:o.cache.rowHeight,noRowsRenderer:function(){return c.a.createElement("div",null,"No selections available")},rowRenderer:function(e){var t=e.index,r=e.parent,n=e.key,a=e.style;return c.a.createElement(l.b,{key:n,cache:o.cache,parent:r,columnIndex:0,rowIndex:t},c.a.createElement("div",{style:a},i[t]))}})})))}}])&&o(e.prototype,t),r&&o(e,r),a}(),m=r("VCnP"),g=r.n(m),d=r("oary"),h=r.n(d),y=r("PAeb"),b=r("okNM");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(o){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,a=x(o);return t=i?(e=x(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),r=this,!(n=t)||"object"!==v(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function k(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?j(Object(o),!0).forEach(function(e){var t,r,n;t=a,n=o[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}var P=function(e){return c.a.createElement("div",{className:"count__label"},e.children,e.clearable&&c.a.createElement("div",{onClick:e.clearSelect},c.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))};function S(e){if(!1!==e.data.selectable)return!0===e.data.divider?c.a.createElement(c.a.Fragment,null,c.a.createElement("hr",{style:{margin:"3px 0px 0px 0px"}}),c.a.createElement(h.a,e)):c.a.createElement(h.a,e);e.children;var t=e.className,r=e.cx,n=e.getStyles,a=(e.Heading,e.setValue,e.data,e.label,e.getValue,e.theme),o=(e.selectProps.getOptionValue,{getStyles:n,cx:r,theme:a,indeterminate:!1,checked:!1});return c.a.createElement("div",{className:r(Object(y.css)(n("group",e)),{group:!0},t)},c.a.createElement("div",{className:r(Object(y.css)(n("groupHeading",k({},o))),{"group-heading":!0},t)},e.data.label),c.a.createElement("div",null,e.children))}var N=Object(b.c)(a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(o,c.a.Component);var e,t,r,n=w(o);function o(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(a=n.call(this,e)).clearSelect=function(e){e.stopPropagation(),a.props.onChange([])},a.makeLabel=function(e){var t=e.placeholderButtonLabel,r=e.value;if(!r)return c.a.createElement(P,{clearable:!1},t);if(Array.isArray(r)){var n=r.filter(function(e){return!e.noList});return 0===n.length?c.a.createElement(P,{clearable:!1},t):1===n.length?c.a.createElement(P,{clearable:!0,clearSelect:a.clearSelect},n[0].label):c.a.createElement(P,{clearable:!0,clearSelect:a.clearSelect},"".concat(n.length," ",gettext("selected")))}return c.a.createElement(P,{clearable:!1},r.label)},a}return e=o,(t=[{key:"render",value:function(){return c.a.createElement(g.a,_({},this.props,{placeholder:gettext("Search"),placeholderButtonLabel:this.props.placeholder,getDropdownButtonLabel:this.makeLabel,components:{MenuList:f,Group:S}}))}}])&&E(e.prototype,t),r&&E(e,r),o}())||a;t.a=N},tnXs:function(e,t,r){"use strict";var n=r("q1tI"),c=r.n(n);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(o){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,a=f(o);return t=i?(e=f(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),r=this,!(n=t)||"object"!==l(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(a,c.a.Component);var e,t,r,n=p(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=n.call(this,e)).updateDimensions=function(){t.state.folded||t.state.folding||t.setState(function(){return{resize:!0}},function(){t.contentWidth=t.contentsContainer.current.offsetWidth,t.setState({resize:!1})})},t.state={folding:!1,folded:!1,resize:!1},t.contentsContainer=c.a.createRef(),t}return e=a,(t=[{key:"componentDidMount",value:function(){this.contentWidth=this.contentsContainer.current.offsetWidth,window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"toggleFolded",value:function(){this.state.folding?this.foldComplete():this.setState({folding:!0,folded:!this.state.folded})}},{key:"foldComplete",value:function(){this.setState(function(){return{folding:!1}},this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=u(t,["className"]),a=this.state.folded?this.state.folding?"fa-angle-double-left":"fa-chevron-right":this.state.folding?"fa-angle-double-right":"fa-chevron-left",o=this.state.folded?"0px":this.state.resize?"auto":this.contentWidth+"px",i=this.state.folded||this.state.folding?"hidden":"visible";return c.a.createElement("div",s({className:"folding-sidebar "+(r||"")},n),c.a.createElement("div",{className:"folding-sidebar__contents",onTransitionEnd:function(){return e.foldComplete()},ref:this.contentsContainer,style:{width:o,overflow:i}},c.a.createElement(c.a.Fragment,null,this.props.children)),c.a.createElement("div",{className:"folding-sidebar__trigger",onClick:function(){return e.toggleFolded()}},c.a.createElement("i",{key:a},c.a.createElement("span",{className:"fa "+a}))))}}])&&o(e.prototype,t),r&&o(e,r),a}();t.a=a},v38i:function(e,t,r){"use strict";var n;r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"l",function(){return c}),r.d(t,"i",function(){return l}),r.d(t,"k",function(){return s}),r.d(t,"f",function(){return u}),r.d(t,"m",function(){return p}),r.d(t,"j",function(){return f}),r.d(t,"d",function(){return m}),r.d(t,"e",function(){return g}),r.d(t,"g",function(){return h}),r.d(t,"h",function(){return y});var a={value:null,label:"---------"},o="—",i=o,c=1,l=2,s=[3,4,5,6,7],u=[1,2],p=Object.freeze({1:gettext("Life of Program (LoP) only"),2:gettext("Midline and endline"),3:gettext("Annual"),4:gettext("Semi-annual"),5:gettext("Tri-annual"),6:gettext("Quarterly"),7:gettext("Monthly")}),f=Object.freeze({3:gettext("Years"),4:gettext("Semi-annual periods"),5:gettext("Tri-annual periods"),6:gettext("Quarters"),7:gettext("Months")}),m=1,g=2;var d,h=Object.freeze({noFilter:0,missingTarget:1,missingResults:2,missingEvidence:3,aboveTarget:5,belowTarget:6,onTarget:7,nonReporting:8}),y=null!==(d="reason_for_change_options",n="undefined"!=typeof JS_GLOBALS&&JS_GLOBALS.hasOwnProperty(d)?JS_GLOBALS[d]:null)&&void 0!==n?n:[]}},[["1faY",0,1]]]);